-----
### ì—”í‹°í‹° í´ë˜ìŠ¤ ê°œë°œ
-----
1. ì˜ˆì œì—ì„œëŠ” ì„¤ëª…ì„ ì‰½ê²Œ í•˜ê¸° ìœ„í•´ ì—”í‹°í‹° í´ë˜ìŠ¤ì— Getter, Setterë¥¼ ëª¨ë‘ ì„¤ì •í•˜ê³ , ìµœëŒ€í•œ ë‹¨ìˆœí•˜ê²Œ ì„¤ê³„
2. ğŸ’¡ğŸ’¡ğŸ’¡ í•˜ì§€ë§Œ, ì‹¤ë¬´ì—ì„œëŠ” ê°€ê¸‰ì  Getterë§Œ ì—´ì–´ë‘ê³ , SetterëŠ” ê¼­ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒ ì¶”ì²œ
3. ğŸ’¡ ì´ë¡ ì ìœ¼ë¡œ Getter, Setter ëª¨ë‘ ì œê³µí•˜ì§€ ì•Šê³ , ê¼­ í•„ìš”í•œ ë³„ë„ì˜ ë©”ì„œë“œë¥¼ ì œê³µí•˜ëŠ”ê²Œ ê°€ì¥ ì´ìƒì 
   - í•˜ì§€ë§Œ, ì‹¤ë¬´ì—ì„œëŠ” ì—”í‹°í‹°ì˜ ë°ì´í„°ëŠ” ì¡°íšŒí•  ì¼ì´ ë„ˆë¬´ ë§ìœ¼ë¯€ë¡œ, Getterì˜ ê²½ìš° ëª¨ë‘ ì—´ì–´ë‘ëŠ” ê²ƒì´ í¸ë¦¬
   - ğŸ’¡ GetterëŠ” í˜¸ì¶œí•˜ë”ë¼ë„ í˜¸ì¶œ í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œëŠ” ì–´ë– í•œ ì¼ë„ ë°œìƒí•˜ì§€ ì•ŠìŒ
   - ğŸ’¡ í•˜ì§€ë§Œ, SetterëŠ” í˜¸ì¶œí•˜ë©´ ë°ì´í„°ê°€ ë³€í•˜ë¯€ë¡œ ë§‰ ì—´ì–´ë‘ê²Œ ëœë‹¤ë©´, ê°€ê¹Œìš´ ë¯¸ë˜ì— ì—”í‹°í‹°ê°€ ë„ëŒ€ì²´ ì™œ ë³€ê²½ë˜ëŠ”ì§€ ì¶”ì í•˜ê¸° ì–´ë ¤ì›Œì§
4. ğŸ’¡ğŸ’¡ğŸ’¡ ë”°ë¼ì„œ, ì—”í‹°í‹°ë¥¼ ë³€ê²½í•  ë•ŒëŠ”, Setter ëŒ€ì‹  ë³€ê²½ ì§€ì ì„ ëª…í™•í•˜ë„ë¡ ë³€ê²½ì„ ìœ„í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë©”ì„œë“œë¥¼ ë³„ë„ë¡œ ì œê³µí•´ì•¼ í•¨

-----
### íšŒì› ì—”í‹°í‹°
-----
```java
package jpabook.jpashop.domain;

import jakarta.persistence.*;
import lombok.Getter;
import lombok.Setter;

import java.util.ArrayList;
import java.util.List;

@Entity
@Getter @Setter
public class Member {

    @Id @GeneratedValue
    @Column(name = "member_id")
    private Long id;

    private String name;

    @Embedded
    private Address address;

    @OneToMany(mappedBy = "member")
    private List<Order> orders = new ArrayList<>();

}
```
  - ì—”í‹°í‹°ì˜ ì‹ë³„ìëŠ” idë¥¼ ì‚¬ìš©í•˜ê³ , PK ì»¬ëŸ¼ëª…ì€ member_id
  - ì—”í‹°í‹°ëŠ” íƒ€ì…(Member)ì´ ìˆìœ¼ë¯€ë¡œ id í•„ë“œë§Œìœ¼ë¡œ ì‰½ê²Œ êµ¬ë¶„ ê°€ëŠ¥
  - í•˜ì§€ë§Œ, í…Œì´ë¸”ì€ íƒ€ì…ì´ ì—†ìœ¼ë¯€ë¡œ êµ¬ë¶„ì´ ì–´ë ¤ì›€
  - ğŸ’¡ ë˜í•œ, í…Œì´ë¸”ì€ ê´€ë¡€ìƒ í…Œì´ë¸”ëª… + idë¥¼ ë§ì´ ì‚¬ìš©
  - ğŸ’¡ ê°ì²´ì—ì„œëŠ” id ëŒ€ì‹  memberIdë¥¼ ì‚¬ìš©í•´ë„ ë¨
  - ì¦‰, ì¼ê´€ì„±ì´ ì¤‘ìš”

-----
### ì£¼ë¬¸ ì—”í‹°í‹°
-----
```java
package jpabook.jpashop.domain;

import jakarta.persistence.*;
import lombok.Getter;
import lombok.Setter;

import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;

@Entity
@Table(name = "orders")
@Getter @Setter
public class Order {

    @Id @GeneratedValue
    @Column(name = "order_id")
    private Long id;

    @ManyToOne
    @JoinColumn(name = "member_id")
    private Member member;

    @OneToMany(mappedBy = "order")
    private List<OrderItem> orderItems = new ArrayList<>();

    @OneToOne
    @JoinColumn(name = "delivery_id")
    private Delivery delivery;

    private LocalDateTime orderDate;

    @Enumerated(EnumType.STRING)
    private OrderStatus status; // ì£¼ë¬¸ìƒíƒœ [ORDER, CANCEL]
}
```

-----
### ì£¼ë¬¸ ìƒíƒœ
-----
```java
package jpabook.jpashop.domain;

public enum OrderStatus {
    ORDER, CANCEL
}
```

-----
### ì£¼ë¬¸ìƒí’ˆ ì—”í‹°í‹°
-----
```java
package jpabook.jpashop.domain;

import jakarta.persistence.*;
import jpabook.jpashop.domain.item.Item;
import lombok.Getter;
import lombok.Setter;

@Entity
@Table(name = "order_item")
@Getter @Setter
public class OrderItem {

    @Id @GeneratedValue
    @Column(name = "order_item_id")
    private Long id;

    @ManyToOne
    @JoinColumn(name = "item_id")
    private Item item;

    @ManyToOne
    @JoinColumn(name = "order_id")
    private Order order;

    private int orderPrice; // ì£¼ë¬¸ ê°€ê²©
    private int count; // ì£¼ë¬¸ ìˆ˜ëŸ‰
}
```

-----
### ìƒí’ˆ ì—”í‹°í‹°
-----
```java
package jpabook.jpashop.domain.item;

import jakarta.persistence.*;
import jpabook.jpashop.domain.Category;
import lombok.Getter;
import lombok.Setter;

import java.util.ArrayList;
import java.util.List;

@Entity
@Getter @Setter
@Inheritance(strategy = InheritanceType.SINGLE_TABLE)
@DiscriminatorColumn(name = "dtype")
public abstract class Item {

    @Id @GeneratedValue
    @Column(name = "item_id")
    private Long id;

    private String name;
    private int price;
    private int stockQuantity;

    @ManyToMany(mappedBy = "items")
    private List<Category> categories = new ArrayList<>();
}
```

1. ìƒí’ˆ - ë„ì„œ ì—”í‹°í‹°
```java
package jpabook.jpashop.domain.item;

import jakarta.persistence.DiscriminatorValue;
import jakarta.persistence.Entity;
import lombok.Getter;
import lombok.Setter;

@Entity
@Getter @Setter
@DiscriminatorValue("B")
public class Book extends Item {

    private String autor;
    private String isbn;
}
```

2. ìƒí’ˆ - ìŒë°˜ ì—”í‹°í‹°
```java
package jpabook.jpashop.domain.item;

import jakarta.persistence.DiscriminatorValue;
import jakarta.persistence.Entity;
import jakarta.persistence.MappedSuperclass;
import lombok.Getter;
import lombok.Setter;

@Entity
@Getter @Setter
@DiscriminatorValue("A")
public class Album extends Item {

    private String artist;
    private String etc;
}
```

3. ìƒí’ˆ - ì˜í™” ì—”í‹°í‹°
```java
package jpabook.jpashop.domain.item;

import jakarta.persistence.DiscriminatorValue;
import jakarta.persistence.Entity;
import lombok.Getter;
import lombok.Setter;

@Entity
@Getter @Setter
@DiscriminatorValue("M")
public class Movie extends Item {

    private String director;
    private String actor;

}
```

-----
### ë°°ì†¡ ì—”í‹°í‹°
-----
```java
package jpabook.jpashop.domain;

import jakarta.persistence.*;
import lombok.Getter;
import lombok.Setter;

@Entity
@Getter @Setter
public class Delivery {

    @Id @GeneratedValue
    @Column(name = "delivery_id")
    private Long id;

    @OneToOne(mappedBy = "delivery")
    private Order order;

    @Embedded
    private Address address;

    @Enumerated(EnumType.STRING)
    private DeliveryStatus status; // DELIVERY, COMP
}
```

-----
### ë°°ì†¡ ìƒíƒœ
-----
```java
package jpabook.jpashop.domain;

public enum DeliveryStatus {
    DELIVERY, COMP
}
```

-----
### ì¹´í…Œê³ ë¦¬ ì—”í‹°í‹°
-----
```java
package jpabook.jpashop.domain;

import jakarta.persistence.*;
import jpabook.jpashop.domain.item.Item;
import lombok.Getter;
import lombok.Setter;

import java.util.ArrayList;
import java.util.List;

@Entity
@Getter @Setter
public class Category {

    @Id @GeneratedValue
    @Column(name = "category_id")
    private Long id;

    private String name;

    @ManyToMany
    @JoinTable(name = "category_item",
                joinColumns = @JoinColumn(name = "catergory_id"),
                inverseJoinColumns = @JoinColumn(name = "item_id"))
    private List<Item> items = new ArrayList<>();

    @ManyToOne
    @JoinColumn(name = "parent_id")
    private Category parent;

    @OneToMany(mappedBy = "parent")
    private List<Category> child = new ArrayList<>();
}
```
1. ğŸ’¡ ì‹¤ë¬´ì—ì„œëŠ” @ManyToManyë¥¼ ì‚¬ìš©í•˜ì§€ ë§ ê²ƒ
   - í¸ë¦¬í•´ë³´ì´ì§€ë§Œ, ì¤‘ê°„ í…Œì´ë¸”(CATEGORY_ITEM)ì— ì»¬ëŸ¼ì„ ì¶”ê°€í•  ìˆ˜ ì—†ìŒ
   - ì„¸ë°€í•˜ê²Œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê¸° ì–´ë µê¸° ë•Œë¬¸ì—, ì‹¤ë¬´ì—ì„œ ì‚¬ìš©í•˜ê¸°ì—ëŠ” í•œê³„ ì¡´ì¬

2. ğŸ’¡ ë”°ë¼ì„œ, ì¤‘ê°„ ì—”í‹°í‹°(CategoryItem)ì„ ë§Œë“¤ê³ , @ManyToOne, @OneToManyë¡œ ë§¤í•‘í•´ì„œ ì‚¬ìš©í•  ê²ƒ
3. ğŸ’¡ ì¦‰, ë‹¤ëŒ€ë‹¤ ë§¤í•‘ì„ ì¼ëŒ€ë‹¤, ë‹¤ëŒ€ì¼ ë§¤í•‘ìœ¼ë¡œ í’€ì–´ë‚´ì„œ ì‚¬ìš©

-----
### ì£¼ì†Œ ê°’ íƒ€ì…
-----
```java
package jpabook.jpashop.domain;

import jakarta.persistence.Embeddable;
import lombok.Getter;
import lombok.Setter;

@Embeddable
@Getter
public class Address {

    private String city;
    private String street;
    private String zipcode;

    protected Address() { // ê¸°ë³¸ ìƒì„±ì í•„ìš” (JPA ìŠ¤í™ : protected ê¹Œì§€ í—ˆìš©)
    }

    public Address(String city, String street, String zipcode) {
        this.city = city;
        this.street = street;
        this.zipcode = zipcode;
    }
}
```
1. ê°’ íƒ€ì…ì€ ë³€ê²½ ë¶ˆê°€ëŠ¥í•˜ê²Œ ì„¤ê³„í•´ì•¼ í•¨
2. ğŸ’¡ @Setterë¥¼ ì œê±°í•˜ê³ , ìƒì„±ìì—ì„œ ëª¨ë‘ ì´ˆê¸°í™”í•´ì„œ ë³€ê²½ ë¶ˆê°€ëŠ¥í•œ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•¨
3. ğŸ’¡ JPA ìŠ¤í™ìƒ ì—”í‹°í‹°ë‚˜ ì„ë² ë””ë“œ íƒ€ì…(@Embeddable)ì€ ìë°” ê¸°ë³¸ ìƒì„±ì(Default Constructor)ë¥¼ public ë˜ëŠ” protectedë¡œ ì„¤ì •í•´ì•¼ í•¨
  - public ë³´ë‹¤ëŠ” protectedë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ê·¸ë‚˜ë§ˆ ë” ì•ˆì „í•¨
4. ğŸ’¡ JPAê°€ ì´ëŸ° ì œì•½ì„ ë‘ëŠ” ì´ìœ ëŠ” JPA êµ¬í˜„ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ë¦¬í”Œë ‰ì…˜ì´ë‚˜ í”„ë¡ì‹œ ê°™ì€ ê¸°ìˆ ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì„

-----
### ì—”í‹°í‹° ì„¤ê³„ ì‹œ ì£¼ì˜ì 
-----
1. ğŸ’¡ ì—”í‹°í‹°ì—ëŠ” ê°€ê¸‰ì  Setterë¥¼ ì‚¬ìš©í•˜ì§€ ë§ ê²ƒ
   - ë³€ê²½ í¬ì¸íŠ¸ê°€ ë„ˆë¬´ ë§ì•„ì„œ ìœ ì§€ë³´ìˆ˜ í•˜ê¸° ì–´ë ¤ì›€
   - ì¶”í›„ì— ë¦¬íŒ©í† ë§ìœ¼ë¡œ Setter ì œê±°

2. ğŸ’¡ğŸ’¡ğŸ’¡ ëª¨ë“  ì—°ê´€ê´€ê³„ëŠ” ì§€ì—°ë¡œë”©ìœ¼ë¡œ ì„¤ì •
   - ì¦‰ì‹œë¡œë”©(EAGER)ëŠ” ì˜ˆì¸¡ì´ ì–´ë µê³ , ì–´ë–¤ SQLì´ ì‹¤í–‰ë ì§€ ì¶”ì í•˜ê¸° ì–´ë ¤ì›€
   - ğŸ’¡ íŠ¹íˆ, JPQLì„ ì‹¤í–‰í•  ë•Œ N + 1 ë¬¸ì œê°€ ìì£¼ ë°œìƒ
   - ğŸ’¡ ì‹¤ë¬´ì—ì„œ ëª¨ë“  ì—°ê´€ê´€ê³„ëŠ” ì§€ì—°ë¡œë”©(LAZY)ë¡œ ì„¤ì •í•´ì•¼í•¨
   - ğŸ’¡ğŸ’¡ğŸ’¡ ì—°ê´€ëœ ì—”í‹°í‹°ë¥¼ í•¨ê»˜ DBì—ì„œ ì¡°íšŒí•´ì•¼ í•˜ë©´, FETCH JOIN ë˜ëŠ” ì—”í‹°í‹° ê·¸ë˜í”„ ê¸°ëŠ¥ ì‚¬ìš©
   - ğŸ’¡ğŸ’¡ğŸ’¡ @XToOne(OneToOne, ManyToOne) ê´€ê³„ëŠ” ê¸°ë³¸ì´ ì¦‰ì‹œë¡œë”©ì´ë¯€ë¡œ ì§ì ‘ ì§€ì—° ë¡œë”©ìœ¼ë¡œ ì„¤ì •
```java
public @interface ManyToOne {
    ...

    FetchType fetch() default FetchType.EAGER;

    ...
}

public @interface OneToOne {
    ...

    FetchType fetch() default FetchType.EAGER;

    ...
}
```

  - Order
```java
package jpabook.jpashop.domain;

import jakarta.persistence.*;
import lombok.Getter;
import lombok.Setter;

import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;

@Entity
@Table(name = "orders")
@Getter @Setter
public class Order {

    @Id @GeneratedValue
    @Column(name = "order_id")
    private Long id;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "member_id")
    private Member member;

    @OneToMany(mappedBy = "order")
    private List<OrderItem> orderItems = new ArrayList<>();

    @OneToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "delivery_id")
    private Delivery delivery;

    private LocalDateTime orderDate;

    @Enumerated(EnumType.STRING)
    private OrderStatus status; // ì£¼ë¬¸ìƒíƒœ [ORDER, CANCEL]
}
```

  - OrderItem
```java
package jpabook.jpashop.domain;

import jakarta.persistence.*;
import jpabook.jpashop.domain.item.Item;
import lombok.Getter;
import lombok.Setter;

@Entity
@Table(name = "order_item")
@Getter @Setter
public class OrderItem {

    @Id @GeneratedValue
    @Column(name = "order_item_id")
    private Long id;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "item_id")
    private Item item;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "order_id")
    private Order order;

    private int orderPrice; // ì£¼ë¬¸ ê°€ê²©
    private int count; // ì£¼ë¬¸ ìˆ˜ëŸ‰
}
```

  - Delivery
```java
package jpabook.jpashop.domain;

import jakarta.persistence.*;
import lombok.Getter;
import lombok.Setter;

@Entity
@Getter @Setter
public class Delivery {

    @Id @GeneratedValue
    @Column(name = "delivery_id")
    private Long id;

    @OneToOne(mappedBy = "delivery", fetch = FetchType.LAZY)
    private Order order;

    @Embedded
    private Address address;

    @Enumerated(EnumType.STRING)
    private DeliveryStatus status; // DELIVERY, COMP
}
```

  - Category
```java
package jpabook.jpashop.domain;

import jakarta.persistence.*;
import jpabook.jpashop.domain.item.Item;
import lombok.Getter;
import lombok.Setter;

import java.util.ArrayList;
import java.util.List;

@Entity
@Getter @Setter
public class Category {

    @Id @GeneratedValue
    @Column(name = "category_id")
    private Long id;

    private String name;

    @ManyToMany
    @JoinTable(name = "category_item",
                joinColumns = @JoinColumn(name = "catergory_id"),
                inverseJoinColumns = @JoinColumn(name = "item_id"))
    private List<Item> items = new ArrayList<>();

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "parent_id")
    private Category parent;

    @OneToMany(mappedBy = "parent")
    private List<Category> child = new ArrayList<>();
}
```

3. ğŸ’¡ğŸ’¡ğŸ’¡ ì»¬ë ‰ì…˜ì€ í•„ë“œì—ì„œ ì´ˆê¸°í™”
   - ğŸ’¡ ì»¬ë ‰ì…˜ì€ í•„ë“œì—ì„œ ë°”ë¡œ ì´ˆê¸°í™”í•˜ëŠ” ê²ƒì´ ì•ˆì „
   - null ë¬¸ì œì—ì„œ ì•ˆì „
   - ğŸ’¡ HibernateëŠ” ì—”í‹°í‹°ë¥¼ ì˜ì†í™”í•  ë–„, ì»¬ë ‰ì…˜ì„ ê°ì‹¸ì„œ í•˜ì´ë²„ë„¤ì´íŠ¸ê°€ ì œê³µí•˜ëŠ” ë‚´ì¥ ì»¬ë ‰ì…˜ìœ¼ë¡œ ë³€ê²½
   - ğŸ’¡ ë§Œì•½, getOrders() ì²˜ëŸ¼ ì„ì˜ì˜ ë©”ì„œë“œì—ì„œ ì»¬ë ‰ì…˜ì„ ì˜ëª» ìƒì„±í•˜ë©´ í•˜ì´ë²„ë„¤ì´íŠ¸ ë‚´ë¶€ ë©”ì»¤ë‹ˆì¦˜ì— ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ
   - ğŸ’¡ ë”°ë¼ì„œ, í•„ë“œë ˆë²¨ì—ì„œ ìƒì„±í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì•ˆì „í•˜ê³ , ì½”ë“œë„ ê°„ê²°
```java
Member member = new Member();
System.out.println(member.getOrders().getClass());

em.persist(member);
System.out.println(member.getOrders().getClass());
```
```
// ì¶œë ¥ ê²°ê³¼
class java.util.ArrayList
class org.hibernate.collection.internal.PersistentBag // ê¸°ì¡´ ì»¬ë ‰ì…˜ì„ ê°ìŒˆ (í•˜ì´ë²„ë„¤ì´íŠ¸ê°€ ì´ ë³€ê²½ëœ ì»¬ë ‰ì…˜ì„ ì¶”ì í•˜ê¸° ìœ„í•¨)
```

4. í…Œì´ë¸”, ì»¬ëŸ¼ëª… ìƒì„± ì „ëµ
   - ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œ í•˜ì´ë²„ë„¤ì´íŠ¸ ê¸°ë³¸ ë§¤í•‘ ì „ëµì„ ë³€ê²½í•´ì„œ ì‹¤ì œ í…Œì´ë¸” í•„ë“œëª…ì€ ë‹¤ë¦„
     + https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/#howto-configure-hibernate-naming-strategy
     + http://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#naming

   - ğŸ’¡ í•˜ì´ë²„ë„¤ì´íŠ¸ ê¸°ì¡´ êµ¬í˜„ : ì—”í‹°í‹°ì˜ í•„ë“œëª…ì„ ê·¸ëŒ€ë¡œ í…Œì´ë¸” ì»¬ëŸ¼ëª…ìœ¼ë¡œ ì‚¬ìš© (SpringPhysicalNamingStrategy)
   - ğŸ’¡ ìŠ¤í”„ë§ ë¶€íŠ¸ ì‹ ê·œ ì„¤ì • (ì—”í‹°í‹°(í•„ë“œ) â†’ í…Œì´ë¸”(ì»¬ëŸ¼))
     + Camel Case â†’ UnderScore (memberPoint â†’ member_point)
     + .(ì ) â†’ _(ì–¸ë”ìŠ¤ì½”ì–´)
     + ëŒ€ë¬¸ì â†’ ì†Œë¬¸ì

   - ì ìš© 2ë‹¨ê³„
     + ë…¼ë¦¬ëª… ìƒì„± : ëª…ì‹œì ìœ¼ë¡œ ì»¬ëŸ¼, í…Œì´ë¸”ëª…ì„ ì§ì ‘ ì ì§€ ì•Šìœ¼ë©´, ì–´ë–»ê²Œ ìƒì„±í•´ì¤„ì§€ì˜ ì „ëµ - ImplicitNamingStrategy ì‚¬ìš©
       * spring.jpa.hibernate.naming.implicit-strategy : í…Œì´ë¸”ì´ë‚˜ ì»¬ëŸ¼ëª…ì„ ëª…ì‹œí•˜ì§€ ì•Šì„ ë•Œ ë…¼ë¦¬ëª… ì ìš©
     + ë¬¼ë¦¬ëª… ì ìš© : spring.jpa.hibernate.naming.physical-strategy : ëª¨ë“  ë…¼ë¦¬ëª…ì— ì ìš©ë¨. ì‹¤ì œ í…Œì´ë¸”ì— ì ìš© (username â†’ usernm ë“±ìœ¼ë¡œ íšŒì‚¬ ë£°ë¡œ ë³€ê²½ ê°€ëŠ¥)

   - ìŠ¤í”„ë§ ë¶€íŠ¸ ê¸°ë³¸ ì„¤ì •
     + spring.jpa.hibernate.naming.implicit-strategy : org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy 
     + spring.jpa.hibernate.naming.physical-strategy : org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy

5. Persistence Cascade (ì˜ì†ì„± ì „ì´)
  - Order
```java
package jpabook.jpashop.domain;

import jakarta.persistence.*;
import lombok.Getter;
import lombok.Setter;

import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;

@Entity
@Table(name = "orders")
@Getter @Setter
public class Order {

    @Id @GeneratedValue
    @Column(name = "order_id")
    private Long id;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "member_id")
    private Member member;

    @OneToMany(mappedBy = "order", cascade = CascadeType.ALL)
    private List<OrderItem> orderItems = new ArrayList<>();

    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)
    @JoinColumn(name = "delivery_id")
    private Delivery delivery;

    private LocalDateTime orderDate;

    @Enumerated(EnumType.STRING)
    private OrderStatus status; // ì£¼ë¬¸ìƒíƒœ [ORDER, CANCEL]
}
```


6. ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œ (ì¼ë°˜ì ìœ¼ë¡œ ìì£¼ í˜¸ì¶œí•˜ê±°ë‚˜ ì‚¬ìš©ë˜ëŠ” ë¶€ë¶„ì—ì„œ ì ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ)
   - Order
```java
package jpabook.jpashop.domain;

import jakarta.persistence.*;
import lombok.Getter;
import lombok.Setter;

import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;

@Entity
@Table(name = "orders")
@Getter @Setter
public class Order {

    @Id @GeneratedValue
    @Column(name = "order_id")
    private Long id;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "member_id")
    private Member member;

    @OneToMany(mappedBy = "order", cascade = CascadeType.ALL)
    private List<OrderItem> orderItems = new ArrayList<>();

    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)
    @JoinColumn(name = "delivery_id")
    private Delivery delivery;

    private LocalDateTime orderDate;

    @Enumerated(EnumType.STRING)
    private OrderStatus status; // ì£¼ë¬¸ìƒíƒœ [ORDER, CANCEL]

    // == ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œ == //
    public void setMember(Member member) {
        this.member = member;
        member.getOrders().add(this);
    }

    // == ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œ == //
    public void addOrderItem(OrderItem orderItem) {
        orderItems.add(orderItem);
        orderItem.setOrder(this);
    }

    // == ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œ == //
    public void setDelivery(Delivery delivery) {
        this.delivery = delivery;
        delivery.setOrder(this);
    }
}
```

  - Category
```java
package jpabook.jpashop.domain;

import jakarta.persistence.*;
import jpabook.jpashop.domain.item.Item;
import lombok.Getter;
import lombok.Setter;

import java.util.ArrayList;
import java.util.List;

@Entity
@Getter @Setter
public class Category {

    @Id @GeneratedValue
    @Column(name = "category_id")
    private Long id;

    private String name;

    @ManyToMany
    @JoinTable(name = "category_item",
                joinColumns = @JoinColumn(name = "catergory_id"),
                inverseJoinColumns = @JoinColumn(name = "item_id"))
    private List<Item> items = new ArrayList<>();

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "parent_id")
    private Category parent;

    @OneToMany(mappedBy = "parent")
    private List<Category> child = new ArrayList<>();

    // == ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œ == //
    public void addChildCategory(Category child) {
        this.child.add(this);
        child.setParent(this);
    }
}
```
