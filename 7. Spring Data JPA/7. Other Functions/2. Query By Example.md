-----
### Query By Example
-----
1. https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example
2. ì´ë¦„ ê·¸ëŒ€ë¡œ ì¿¼ë¦¬ë¥¼ í•˜ëŠ”ë°, Exampleì— ì˜í•´ ì¿¼ë¦¬ ë°œìƒ
   - JpaRepository
```java
public interface JpaRepository<T, ID> extends ListCrudRepository<T, ID>,
                                              ListPagingAndSortingRepository<T, ID>,
                                              QueryByExampleExecutor<T> { // Example

    ...

}
```

```java
@Test
public void queryByExample() {
    // Given
    Team teamA = new Team("teamA");
    em.persist(teamA);

    Member m1 = new Member("m1", 0, teamA);
    Member m2 = new Member("m2", 0, teamA);
    em.persist(m1);
    em.persist(m2);

    em.flush();
    em.clear();

    // When
    // Probe
    Member member = new Member("m1"); // ë„ë©”ì¸ ê°ì²´ ìì²´ê°€ ê²€ìƒ‰ ì¡°ê±´
    Team team = new Team("teamA"); // ë‚´ë¶€ ì¡°ì¸ìœ¼ë¡œ teamA ê°€ëŠ¥
    member.setTeam(team);

    // ExampleMatcher ìƒì„± (ì—¬ê¸°ì„œëŠ” age í”„ë¡œí¼í‹° ë¬´ì‹œ)
    ExampleMatcher matcher = ExampleMatcher.matching().withIgnorePaths("age");// ageë¼ëŠ” ì†ì„±ì´ ìˆìœ¼ë©´ ë¬´ì‹œí•˜ê³  ë§¤ì¹­

    Example<Member> example = Example.of(member, matcher);// Probe : ë„ë©”ì¸ ê°ì²´ memberê°€ ê²€ìƒ‰ ì¡°ê±´ (ë‹¨, ìœ„ì˜ matcher ì ìš©)

    List<Member> result = memberRepository.findAll(example);

    // Then
    Assertions.assertThat(result.get(0).getUsername()).isEqualTo("m1");
}
```
  - Example.of(Probe, ExampleMatcher) : Probeì™€ ExampleMatcherë¡œ êµ¬ì„±, ì¿¼ë¦¬ ìƒì„±ì— ì‚¬ìš©
     + Probe : í•„ë“œì— ë°ì´í„°ê°€ ìˆëŠ” ì‹¤ì œ ë„ë©”ì¸ ê°ì²´
     + ExampleMatcher : íŠ¹ì • í•„ë“œë¥¼ ì¼ì¹˜ì‹œí‚¤ëŠ” ìƒì„¸í•œ ì •ë³´ ê°€ëŠ¥, ì¬ì‚¬ìš© ê°€ëŠ¥
    
```
select
    m1_0.member_id,
    m1_0.age,
    m1_0.create_date,
    m1_0.last_modified_date,
    m1_0.team_id,
    m1_0.username 
from
    member m1_0 
join
    team t1_0 
        on t1_0.team_id=m1_0.team_id 
where
    m1_0.username=? 
    and t1_0.name=?

select
    m1_0.member_id,
    m1_0.age,
    m1_0.create_date,
    m1_0.last_modified_date,
    m1_0.team_id,
    m1_0.username 
from
    member m1_0 
join
    team t1_0 
        on t1_0.team_id=m1_0.team_id 
where
    m1_0.username='m1' 
    and t1_0.name='teamA'
```

3. ì¥ì 
   - ë™ì  ì¿¼ë¦¬ë¥¼ í¸ë¦¬í•˜ê²Œ ì²˜ë¦¬
   - ë„ë©”ì¸ ê°ì²´ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©
   - ë°ì´í„° ì €ì¥ì†Œë¥¼ RDBì—ì„œ NoSQLë¡œ ë³€ê²½í•´ë„ ì½”ë“œ ë³€ê²½ ì—†ì´ ì¶”ìƒí™”ê°€ ë˜ì–´ ìˆìŒ
   - ìŠ¤í”„ë§ ë°ì´í„° JPA JpaRepository ì¸í„°í˜ì´ìŠ¤ì— ì´ë¯¸ í¬í•¨

4. ë‹¨ì 
   - ğŸ’¡ ì¡°ì¸ì€ ê°€ëŠ¥í•˜ì§€ë§Œ ë‚´ë¶€ ì¡°ì¸ë§Œ ê°€ëŠ¥(INNER JOIN) / ì™¸ë¶€ ì¡°ì¸(LETF OUTER JOIN)ì€ ì•ˆ ë¨
   - ë‹¤ìŒê³¼ ê°™ì€ ì¤‘ì²© ì œì•½ ì¡°ê±´ ì•ˆë¨
     + firstname = ?0 or (firstname = ?1 and lastname = ?2)
   - ë§¤ì¹­ ì¡°ê±´ì´ ë§¤ìš° ë‹¨ìˆœí•¨
     + ë¬¸ìëŠ” starts, contains, ends, regexë§Œ ì§€ì›
     + ë‹¤ë¥¸ ì†ì„±ì€ ì •í™•í•œ ë§¤ì¹­(=)ë§Œ ì§€ì›

5. ì •ë¦¬
   - ì‹¤ë¬´ì—ì„œ ì‚¬ìš©í•˜ê¸°ì— ë§¤ì¹­ ì¡°ê±´ì´ ë„ˆë¬´ ë‹¨ìˆœí•˜ë©°, LEFT JOIN ë¶ˆê°€
   - ì‹¤ë¬´ì—ì„œëŠ” Querydsl ì‚¬ìš©
