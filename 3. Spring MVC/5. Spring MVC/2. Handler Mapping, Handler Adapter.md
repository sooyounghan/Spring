------
### Controller ì¸í„°í˜ì´ìŠ¤
------
1. ê³¼ê±° ë²„ì „ì˜ ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬
```java
org.springframework.web.servlet.mvc.Controller
```
```java
public interface Controller {
    ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception;
}
```

2. Controller ì¸í„°í˜ì´ìŠ¤ëŠ” @Controller ì• ë„ˆí…Œì´ì…˜ê³¼ ì „í˜€ ë‹¤ë¦„

3. OldController êµ¬í˜„
```java
package hello.servlet.web.springmvc.old;

import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import org.springframework.stereotype.Component;
import org.springframework.web.servlet.ModelAndView;
import org.springframework.web.servlet.mvc.Controller;

@Component("/spring-mvc/old-controller")
public class oldController implements Controller {

    @Override
    public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception {
        System.out.println("oldController.handleRequest");
        return null;
    }
}
```

  - @Component : ì´ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” /spring-mvc/old-controller ë¼ëŠ” ì´ë¦„ì˜ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡
  - ğŸ’¡ ë”°ë¼ì„œ, ë¹ˆì˜ ì´ë¦„ìœ¼ë¡œ URLì„ ë§¤í•‘
  - ì‹¤í–‰ : http://localhost:9090/spring-mvc/old-controller
<div align="center">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/0b34821c-9dc2-494b-b865-f5a454386264">
</div>

-----
### ì»¨íŠ¸ë¡¤ëŸ¬ í˜¸ì¶œ êµ¬ì¡°
-----
<div align="center">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/089d825d-d4fa-40e0-af80-a7f21734a1a5">
</div>

1. HandlerMapping (í•¸ë“¤ëŸ¬ ë§¤í•‘)
   - í•¸ë“¤ëŸ¬ ë§¤í•‘ì—ì„œ ì´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ì„ ìˆ˜ ìˆì–´ì•¼ í•¨
   - ì˜ˆ) ìŠ¤í”„ë§ ë¹ˆì˜ ì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ì„ ìˆ˜ ìˆëŠ” í•¸ë“¤ëŸ¬ ë§¤í•‘ í•„ìš”

2. HandlerAdapter (í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°)
   - í•¸ë“¤ëŸ¬ ë§¤í•‘ì„ í†µí•´ì„œ ì°¾ì€ í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ê°€ í•„ìš”
   - ì˜ˆ) Controller ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë¥¼ ì°¾ê³  ì‹¤í–‰í•´ì•¼ í•¨

3. ìŠ¤í”„ë§ì€ ì´ë¯¸ í•„ìš”í•œ í•¸ë“¤ëŸ¬ ë§¤í•‘ê³¼ í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë¥¼ ëŒ€ë¶€ë¶„ êµ¬í˜„í•´ë‘ 
4. ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ìë™ ë“±ë¡í•˜ëŠ” í•¸ë“¤ëŸ¬ ë§¤í•‘ê³¼ í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° (ì‹¤ì œë¡œëŠ” ë” ë§ì§€ë§Œ, ì¤‘ìš”í•œ ë¶€ë¶„ ìœ„ì£¼ í‘œì‹œ)
  - HandlerMapping
```
0 = RequestMappingHandlerMapping   : ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ì¸ @RequestMappingì—ì„œ ì‚¬ìš© 
1 = BeanNameUrlHandlerMapping      : ìŠ¤í”„ë§ ë¹ˆì˜ ì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ëŠ”ë‹¤.
```

  - HandlerAdapter
```
0 = RequestMappingHandlerAdapter   : ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ì¸ @RequestMappingì—ì„œ ì‚¬ìš© 
1 = HttpRequestHandlerAdapter      : HttpRequestHandler ì²˜ë¦¬
2 = SimpleControllerHandlerAdapter : Controller ì¸í„°í˜ì´ìŠ¤(ì• ë…¸í…Œì´ì…˜X, ê³¼ê±°ì— ì‚¬ìš©) ì²˜ë¦¬
```

5. í•¸ë“¤ëŸ¬ ë§¤í•‘ë„, í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë„ ëª¨ë‘ ìˆœì„œëŒ€ë¡œ ì°¾ê³ , ë§Œì•½ ì—†ìœ¼ë©´ ë‹¤ìŒ ìˆœì„œë¡œ ë„˜ì–´ê°

-----
### ìˆœì„œ
-----
1. í•¸ë“¤ëŸ¬ ë§¤í•‘ìœ¼ë¡œ í•¸ë“¤ëŸ¬ ì¡°íšŒ
   - HandlerMappingì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰í•´, í•¸ë“¤ëŸ¬ë¥¼ ì°¾ìŒ
   - ì´ ê²½ìš° ë¹ˆ ì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ì•„ì•¼ í•˜ê¸° ë–„ë¬¸ì—, ì´ë¦„ ê·¸ëŒ€ë¡œ ë¹ˆ ì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ì•„ì£¼ëŠ” BeanNameUrlHandlerMappingì´ ì‹¤í–‰ì— ì„±ê³µ
   - í•¸ë“¤ëŸ¬ì¸ OldController ë°˜í™˜

2. í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì¡°íšŒ
   - HandlerAdapterì˜ supports()ë¥¼ ìˆœì„œëŒ€ë¡œ í˜¸ì¶œ
   - SimpleCotrollerHanlderAdapterê°€ Conroller ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§€ì›í•˜ë¯€ë¡œ ëŒ€ìƒì´ ë¨

3. í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì‹¤í–‰
   - Dispatcher Servletì´ ì¡°íšŒí•œ SimpleControllerHandlerApdaterê°€ ì‹¤í–‰í•˜ë©´ì„œ í•¸ë“¤ëŸ¬ ì •ë³´ë„ í•¨ê»˜ ë„˜ê²¨ ì¤Œ
   - SimpleControllerHandlerAdapterëŠ” í•¸ë“¤ëŸ¬ì¸ OldControllerë¥¼ ë‚´ë¶€ì—ì„œ ì‹¤í–‰í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ ë°˜í™˜

-----
### ì •ë¦¬ - OldController í•¸ë“¤ëŸ¬ ë§¤í•‘, ì–´ëŒ‘í„°
-----
1. HandlerMapping = BeanNameUrlHanlderMapping
2. HandlerAdapter = SimpleControllerHandlerAdapter

-----
### HttpRequestHandler
-----
1. ì„œë¸”ë¦¿ê³¼ ê°€ì¥ ìœ ì‚¬í•œ í˜•íƒœì˜ í•¸ë“¤ëŸ¬
```java
public interface HttpRequestHandler {
    void handleRequest(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException;
}
```

2. êµ¬í˜„
```java
package hello.servlet.web.springmvc.old;

import jakarta.servlet.ServletException;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import org.springframework.stereotype.Component;
import org.springframework.web.HttpRequestHandler;

import java.io.IOException;

@Component("/spring-mvc/request-handler")
public class MyHttpRequestHandler implements HttpRequestHandler {
    @Override
    public void handleRequest(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        System.out.println("MyHttpRequestHandler.handleRequest");
    }
}
```

  - ì‹¤í–‰ : http://localhost:9090/spring-mvc/request-handler
<div align="center">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/f2447d29-f128-4546-aed0-ec84f9f2af14>
</div>

-----
### ìˆœì„œ
-----
1. í•¸ë“¤ëŸ¬ ë§¤í•‘ìœ¼ë¡œ í•¸ë“¤ëŸ¬ ì¡°íšŒ
   - HandlerMappingì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰í•´, í•¸ë“¤ëŸ¬ë¥¼ ì°¾ìŒ
   - ì´ ê²½ìš° ë¹ˆ ì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ì•„ì•¼ í•˜ê¸° ë•Œë¬¸ì—, ì´ë¦„ ê·¸ëŒ€ë¡œ ë¹ˆ ì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ì•„ì£¼ëŠ” BeanNameUrlHandlerMappingê°€ ì‹¤í–‰ì— ì„±ê³µ
   - í•¸ë“¤ëŸ¬ì¸ MyHttpRequestHandler ë°˜í™˜

2. í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì¡°íšŒ
   - HandlerAdapterì˜ supports()ë¥¼ ìˆœì„œëŒ€ë¡œ ì¡°íšŒ
   - HttpRequestHandlerAdatperê°€ HttpRequestHandler ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§€ì›í•˜ë¯€ë¡œ ëŒ€ìƒì´ ë¨

3. í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì‚¬ìš©
   - DispatcherServletì´ ì¡°íšŒí•œ HttpRequestHandlerAdapterë¥¼ ì‹¤í–‰í•˜ë©´ì„œ í•¸ë“¤ëŸ¬ ì •ë³´ë„ í•¨ê»˜ ë„˜ê²¨ì¤Œ
   - HttpRequestHandlerAdapterëŠ” í•¸ë“¤ëŸ¬ì¸ MyHttpRequestHandlerë¥¼ ë‚´ë¶€ì—ì„œ ì‹¤í–‰í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ ë°˜í™˜

-----
### ì •ë¦¬ - MyHttpRequestHandler í•¸ë“¤ëŸ¬ ë§¤í•‘, ì–´ëŒ‘í„°
-----
1. HandlerMapping = BeanNameUrlHandlerMapping
2. HanlderAdapter = HttpRequestHandlerAdapter

-----
### @RequestMapping
-----
1. ê°€ì¥ ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ í•¸ë“¤ëŸ¬ ë§¤í•‘ê³¼ í•¸ë“¤ë§ ì–´ëŒ‘í„°
2. RequestMappingHandlerMapping, RequestMappingHandlerAdapter
   - @RequestMappingì˜ ì•ê¸€ìë¥¼ ë”°ì„œ ë§Œë“  ì´ë¦„
   - í˜„ì¬ ìŠ¤í”„ë§ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì• ë„ˆí…Œì´ì…˜ ê¸°ë°˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì§€ì›í•˜ëŠ” ë§¤í•‘ê³¼ ì–´ëŒ‘í„°
