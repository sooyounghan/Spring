-----
### HTTP ìš”ì²­ ë°ì´í„°
-----
1. HTTP ìš”ì²­ ë©”ì„¸ì§€ë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ë²•ì€ ì£¼ë¡œ 3ê°€ì§€
2. GET - Query Parameter
   - /url?username=hello&age=20
   - Message Body ì—†ì´, URLì˜ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ì— ë°ì´í„°ë¥¼ í¬í•¨í•´ì„œ ì „ë‹¬
   - ì˜ˆ) ê²€ìƒ‰, í•„í„°, í˜ì´ì§• ë“±ì—ì„œ ë§ì´ ì‚¬ìš©í•˜ëŠ” ë°©ì‹

3. POST - HTML FORM
   - Content-Type: application/x-www-form-urlencoded
   - ğŸ’¡ Message Bodyì— ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° í˜•ì‹ìœ¼ë¡œ ì „ë‹¬ (username=hello&age=20)
   - ì˜ˆ) íšŒì› ê°€ì…, ìƒí’ˆ ì£¼ë¬¸, HTML FORM ì‚¬ìš©

4. HTTP Message Bodyì— ë°ì´í„°ë¥¼ ì§ì ‘ ë‹´ì•„ ìš”ì²­
   - HTTP(REST) APIì—ì„œ ì£¼ë¡œ ì‚¬ìš© (JSON, XML, TEXT)
   - ë°ì´í„° í˜•ì‹ì€ ì£¼ë¡œ JSON ì‚¬ìš©
   - POST, PUT, PATCH

-----
### POST - HTML FORM ì˜ˆì‹œ
-----
<div align="center">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/86f6ded7-4675-4769-897c-58e31d7c8292">
</div>

-----
### HTTP ìš”ì²­ ë°ì´í„° - GET ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°
-----
1. ë‹¤ìŒ ë°ì´í„°ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ì „ì†¡í•˜ë‹¤ê³  í•˜ì.
   - username=hello
   - age=20

2. Message Body ì—†ì´, URLì˜ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•´ì„œ ë°ì´í„°ë¥¼ ì „ë‹¬ (ì˜ˆ) ê²€ìƒ‰, í•„í„°, í˜ì´ì§• ë“±ì—ì„œ ë§ì´ ì‚¬ìš©í•˜ëŠ” ë°©ì‹)
3. ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ëŠ” URLì— ?ë¥¼ ì‹œì‘í•´ì„œ ë³´ë‚¼ ìˆ˜ ìˆìœ¼ë©°, ì¶”ê°€ íŒŒë¼ë¯¸í„°ëŠ” &ë¡œ êµ¬ë¶„
```html
http://localhost:9090/request-param?username=hello&age=20
```

4. ì„œë²„ì—ì„œëŠ” HttpServletRequestê°€ ì œê³µí•˜ëŠ” ë©”ì„œë“œë¥¼ í†µí•´ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìŒ
```java
String username = request.getParameter("username"); // ë‹¨ì¼ íŒŒë¼ë¯¸í„° ì¡°íšŒ
Enumeration<String> parameterNames = request.getParameterNames(); // íŒŒë¼ë¯¸í„° ì´ë¦„ì„ ëª¨ë‘ ì¡°íšŒ
Map<String, String[]> parameterMap = request.getParameterMap(); // íŒŒë¦¬ë¯¸í„°ë¥¼ Mapìœ¼ë¡œ ì¡°íšŒ
String[] usernames = request.getParameterValues("username"); // ë³µìˆ˜ íŒŒë¼ë¯¸í„° ì¡°íšŒ
```

```java
package hello.servlet.basic.request;

import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;

import java.io.IOException;
import java.util.Enumeration;

/**
 * 1. íŒŒë¼ë¯¸í„° ì „ì†¡ ê¸°ëŠ¥
 * http://localhost:9090/request-param?username=hello&age=20
 * 
 * 2. ë™ì¼í•œ íŒŒë¼ë¯¸í„° ì „ì†¡
 * http://localhost:9090/request-param?username=hello&username=hello2&age=20
 */
@WebServlet(name = "requestParamServlet", urlPatterns = "/request-param")
public class RequestParamServlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        System.out.println("[ì „ì²´ íŒŒë¼ë¯¸í„° ì¡°íšŒ] - Start");
        request.getParameterNames().asIterator()
                .forEachRemaining(paramName -> System.out.println(paramName + "=" + request.getParameter(paramName)));
        System.out.println("[ì „ì²´ íŒŒë¼ë¯¸í„° ì¡°íšŒ] - End");
        System.out.println();

        System.out.println("[ë‹¨ì¼ íŒŒë¼ë¯¸í„° ì¡°íšŒ] - Start");
        String username = request.getParameter("username");
        String age = request.getParameter("age");
        System.out.println("username = " + username);
        System.out.println("age = " + age);
        System.out.println("[ë‹¨ì¼ íŒŒë¼ë¯¸í„° ì¡°íšŒ] - End");
        System.out.println();

        System.out.println("[ì´ë¦„ì´ ê°™ì€ ë³µìˆ˜ íŒŒë¼ë¯¸í„° ì¡°íšŒ]");
        String[] usernames = request.getParameterValues("username");
        for(String name : usernames)
            System.out.println("username = " + name);
        System.out.println();

        response.getWriter().write("Ok");
    }
}
```
<div align="center">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/62422077-0f67-4993-9d75-1e05afe60c6d">
</div>

5. ë³µìˆ˜ íŒŒë¼ë¯¸í„°ì—ì„œ ë‹¨ì¼ íŒŒë¼ë¯¸í„° ì¡°íšŒ
   - username=hello&username=kimê³¼ ê°™ì´ íŒŒë¼ë¯¸í„° ì´ë¦„ì€ í•˜ë‚˜ì¸ë°, ê°’ì´ ì¤‘ë³µì¼ ë•Œ?
   - request.getParameter()ëŠ” í•˜ë‚˜ì˜ íŒŒë¼ë¯¸í„° ì´ë¦„ì— ëŒ€í•´ ë‹¨ í•˜ë‚˜ì˜ ê°’ë§Œ ìˆì„ ë•Œ, ì‚¬ìš©
   - ğŸ’¡ ì¤‘ë³µì¼ ê²½ìš°, request.getParameterValues() ì‚¬ìš©
   - ì°¸ê³ ë¡œ, ì´ë ‡ê²Œ ì¤‘ë³µì¼ ê²½ìš°, request.getParameter()ë¥¼ ì‚¬ìš©í•˜ë©´ request.getParameterValues()ì˜ ì²« ë²ˆì§¸ ê°’ ë°˜í™˜
   
-----
### HTTP ìš”ì²­ ë°ì´í„° - POST HTML Form
-----
1. HTML Formì„ ì‚¬ìš©í•˜ë©´, í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡ ê°€ëŠ¥ (ì˜ˆ) ì£¼ë¡œ íšŒì› ê°€ì…, ìƒí’ˆ ì£¼ë¬¸ ë“±ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹)
2. íŠ¹ì§•
   - Content-Type: x-www-form-urlencoded
   - Message Bodyì— ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° í˜•ì‹ìœ¼ë¡œ ë°ì´í„° ì „ë‹¬ (username=hello&age=20)

3. src/main/webapp/basic/hello-form.html ìƒì„±
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<form action="/request-param" method="post">
    username: <input type="text" name="username" /> 
    age:      <input type="text" name="age" /> 
    <button type="submit">ì „ì†¡</button>
</form> 
</body> 
</html>
```
   - ì‹¤í–‰
```html
http://localhost:9090/basic/hello-form.html
```
   - ì›¹ ë¸Œë¼ìš°ì € ê²°ê³¼ë¥¼ ìºì‹œí•˜ê³  ìˆì–´ì„œ, ê³¼ê±°ì— ì‘ì„±í•œ html ê²°ê³¼ê°€ ë³´ì´ëŠ” ê²½ìš° ì¡´ì¬
   - ì´ëŸ´ ë•ŒëŠ”, ì›¹ ë¸Œë¼ìš°ì €ì˜ ìƒˆë¡œ ê³ ì¹¨ì„ ì§ì ‘ ì„ íƒí•´ì£¼ë©´ ë¨ (ë¬¼ë¡ , ì„œë²„ë¥¼ ì¬ì‹œì‘ í•˜ì§€ ì•Šì•„ ê·¸ëŸ´ ìˆ˜ ìˆìŒ)


4. POSTì˜ HTML Formì„ ì „ì†¡í•˜ë©´ ì›¹ ë¸Œë¼ìš°ì €ëŠ” ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ HTTP ë©”ì„¸ì§€ë¥¼ ë§Œë“¬ (ì›¹ ë¸Œë¼ìš°ì €ì˜ ê°œë°œì ëª¨ë“œ í™•ì¸)
<div align="center">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/81a5252f-0a59-4ef8-9e16-e0274948bc47">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/b9632a67-dce3-4377-ae17-8e52bdc5cbc4">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/79a7ba51-8eea-4be4-a39b-8e4a44a34246">
</div>

   - ìš”ì²­ URL : http://localhost:9090/request-param
   - Content-Type: x-www-form-urlencoded
   - Message Body: username=kim&age=20

5. application/x-www-urlencoded í˜•ì‹ì€ GETì—ì„œ ì‚´í´ë³¸ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° í˜•ì‹ê³¼ ê°™ìŒ
   - ë”°ë¼ì„œ, ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ì¡°íšŒ ë©”ì„œë“œë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë©´ ë¨
   - ğŸ’¡ í´ë¼ì´ì–¸íŠ¸(ì›¹ ë¸Œë¼ìš°ì €) ì…ì¥ì—ì„œëŠ” ë‘ ë°©ì‹ì— ì°¨ì´ê°€ ìˆì§€ë§Œ, ì„œë²„ ì…ì¥ì—ì„œëŠ” ë‘˜ì˜ í˜•ì‹ì´ ë™ì¼í•˜ë¯€ë¡œ, request.getParameter()ë¡œ í¸ë¦¬í•˜ê²Œ êµ¬ë¶„ ì—†ì´ ì¡°íšŒ ê°€ëŠ¥

6. ğŸ’¡ ì¦‰, request.getParameter()ëŠ” GET URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° í˜•ì‹ë„ ì§€ì›í•˜ê³ , POST HTML Form í˜•ì‹ë„ ë‘˜ ë‹¤ ì§€ì›
7. Content-Typeì€ HTTP ë©”ì„¸ì§€ ë°”ë””ì˜ ë°ì´í„° í˜•ì‹ì„ ì§€ì •
   - GET URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° í˜•ì‹ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë¹„ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ë•ŒëŠ” HTTP ë©”ì„¸ì§€ ë°”ë””ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ Content-Typeì´ ì—†ìŒ
   - POST HTML Form í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ë©´, HTTP ë©”ì„¸ì§€ ë°”ë””ì— í•´ë‹¹ ë°ì´í„°ë¥¼ í¬í•¨í•´ì„œ ë³´ë‚´ê¸° ë•Œë¬¸ì—, Bodyì— í¬í•¨ëœ ë°ì´í„°ê°€ ì–´ë–¤ í˜•ì‹ì¸ì§€ Content-Typeìœ¼ë¡œ ê¼­ ì§€ì •í•´ì•¼ í•¨
     + ì´ë ‡ê²Œ í¼ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” í˜•ì‹ì„ application/x-www-urlencodedë¼ê³  í•¨

-----
### Postmanì„ ì´ìš©í•œ í…ŒìŠ¤íŠ¸
-----
1. ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ì—ì„œ HTML Formì„ ë§Œë“¤ê¸°ë³´ë‹¤, Postman ì‚¬ìš© ê°€ëŠ¥
2. Postman í…ŒìŠ¤íŠ¸ ì£¼ì˜ ì‚¬í•­ (POST ì „ì†¡ ì‹œ)
   - Body : x-www-form-urlencoded ì„ íƒ
   - Headersì—ì„œ Content-Type: applicaiton/x-www-form-urlencodedë¡œ ì§€ì •ëœ ë¶€ë¶„ í™•ì¸
<div align="center">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/3f79a203-8edd-4f4b-8faa-892ffbf4aa66">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/40b9343f-4a6d-44aa-ad7f-4dff9ed5ef79">
</div>

-----
### HTTP ìš”ì²­ ë°ì´í„° - API Message Body - ë‹¨ìˆœ í…ìŠ¤íŠ¸
-----
1. HTTP Message Bodyì— ë°ì´í„°ë¥¼ ì§ì ‘ ë‹´ì•„ì„œ ìš”ì²­
   - HTTP APIì—ì„œ ì£¼ë¡œ ì‚¬ìš© (XML, JSON, TEXT)
   - ë°ì´í„° í˜•ì‹ì€ ì£¼ë¡œ JSON ì‚¬ìš©
   - POST, PUT, PATCH 3ê°€ì§€ì—ì„œ ì£¼ë¡œ ì‚¬ìš©

2. ë¨¼ì € ê°€ì¥ ë‹¨ìˆœí•œ í…ìŠ¤íŠ¸ ë©”ì„¸ì§€ë¥¼ HTTP ë©”ì„¸ì§€ ë°”ë””ì— ë‹´ì•„ì„œ ì „ì†¡í•˜ê³ , ì½ì–´ë³¼ ì˜ˆì •
3. ğŸ’¡ HTTP Message Bodyì˜ ë°ì´í„°ë¥¼ InputStreamì„ ì‚¬ìš©í•´ ì§ì ‘ ì½ì„ ìˆ˜ ìˆìŒ
```java
package hello.servlet.basic.request;

import jakarta.servlet.ServletException;
import jakarta.servlet.ServletInputStream;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import org.springframework.util.StreamUtils;

import java.io.IOException;
import java.nio.charset.StandardCharsets;

@WebServlet(name = "requestBodyStringServlet", urlPatterns = "/request-body-string")
public class RequestBodyStringServlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        ServletInputStream inputStream = request.getInputStream(); // Request ìš”ì²­ ë©”ì„¸ì§€ë¥¼ InputStreamìœ¼ë¡œ ì–»ìŒ
        String messageBody = StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8);
        // InputStreamìœ¼ë¡œ ì–»ì€ Reqeust ìš”ì²­ ë©”ì„¸ì§€ë¥¼ UTF-8 í˜•ì‹ìœ¼ë¡œ ë¬¸ìì—´ í˜•ì‹ìœ¼ë¡œ ë³€í™˜

        System.out.println("messageBody = " + messageBody);

        response.getWriter().write("OK");
    }
}
```
   - InputStreamì€ byte ì½”ë“œë¥¼ ë°˜í™˜ (Byte ì½”ë“œë¥¼ ì½ì„ ìˆ˜ ìˆëŠ” ë¬¸ì(String)ë¡œ ë³´ë ¤ë©´ ë¬¸ìí‘œ(Charset)ì„ ì§€ì •í•´ì¤˜ì•¼ í•¨
   - ì—¬ê¸°ì„œëŠ” StandardCharset.UTF_8ì„ í†µí•´ UTF_8 Charset ì§€ì •

4. Postmanì„ ì´ìš©í•œ í…ŒìŠ¤íŠ¸
   - POST http://localhost:9090/request-body-string
   - Content-Type: text/plain
   - Message-Body: hello
   - ê²°ê³¼ : messageBody = hello
     
<div align="center">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/2dd746dc-8a42-4ef0-8fb9-87072bea9cb1">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/fc982866-be6a-46ed-9bb0-0743b326c912">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/02ab171a-b399-4525-824b-97cb41b044da">
</div>

-----
### HTTP ìš”ì²­ ë°ì´í„° - API Message Body - JSON
-----
1. HTTP APIì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ : JSON
2. JSON í˜•ì‹ ì „ì†¡
   - POST http://localhost:9090/request-body-json
   - Content-Type: application/json
   - Message Body: {"username": "hello", "age": 20}
   - ê²°ê³¼ : messageBody = {"username": "hello", "age": 20}

3. JSON í˜•ì‹ Parsing ì¶”ê°€
   - JSON í˜•ì‹ìœ¼ë¡œ íŒŒì‹±í•  ìˆ˜ ìˆë„ë¡ ê°ì²´ í•˜ë‚˜ ìƒì„±
```java
package hello.servlet.basic;

import lombok.Getter;
import lombok.Setter;

@Getter
@Setter
public class HelloData {
    private String username;
    private int age;
}
```
```java
package hello.servlet.basic.request;

import com.fasterxml.jackson.databind.ObjectMapper;
import hello.servlet.basic.HelloData;
import jakarta.servlet.ServletException;
import jakarta.servlet.ServletInputStream;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import org.springframework.util.StreamUtils;

import java.io.IOException;
import java.nio.charset.StandardCharsets;

/**
 * http://localhost:9090/request-param-json
 *
 * JSON í˜•ì‹ ì „ì†¡
 * - Content-Type: application/json
 * - Message Body: {"username": "hello", "age": 20}
 */
@WebServlet(name = "requestBodyJsonServlet", urlPatterns = "/request-body-json")
public class RequestBodyJsonServlet extends HttpServlet {

    private ObjectMapper objectMapper = new ObjectMapper();

    @Override
    protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        ServletInputStream inputStream = request.getInputStream();
        String messageBody = StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8);

        System.out.println("messageBody = " + messageBody);

        HelloData helloData = objectMapper.readValue(messageBody, HelloData.class);

        System.out.println("helloData.username = " + helloData.getUsername());
        System.out.println("helloData.age = " + helloData.getAge());

        response.getWriter().write("OK");
    }
}
```

4. Postmanìœ¼ë¡œ ì‹¤í–‰
   - POST http://localhost:9090/request-body-json
   - Content-Type: application/json (Body â†’ raw, ê°€ì¥ ë§¨ ì˜¤ë¥¸ìª½ JSON ì„ íƒ)
   - Message Body: {"username": "hello", "age": 20}
<div align="center">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/6e3f4811-f97d-4897-9ed7-2c1c0376fd39">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/8c662c03-f4ba-4234-a866-613789e3f62e">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/31221915-0553-421d-88b3-ad431340530d">
<img src="https://github.com/sooyounghan/Spring/assets/34672301/e3eb741f-3c61-480a-918c-8a24aa271c61">
</div>

5. JSON ê²°ê³¼ë¥¼ íŒŒì‹±í•´ì„œ ì‚¬ìš©í•˜ëŠ” ìë°” ê°ì²´ë¡œ ë³€í™˜í•˜ëŠ” ë°©ë²•
   - Jaskson, Gson ê°™ì€ JSON ë³€í™˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì¶”ê°€í•´ì„œ ì‚¬ìš©í•´ì•¼ í•¨
   - ìŠ¤í”„ë§ ë¶€íŠ¸ë¡œ Spring MVCë¥¼ ì„ íƒí•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ Jackson ë¼ì´ë¸ŒëŸ¬ë¦¬ (ObjectMapper)ë¥¼ í•¨ê»˜ ì œê³µ

6. HTML Form ë°ì´í„°ë„ Message Bodyë¥¼ í†µí•´ ì „ì†¡ë˜ë¯€ë¡œ ì§ì ‘ ì½ì„ ìˆ˜ ìˆìŒ
   - í•˜ì§€ë§Œ, í¸ë¦¬í•œ íŒŒë¼ë¯¸í„° ì¡°íšŒ ê¸°ëŠ¥ (request.getParameter(String name))ì„ ì œê³µí•˜ë¯€ë¡œ íŒŒë¼ë¯¸í„° ì¡°íšŒ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ë¨
