-----
### HTTP ìš”ì²­ ë©”ì„¸ì§€ - í…ìŠ¤íŠ¸
-----
1. HTTP Message Bodyì— ë°ì´í„°ë¥¼ ì§ì ‘ ë‹´ì•„ì„œ ìš”ì²­
   - HTTP APIì— ì£¼ë¡œ ì‚¬ìš© (JSON, XML, TEXT)
   - ë°ì´í„° í˜•ì‹ì€ ì£¼ë¡œ JSON ì‚¬ìš©
   - POST, PUT, PATCH

2. ìš”ì²­ íŒŒë¼ë¯¸í„°ì™€ ë‹¤ë¥´ê²Œ HTTP ë©”ì„¸ì§€ ë°”ë””ë¥¼ í†µí•´ ì§ì ‘ ë„˜ì–´ì˜¤ëŠ” ê²½ìš°, @RequestParam, @ModelAttributeë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ
   - ë¬¼ë¡ , HTML Form í˜•ì‹ìœ¼ë¡œ ì „ë‹¬ë˜ëŠ” ê²½ìš°ëŠ” ìš”ì²­ íŒŒë¼ë¯¸í„°ë¡œ ì¸ì •
   - HTTP ë©”ì„¸ì§€ ë°”ë””ì˜ ë°ì´í„°ë¥¼ InputStreamì„ ì‚¬ìš©í•´ ì§ì ‘ ì½ì„ ìˆ˜ ìˆìŒ

-----
### RequestBodyStringController
-----
```java
package hello.springmvc.basic.request;

import jakarta.servlet.ServletInputStream;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import lombok.extern.slf4j.Slf4j;
import org.springframework.stereotype.Controller;
import org.springframework.util.StreamUtils;
import org.springframework.web.bind.annotation.PostMapping;

import java.io.IOException;
import java.nio.charset.StandardCharsets;

@Slf4j
@Controller
public class RequestBodyStringController {

    @PostMapping("/request-body-string-v1")
    public void requestBodyString(HttpServletRequest request, HttpServletResponse response) throws IOException {
        ServletInputStream inputStream = request.getInputStream();
        String messageBody = StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8);

        log.info("messageBody={}", messageBody);
        response.getWriter().write("OK");
    }
}
```
1. Postmanì„ ì‚¬ìš©í•´ í…ŒìŠ¤íŠ¸
2. POST http://localhost:9090/request-body-string-v1
3. Body - raw, Text ì„ íƒ

-----
### Input, Output Stream, Reader - RequestBodyStringv2
-----
```java
/**
 * InputStream(Reader) : HTTP ìš”ì²­ ë©”ì„¸ì§€ ë°”ë””ì˜ ë‚´ìš© ì§ì ‘ ì¡°íšŒ
 * OutputStream(Writer) : HTTP ì‘ë‹µ ë©”ì„¸ì§€ì˜ ë°”ë””ì— ì§ì ‘ ê²°ê³¼ ì¶œë ¥
 */
@PostMapping("/request-body-string-v2")
public void requestBodyStringV2(InputStream inputStream, Writer responseWriter) throws IOException {
    String messageBody = StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8);

    responseWriter.write("OK");
}
```
1. ìŠ¤í”„ë§ MVCëŠ” ë‹¤ìŒ íŒŒë¼ë¯¸í„° ì§€ì›
2. InputStream(Reader) : HTTP ìš”ì²­ ë©”ì„¸ì§€ ë°”ë””ì˜ ë‚´ìš© ì§ì ‘ ì¡°íšŒ
3. OutputStream(Writer) : HTTP ì‘ë‹µ ë©”ì„¸ì§€ì˜ ë°”ë””ì— ì§ì ‘ ê²°ê³¼ ì¶œë ¥

-----
### HttpEntity - RequestBodyStringV3
-----
```java
/**
 * HttpEntity : Http Header, Body ì •ë³´ë¥¼ í¸ë¦¬í•˜ê²Œ ì¡°íšŒ
 *  - ë©”ì„¸ì§€ ë°”ë”” ì •ë³´ ì§ì ‘ ì¡°íšŒ (@RequestParam X, @ModelAttribute X)
 *  - HttpMessageConverter ì‚¬ìš© -> StringHttpMessageConverter ì ìš©
 *
 *  ì‘ë‹µì—ì„œ HttpEntity ì‚¬ìš© ê°€ëŠ¥
 *   - ë©”ì„¸ì§€ ë°”ë”” ì •ë³´ ì§ì ‘ ë°˜í™˜ (View ì¡°íšŒ X)
 *  - HttpMessageConverter ì‚¬ìš© -> StringHttpMessageConverter ì ìš©
 */
@PostMapping("/request-body-string-v3")
public HttpEntity<String> requestBodyStringV3(HttpEntity<String> httpEntity){
    String messageBody = httpEntity.getBody();

    log.info("messageBody={}", messageBody);
    return new HttpEntity<>("OK");
}
```

1. HttpEntity : HTTP Header, Body ì •ë³´ë¥¼ í¸ë¦¬í•˜ê²Œ ì¡°íšŒ
   - ë©”ì„¸ì§€ ë°”ë”” ì •ë³´ë¥¼ ì§ì ‘ ì¡°íšŒ
   - ğŸ’¡ ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ê³¼ ê´€ê³„ ì—†ìŒ (@ReqeustParam X, @ModelAttribute X)

2. HttpEntityëŠ” ì‘ë‹µì—ë„ ì‚¬ìš© ê°€ëŠ¥
   - ë©”ì„¸ì§€ ë°”ë”” ì •ë³´ ì§ì ‘ ë°˜í™˜
   - í—¤ë” ì •ë³´ í¬í•¨ ê¸°ëŠ¥
   - View ì¡°íšŒí•˜ì§€ ì•ŠìŒ

3. HttpEntityë¥¼ ìƒì†ë°›ì€ ë‹¤ìŒ ê°ì²´ë“¤ë„ ê°™ì€ ê¸°ëŠ¥ ì œê³µ
   - RequestEntity : HttpMethod, URL ì •ë³´ê°€ ì¶”ê°€, ìš”ì²­ì—ì„œ ì‚¬ìš©
   - ResponseEntity : Http ìƒíƒœ ì½”ë“œ ì„¤ì • ê°€ëŠ¥, ì‘ë‹µì—ì„œ ì‚¬ìš©
     + return new ResponseEntity<String>("Hello World", responseHeaders, HttpStatus.CREATED);
```java
    @PostMapping("/request-body-string-v3")
    public HttpEntity<String> requestBodyStringV3(RequestEntity<String> requestEntity){
        String messageBody = requestEntity.getBody();

        log.info("messageBody={}", messageBody);
        return new ResponseEntity<>("OK", HttpStatus.CREATED);
    }
```

4. ìŠ¤í”„ë§ MVC ë‚´ë¶€ì—ì„œ HTTP ë©”ì„¸ì§€ ë°”ë””ë¥¼ ì½ì–´ì„œ ë¬¸ìë‚˜ ê°ì²´ë¡œ ë³€í™˜í•´ì„œ ì „ë‹¬í•´ì¤Œ
   - ì´ ë•Œ, HTTP ë©”ì„¸ì§€ ì»¨ë²„í„°(HttpMessageConverter)ë¼ëŠ” ê¸°ëŠ¥ ì‚¬ìš©

-----
### @RequestBody - RequestBodyStringV4
-----
```java
@ResponseBody
@PostMapping("/request-body-string-v4")
public String requestBodyStringV4(@RequestBody String messageBody) {
    log.info("messageBody={}", messageBody);

    return "OK";
}
```

1. @RequestBody
   - HTTP ë©”ì„¸ì§€ ë°”ë”” ì •ë³´ë¥¼ í¸ë¦¬í•˜ê²Œ ì¡°íšŒ ê°€ëŠ¥
   - ì°¸ê³ ë¡œ, í—¤ë” ì •ë³´ê°€ í•„ìš”í•˜ë‹¤ë©´ HttpEntityë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ @RequestHeaderë¥¼ ì‚¬ìš©í•˜ë©´ ë¨
   - ğŸ’¡ ë©”ì‹œì§€ ë°”ë””ë¥¼ ì§ì ‘ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ì€ ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ì¡°íšŒí•˜ëŠ” @RequestParam, @ModelAttributeì™€ ì „í˜€ ê´€ê³„ê°€ ì—†ìŒ

2. ğŸ’¡ ìš”ì²­ íŒŒë¼ë¯¸í„° - HTTP ë©”ì„¸ì§€ ë°”ë””
   - ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ : @RequestParam, @ModelAttribute
   - HTTP ë©”ì„¸ì§€ ë°”ë””ë¥¼ ì§ì ‘ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ : @RequestBody

3. @ResponseBody
   - ì‘ë‹µ ê²°ê³¼ë¥¼ HTTP ë©”ì„¸ì§€ ë°”ë””ì— ì§ì ‘ ë‹´ì•„ì„œ ì „ë‹¬ ê°€ëŠ¥
   - Viewë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
