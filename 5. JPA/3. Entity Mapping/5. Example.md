-----
### ìš”êµ¬ì‚¬í•­ ë¶„ì„
-----
1. íšŒì›ì€ ìƒí’ˆì„ ì£¼ë¬¸í•  ìˆ˜ ìˆìŒ
2. ì£¼ë¬¸ ì‹œ ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ìƒí’ˆì„ ì„ íƒ ê°€ëŠ¥

-----
### ê¸°ëŠ¥ ëª©ë¡
-----
<div align="center">
<img src="https://github.com/user-attachments/assets/c5694202-fb35-4db4-89e3-ea83b24182b5">
</div>

1. íšŒì› ê¸°ëŠ¥
   - íšŒì› ë“±ë¡
   - íšŒì› ì¡°íšŒ

2. ìƒí’ˆ ê¸°ëŠ¥
   - ìƒí’ˆ ë“±ë¡
   - ìƒí’ˆ ìˆ˜ì •
   - ìƒí’ˆ ì¡°íšŒ

3. ì£¼ë¬¸ ê¸°ëŠ¥
   - ìƒí’ˆ ì£¼ë¬¸
   - ì£¼ë¬¸ ë‚´ì—­ ì¡°íšŒ
   - ì£¼ë¬¸ ì·¨ì†Œ

-----
### ë„ë©”ì¸ ëª¨ë¸ ë¶„ì„
-----
<div align="center">
<img src="https://github.com/user-attachments/assets/8a79a74f-5508-447b-bf44-cf4ff5e6fe51">
</div>

1. íšŒì›ê³¼ ì£¼ë¬¸ì˜ ê´€ê³„ : íšŒì›ì€ ì—¬ëŸ¬ ë²ˆ ì£¼ë¬¸í•  ìˆ˜ ìˆìŒ (ì¼ëŒ€ë‹¤)
2. ì£¼ë¬¸ê³¼ ìƒí’ˆì˜ ê´€ê³„
   - ì£¼ë¬¸í•  ë•Œ, ì—¬ëŸ¬ ìƒí’ˆì„ ì„ íƒí•  ìˆ˜ ìˆìŒ
   - ë°˜ëŒ€ë¡œ, ê°™ì€ ìƒí’ˆë„ ì—¬ëŸ¬ ë²ˆ ì£¼ë¬¸ë  ìˆ˜ ìˆìŒ
   - ğŸ’¡ ì£¼ë¬¸ìƒí’ˆì´ë¼ëŠ” ëª¨ë¸ì„ ë§Œë“¤ì–´ ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ ì¼ë‹¤ëŒ€, ë‹¤ëŒ€ì¼ ê´€ê³„ë¡œ í’€ì–´ëƒ„

-----
### í…Œì´ë¸” ì„¤ê³„
----
<div align="center">
<img src="https://github.com/user-attachments/assets/5ac4bcca-53cd-4919-ab75-45b3145e32cd">
</div>

-----
### ì—”í‹°í‹° ì„¤ê³„ì™€ ë§¤í•‘
-----
<div align="center">
<img src="https://github.com/user-attachments/assets/91657408-3a91-4241-9a67-f766a54cec75">
</div>

-----
### ì½”ë“œ
-----
1. íŒ¨í‚¤ì§€ êµ¬ì¡° : src/main/java/jpabook/jpashop/domain
2. src/main/java/jpabook/jpashop/domain ë‚´ Entity ì‘ì„±
   - Member
```java
package jpabook.jpashop.domain;

import jakarta.persistence.Column;
import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.Id;

@Entity
public class Member {

    @Id @GeneratedValue
    @Column(name = "MEMBER_ID")
    private Long id;
    private String name;
    private String city;
    private String zipcode;

    public void setId(Long id) {
        this.id = id;
    }

    public void setName(String name) {
        this.name = name;
    }

    public void setCity(String city) {
        this.city = city;
    }

    public void setZipcode(String zipcode) {
        this.zipcode = zipcode;
    }

    public Long getId() {
        return id;
    }

    public String getName() {
        return name;
    }

    public String getCity() {
        return city;
    }

    public String getZipcode() {
        return zipcode;
    }
}
```

  - Order
```java
package jpabook.jpashop.domain;

import jakarta.persistence.*;

import java.time.LocalDateTime;

@Entity
@Table(name = "ORDERS")
public class Order {

    @Id @GeneratedValue
    @Column(name = "ORDER_ID")
    private Long id;

    @Column(name = "MEMBER_ID")
    private Long memberId;

    private LocalDateTime orderDate;

    @Enumerated(EnumType.STRING)
    private OrderStatus status;
}
```

  - OrderStatus Enum íƒ€ì…
```java
package jpabook.jpashop.domain;

public enum OrderStatus {
    ORDER, CANCEL // ì£¼ë¬¸, ì·¨ì†Œ
}
```
  - Item
```java
package jpabook.jpashop.domain;

import jakarta.persistence.Column;
import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.Id;

@Entity
public class Item {
    @Id @GeneratedValue
    @Column(name = "ITEM_ID")
    private Long id;

    private String name;
    private int price;
    private int StackQunatity;

    public void setId(Long id) {
        this.id = id;
    }

    public void setName(String name) {
        this.name = name;
    }

    public void setPrice(int price) {
        this.price = price;
    }

    public void setStackQunatity(int stackQunatity) {
        StackQunatity = stackQunatity;
    }

    public Long getId() {
        return id;
    }

    public String getName() {
        return name;
    }

    public int getPrice() {
        return price;
    }

    public int getStackQunatity() {
        return StackQunatity;
    }
}
```
  - OrderItem
```java
package jpabook.jpashop.domain;

import jakarta.persistence.Column;
import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.Id;

@Entity
public class OrderItem {
    @Id @GeneratedValue
    @Column(name = "ORDER_ITEM_ID")
    private Long id;

    @Column(name = "ORDER_ID")
    private Long orderId;

    @Column(name = "ITEM_ID")
    private Long itemId;

    private int orderPrice;
    private int count;

    public void setId(Long id) {
        this.id = id;
    }

    public void setOrderId(Long orderId) {
        this.orderId = orderId;
    }

    public void setItemId(Long itemId) {
        this.itemId = itemId;
    }

    public void setOrderPrice(int orderPrice) {
        this.orderPrice = orderPrice;
    }

    public void setCount(int count) {
        this.count = count;
    }

    public Long getId() {
        return id;
    }

    public Long getOrderId() {
        return orderId;
    }

    public Long getItemId() {
        return itemId;
    }

    public int getOrderPrice() {
        return orderPrice;
    }

    public int getCount() {
        return count;
    }
}
```

  - Main
```java
package jpabook.jpashop;

import jakarta.persistence.EntityManager;
import jakarta.persistence.EntityManagerFactory;
import jakarta.persistence.EntityTransaction;
import jakarta.persistence.Persistence;

public class JpaMain {
    public static void main(String[] args) {
        EntityManagerFactory emf = Persistence.createEntityManagerFactory("hello");
        EntityManager em = emf.createEntityManager();
        EntityTransaction tx = em.getTransaction();

        tx.begin();

        try {
            tx.commit();
        } catch (Exception e) {
            tx.rollback();
        } finally {
            em.close();
        }

        emf.close();
    }
}
```

  - H2 Database ë³€ê²½
    + Persistence.xml
```xml
<?xml version="1.0" encoding="UTF-8"?>
<persistence version="2.2" xmlns="http://xmlns.jcp.org/xml/ns/persistence"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd">
    <persistence-unit name="hello">
        <properties>
            <!-- í•„ìˆ˜ ì†ì„± -->
            <property name="jakarta.persistence.jdbc.driver" value="org.h2.Driver"/>
            <property name="jakarta.persistence.jdbc.user" value="sa"/>
            <property name="jakarta.persistence.jdbc.password" value=""/>
            <property name="jakarta.persistence.jdbc.url" value="jdbc:h2:tcp://localhost/~/jpashop"/>
            <property name="hibernate.dialect" value="org.hibernate.dialect.H2Dialect"/>

            <!-- ì˜µì…˜ -->
            <property name="hibernate.show_sql" value="true"/>
            <property name="hibernate.format_sql" value="true"/>
            <property name="hibernate.use_sql_comments"  value="true"/>
            <property name="hibernate.hbm2ddl.auto" value="create" />
        </properties>
    </persistence-unit>

</persistence>
```

  + jdbc:h2:~/jpashopë¡œ ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± í›„, jdbc:h2:tcp://localhost/~/jpashopë¡œ ì ‘ì†

  - ì‹¤í–‰ ë¡œê·¸
```
Hibernate: 
    drop table if exists Item cascade 
Hibernate: 
    drop table if exists Member cascade
Hibernate: 
    drop table if exists OrderItem cascade 
Hibernate: 
    drop table if exists ORDERS cascade

Hibernate: 
    drop sequence if exists Item_SEQ
Hibernate: 
    drop sequence if exists Member_SEQ
Hibernate: 
    drop sequence if exists OrderItem_SEQ
Hibernate: 
    drop sequence if exists ORDERS_SEQ

Hibernate: 
    create sequence Item_SEQ start with 1 increment by 50
Hibernate: 
    create sequence Member_SEQ start with 1 increment by 50
Hibernate: 
    create sequence OrderItem_SEQ start with 1 increment by 50
Hibernate: 
    create sequence ORDERS_SEQ start with 1 increment by 50

Hibernate: 
    create table Item (
        StackQunatity integer not null,
        price integer not null,
        ITEM_ID bigint not null,
        name varchar(255),
        primary key (ITEM_ID)
    )

Hibernate: 
    create table Member (
        MEMBER_ID bigint not null,
        city varchar(255),
        name varchar(255),
        zipcode varchar(255),
        primary key (MEMBER_ID)
    )

Hibernate: 
    create table OrderItem (
        count integer not null,
        orderPrice integer not null,
        ITEM_ID bigint,
        ORDER_ID bigint,
        ORDER_ITEM_ID bigint not null,
        primary key (ORDER_ITEM_ID)
    )

Hibernate: 
    create table ORDERS (
        MEMBER_ID bigint,
        ORDER_ID bigint not null,
        orderDate timestamp(6),
        status varchar(255) check (status in ('ORDER','CANCEL')),
        primary key (ORDER_ID)
    )
```
-----
### ë°ì´í„° ì¤‘ì‹¬ ì„¤ê³„ì˜ ë¬¸ì œì 
-----
1. í˜„ì¬ ë°©ì‹ì€ ê°ì²´ ì„¤ê³„ë¥¼ í…Œì´ë¸” ì„¤ê³„ì— ë§ì¶˜ ë°©ì‹
2. í…Œì´ë¸”ì˜ ì™¸ë˜í‚¤ë¥¼ ê°ì²´ì— ê·¸ëŒ€ë¡œ ê°€ì ¸ì˜´ (ì˜ˆ) private Long memberId;)
3. ë”°ë¼ì„œ, ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰ì´ ë¶ˆê°€ëŠ¥
4. ì°¸ì¡°ê°€ ì—†ìœ¼ë¯€ë¡œ UMLë„ ì˜ëª»ë¨
