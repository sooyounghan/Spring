-----
### í”ŒëŸ¬ì‹œ (Flush)
-----
1. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë³€ê²½ ë‚´ìš©ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜
2. í”ŒëŸ¬ì‹œ ë°œìƒ
   - ë³€ê²½ ê°ì§€
   - ìˆ˜ì •ëœ ì—”í‹°í‹° ì“°ê¸° ì§€ì—° SQL ì €ì¥ì†Œì— ë“±ë¡
   - ì“°ê¸° ì§€ì—° SQL ì €ì¥ì†Œì˜ ì¿¼ë¦¬ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì „ì†¡ (ë“±ë¡, ìˆ˜ì •, ì‚­ì œ ì¿¼ë¦¬)
3. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”ŒëŸ¬ì‹œí•˜ëŠ” ë°©ë²•
   - em.flush() : ì§ì ‘ í˜¸ì¶œ
   - íŠ¸ëœì­ì…˜ ì»¤ë°‹ : í”ŒëŸ¬ì‹œ ìë™ í˜¸ì¶œ
   - JPQL ì¿¼ë¦¬ ì‹¤í–‰ : í”ŒëŸ¬ì‹œ ìë™ í˜¸ì¶œ

4. ì˜ˆì‹œ
```java
package hellojpa;

import jakarta.persistence.EntityManager;
import jakarta.persistence.EntityManagerFactory;
import jakarta.persistence.EntityTransaction;
import jakarta.persistence.Persistence;

public class JpaMain {
    public static void main(String[] args) {
        EntityManagerFactory emf = Persistence.createEntityManagerFactory("hello");
        EntityManager em = emf.createEntityManager();

        EntityTransaction tx = em.getTransaction(); // íŠ¸ëœì­ì…˜
        tx.begin(); // íŠ¸ëœì­ì…˜ ì‹œì‘

        try {
            Member member = new Member(200L, "member200");
            em.persist(member); // ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ 1ì°¨ ìºì‹œì— ì €ì¥
            em.flush(); // DBì— INSERT SQL ì „ì†¡

            System.out.println("================");

            tx.commit();
        } catch (Exception e) {
            tx.rollback();
        } finally {
            em.close();
        }

        emf.close();
    }
}
```
  - ì‹¤í–‰ ë¡œê·¸
```
Hibernate: 
    /* insert for
        hellojpa.Member */insert 
    into
        Member (name, id) 
    values
        (?, ?)
================
```
5. ğŸ’¡ 1ì°¨ ìºì‹œì˜ ë‚´ìš©ì´ ì‚­ì œë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë©°, ë‹¨ì§€ ì“°ê¸° ì§€ì—° SQL ì €ì¥ì†Œì˜ UPDATE SQLë“¤ì´ DBì— ë°˜ì˜  
6. JPQL ì¿¼ë¦¬ ì‹¤í–‰ ì‹œ í”ŒëŸ¬ì‹œê°€ ìë™ìœ¼ë¡œ í˜¸ì¶œë˜ëŠ” ì´ìœ 
```java
em.persist(memberA);
em.persist(memberB);
em.persist(memberC);
// ì´ ì‹œì ê¹Œì§€ëŠ” DBì— ë°˜ì˜ë˜ì§€ ì•ŠìŒ

// ì¤‘ê°„ì— JPQL ì‹¤í–‰
query = em.createQuery("SELECT m FROM Member m", Member.class);
List<Member> members = query.getResultList(); // DBì— ìˆëŠ” ëª¨ë“  Data ì¡°íšŒ
```
  - ìœ„ ê°™ì€ ë¬¸ì œ ë°©ì§€ë¥¼ ìœ„í•´ JPQL Queryë¥¼ ì‹¤í–‰í•  ë•Œ, ë¬´ì¡°ê±´ flushë¥¼ ìë™ìœ¼ë¡œ ì‹¤í–‰
    
7. í”ŒëŸ¬ì‹œ ëª¨ë“œ ì˜µì…˜
```
em.setFlushMode(FlushModeType.COMMIT)
```
  - FlushModeType.AUTO : ì»¤ë°‹ì´ë‚˜ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ë•Œ í”ŒëŸ¬ì‹œ (ê¸°ë³¸ê°’)
  - FlushModeType.COMMIT : ì»¤ë°‹í•  ë•Œë§Œ í”ŒëŸ¬ì‹œ

8. ğŸ’¡ (ì¤‘ìš”) í”ŒëŸ¬ì‹œëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¹„ìš°ì§€ ì•ŠìŒ
9. ğŸ’¡ (ì¤‘ìš”) ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë³€ê²½ ë‚´ìš©ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë™ê¸°í™”
  - ğŸ’¡ íŠ¸ëœì­ì…˜ì´ë¼ëŠ” ì‘ì—… ë‹¨ìœ„ê°€ ì¤‘ìš” : ì»¤ë°‹ ì§ì „ì—ë§Œ ë™ê¸°í™”í•˜ë©´ ë¨
