-----
### ì¤€ì˜ì† ìƒíƒœ (Detached)
-----
1. ì˜ì† â†’ ì¤€ì˜ì†
2. ì˜ì† ìƒíƒœì˜ ì—”í‹°í‹°ê°€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë¶„ë¦¬(Detached)
3. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ëª»í•¨
4. ğŸ’¡ ì¤€ì˜ì† ìƒíƒœë¡œ ë§Œë“œëŠ” ë°©ë²•
   - em.detach(entity) : íŠ¹ì • ì—”í‹°í‹°ë§Œ ì¤€ì˜ì† ìƒíƒœë¡œ ì „í™˜
   - em.clear() : ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì™„ì „íˆ ì´ˆê¸°í™”
   - em.close() : ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì¢…ë£Œ
  
5. ì˜ˆì‹œ
```java
package hellojpa;

import jakarta.persistence.EntityManager;
import jakarta.persistence.EntityManagerFactory;
import jakarta.persistence.EntityTransaction;
import jakarta.persistence.Persistence;

public class JpaMain {
    public static void main(String[] args) {
        EntityManagerFactory emf = Persistence.createEntityManagerFactory("hello");
        EntityManager em = emf.createEntityManager();

        EntityTransaction tx = em.getTransaction(); // íŠ¸ëœì­ì…˜
        tx.begin(); // íŠ¸ëœì­ì…˜ ì‹œì‘

        // ì¤€ì˜ì† (detach)
        try {
            Member findMember = em.find(Member.class, 150L); // DBì—ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ 1ì°¨ ìºì‹œì— ì €ì¥ (ì˜ì† ìƒíƒœ)

            findMember.setName("AAAAA"); // ê°’ ë³€ê²½
            
            em.detach(findMember); // ğŸ’¡ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ì˜ì† ìƒíƒœì¸ ê²ƒì„ ì¤€ì˜ì† ìƒíƒœë¡œ ì „í™˜ (íŠ¸ëœì­ì…˜ ì»¤ë°‹ ì‹œ ë°˜ì˜ë˜ì§€ ì•ŠìŒ)

            System.out.println("=======");

            tx.commit();
        } catch (Exception e) {
            tx.rollback();
        } finally {
            em.close();
        }
        
        emf.close();
    }
}
```
  - ì‹¤í–‰ ê²°ê³¼ : SELECT ì¿¼ë¦¬ë§Œ ë°˜ì˜, UPDATE ì¿¼ë¦¬ ë¯¸ ë°˜ì˜(ì¤€ì˜ì† ìƒíƒœ)
```
Hibernate: 
    select
        m1_0.id,
        m1_0.name 
    from
        Member m1_0 
    where
        m1_0.id=?
=======
```
```java
package hellojpa;

import jakarta.persistence.EntityManager;
import jakarta.persistence.EntityManagerFactory;
import jakarta.persistence.EntityTransaction;
import jakarta.persistence.Persistence;

public class JpaMain {
    public static void main(String[] args) {
        EntityManagerFactory emf = Persistence.createEntityManagerFactory("hello");
        EntityManager em = emf.createEntityManager();

        EntityTransaction tx = em.getTransaction(); // íŠ¸ëœì­ì…˜
        tx.begin(); // íŠ¸ëœì­ì…˜ ì‹œì‘

        // ì¤€ì˜ì† (detach)
        try {
            Member findMember = em.find(Member.class, 150L); // DBì—ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ 1ì°¨ ìºì‹œì— ì €ì¥ (ì˜ì† ìƒíƒœ)

            findMember.setName("AAAAA"); // ê°’ ë³€ê²½
            
            em.clear(); // ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì™„ì „íˆ ì´ˆê¸°í™”

            Member findMember2 = em.find(Member.class, 150L); // DBì—ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ 1ì°¨ ìºì‹œì— ë‹¤ì‹œ ì €ì¥ (ì˜ì† ìƒíƒœ)

            System.out.println("=======");

            tx.commit();
        } catch (Exception e) {
            tx.rollback();
        } finally {
            em.close();
        }
        
        emf.close();
    }
}
```
  - ì‹¤í–‰ ê²°ê³¼ : ì˜ì† ìƒíƒœ(SELECT SQL 1ë²ˆ) â†’ ì¤€ì˜ì† ìƒíƒœ â†’ ì˜ì† ìƒíƒœ(SELECT SQL 2ë²ˆ)
```
Hibernate: 
    select
        m1_0.id,
        m1_0.name 
    from
        Member m1_0 
    where
        m1_0.id=?
Hibernate: 
    select
        m1_0.id,
        m1_0.name 
    from
        Member m1_0 
    where
        m1_0.id=?
=======
```
