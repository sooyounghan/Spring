-----
### ÌïÑÎìú ÎèôÍ∏∞Ìôî
-----
1. ÏïûÏÑú Î°úÍ∑∏ Ï∂îÏ†ÅÍ∏∞Î•º ÎßåÎì§Î©¥ÏÑú Îã§Ïùå Î°úÍ∑∏Î•º Ï∂úÎ†•Ìï† ÎñÑ, Ìä∏ÎûúÏû≠ÏÖò IDÏôÄ levelÏùÑ ÎèôÍ∏∞ÌôîÌïòÎäî Î¨∏Ï†ú Î∞úÏÉù
   - Ïù¥ Î¨∏Ï†úÎ•º Ìï¥Í≤∞ÌïòÍ∏∞ ÏúÑÌï¥ TraceIdÎ•º ÌååÎùºÎØ∏ÌÑ∞Î°ú ÎÑòÍ∏∞ÎèÑÎ°ù Íµ¨ÌòÑ
   - ÎèôÍ∏∞ÌôîÎäî ÏÑ±Í≥µÌñàÏúºÎÇò, Î°úÍ∑∏Î•º Ï∂úÎ†•ÌïòÎäî Î™®Îì† Î©îÏÑúÎìúÏóê TraceId ÌååÎùºÎØ∏ÌÑ∞Î•º Ï∂îÍ∞ÄÌï¥Ïïº ÌïòÎäî Î¨∏Ï†ú Î∞úÏÉù
2. ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ Î≤ÑÏ†ÑÏù¥ ÏïÑÎãå Ï†ïÏÑù Î≤ÑÏ†ÑÏúºÎ°ú Í∞úÎ∞ú
   - Ìñ•ÌõÑ Îã§ÏñëÌïú Íµ¨ÌòÑÏ≤¥Î°ú Î≥ÄÍ≤ΩÌï† Ïàò ÏûàÎèÑÎ°ù LogTrace Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î•º ÎßåÎì§Í≥†, Íµ¨ÌòÑ
3. LogTrace Ïù∏ÌÑ∞ÌéòÏù¥Ïä§
```java
package hello.advanced.trace.logtrace;

import hello.advanced.trace.TraceStatus;

public interface LogTrace {
    TraceStatus begin(String message);
    void end(TraceStatus status);
    void exception(TraceStatus status, Exception e);
}
```
  - Î°úÍ∑∏ Ï∂îÏ†ÅÍ∏∞Î•º ÏúÑÌïú ÏµúÏÜåÌïúÏùò Í∏∞Îä•Ïù∏ begin(), end(), exception() Ï†ïÏùò
  - ÌååÎùºÎØ∏ÌÑ∞Î•º ÎÑòÍ∏∞ÏßÄ ÏïäÍ≥†, TraceIdÎ•º ÎèôÍ∏∞ÌôîÌï† Ïàò ÏûàÎäî FieldLogTrace Íµ¨ÌòÑÏ≤¥ Ï†úÏûë

4. FieldLogTrace
```java
package hello.advanced.trace.logtrace;

import hello.advanced.trace.TraceId;
import hello.advanced.trace.TraceStatus;
import lombok.extern.slf4j.Slf4j;

@Slf4j
public class FieldLogTrace implements LogTrace {

    private static final String START_PREFIX = "-->";
    private static final String COMPLETE_PREFIX = "<--";
    private static final String EX_PREFIX = "<X-";

    private TraceId traceIdHolder; // traceId ÎèôÍ∏∞Ìôî (ÎèôÏãúÏÑ± Ïù¥Ïäà Î∞úÏÉù)

    @Override
    public TraceStatus begin(String message) {
        syncTraceId();
        TraceId traceId = traceIdHolder;
        Long startTimeMs = System.currentTimeMillis();

        log.info("[{}] {}{}", traceId.getId(), addSpace(START_PREFIX, traceId.getLevel()),message);
        return new TraceStatus(traceId, startTimeMs, message);
    }

    private void syncTraceId() {
        if(traceIdHolder == null) {
            traceIdHolder = new TraceId();
        } else {
            traceIdHolder = traceIdHolder.createNextId();
        }
    }

    @Override
    public void end(TraceStatus status) {
        complete(status, null);
    }

    @Override
    public void exception(TraceStatus status, Exception e) {
        complete(status, e);
    }

    private void complete(TraceStatus status, Exception e) {
        Long stopTimeMs = System.currentTimeMillis();
        long resultTimeMs = stopTimeMs - status.getStartTimeMs();

        TraceId traceId = status.getTraceId();

        if(e == null) {
            log.info("[{}] {}{} time = {}ms", traceId.getId(), addSpace(COMPLETE_PREFIX, traceId.getLevel()), status.getMessage(), resultTimeMs);
        }

        else {
            log.info("[{}] {}{} time = {}ms, ex={}", traceId.getId(), addSpace(EX_PREFIX, traceId.getLevel()), status.getMessage(), resultTimeMs, e.toString());
        }

        releaseTraceId();
    }

    private void releaseTraceId() {
        if(traceIdHolder.isFirstLevel()) {
            traceIdHolder = null; // Destroy
        } else {
            traceIdHolder = traceIdHolder.createPreviousId();
        }
    }

    /**
     * level = 0
     * level = 1 |-->
     * level = 2 |   |-->
     *
     * level = 2 |   |<x-
     * level = 1 |<x-|
     */
    private static String addSpace(String prefix, int level) {
        StringBuilder sb = new StringBuilder();

        for(int i = 0; i < level; i++) {
            sb.append((i == level - 1) ?  "|" + prefix : "|   ");
        }

        return sb.toString();
    }
}
```
  - FieldLogTraceÎäî Í∏∞Ï°¥Ïóê ÎßåÎì§ÏóàÎçò HelloTraceV2ÏôÄ Í±∞Ïùò Í∞ôÏùÄ Í∏∞Îä•ÏùÑ Ìï®
  - TraceIdÎ•º ÎèôÍ∏∞ÌôîÌïòÎäî Î∂ÄÎ∂ÑÎßå ÌååÎùºÎØ∏ÌÑ∞Î•º ÏÇ¨Ïö©ÌïòÎäî Í≤ÉÏóêÏÑú TraceId traceIdHolder ÌïÑÎìúÎ•º ÏÇ¨Ïö©ÌïòÎèÑÎ°ù Î≥ÄÍ≤Ω
    + Ïù¥Ï†ú ÏßÅÏ†Ñ Î°úÍ∑∏Ïùò TraceIdÎäî ÌååÎùºÎØ∏ÌÑ∞Î°ú Ï†ÑÎã¨ÎêòÎäî Í≤ÉÏù¥ ÏïÑÎãàÎùº FieldLogTrace ÌïÑÎìúÏù∏ traceIdHolderÏóê Ï†ÄÏû•

5. üí° Î°úÍ∑∏Î•º ÏãúÏûëÌï† Îïå Ìò∏Ï∂úÌïòÎäî syncTraceId()
   - TraceIdÎ•º ÏÉàÎ°ú ÎßåÎì§Í±∞ÎÇò, ÏïûÏÑ† Î°úÍ∑∏Ïùò TraceIdÎ•º Ï∞∏Í≥†Ìï¥ÏÑú ÎèôÍ∏∞ÌôîÌïòÍ≥†, levelÎèÑ Ï¶ùÍ∞Ä
   - ÏµúÏ¥à Ìò∏Ï∂úÏù¥Î©¥ TraceIdÎ•º ÏÉàÎ°ú ÎßåÎì¨
   - ÏßÅÏ†Ñ Î°úÍ∑∏Í∞Ä ÏûàÏúºÎ©¥, Ìï¥Îãπ Î°úÍ∑∏Ïùò TraceIdÎ•º Ï∞∏Í≥†Ìï¥ÏÑú ÎèôÍ∏∞ÌôîÌïòÍ≥†, levelÎèÑ ÌïòÎÇò Ï¶ùÍ∞Ä
   - Í≤∞Í≥ºÎ•º traceIdHolderÏóê Î≥¥Í¥Ä

6. üí° Î°úÍ∑∏Î•º Ï¢ÖÎ£åÌï† Îïå Ìò∏Ï∂úÌïòÎäî releaseTraceId()
   - Î©îÏÑúÎìúÎ•º Ï∂îÍ∞ÄÎ°ú Ìò∏Ï∂úÌï† ÎïåÎäî levelÏù¥ ÌïòÎÇò Ï¶ùÍ∞ÄÌï¥Ïïº ÌïòÏßÄÎßå, Î©îÏÑúÎìú Ìò∏Ï∂úÏù¥ ÎÅùÎÇòÎ©¥ levelÏù¥ ÌïòÎÇò Í∞êÏÜå
   - releaseTraceId()Îäî levelÏùÑ ÌïòÎÇò Í∞êÏÜå
   - üí° ÎßåÏïΩ, ÏµúÏ¥à Ìò∏Ï∂úÏù¥Î©¥ (level == 0), ÎÇ¥Î∂ÄÏóêÏÑú Í¥ÄÎ¶¨ÌïòÎäî traceIdÎ•º Ï†úÍ±∞
```
[c80f5dbb] OrderController.request()       // syncTraceId() : ÏµúÏ¥à Ìò∏Ï∂ú level = 0
[c80f5dbb] |-->OrderService.orderItem()    // syncTraceId() : ÏßÅÏ†Ñ Î°úÍ∑∏ ÏûàÏùå level = 1 Ï¶ùÍ∞Ä
[c80f5dbb] |   |-->OrderRepository.save()  // syncTraceId() : ÏßÅÏ†Ñ Î°úÍ∑∏ ÏûàÏùå level = 2 Ï¶ùÍ∞Ä

[c80f5dbb] |   |<--OrderRepository.save() time=1005ms // releaseTraceId() : level = 2 -> 1 Í∞êÏÜå
[c80f5dbb] |<--OrderService.orderItem() time=1014ms   // releaseTraceId() : level = 1 -> 0 Í∞êÏÜå
[c80f5dbb] OrderController.request() time=1017ms      // releaseTraceId() : üí° level == 0, traceId Ï†úÍ±∞
```

7. FieldLogTest
```java
package hello.advanced.trace.logtrace;

import hello.advanced.trace.TraceStatus;
import org.junit.jupiter.api.Test;

class FieldLogTraceTest {
    FieldLogTrace trace = new FieldLogTrace();

    @Test
    void begin_end_level2() {
        TraceStatus status1 = trace.begin("hello1");
        TraceStatus status2 = trace.begin("hello2");
        trace.end(status2);
        trace.end(status1);
    }

    @Test
    void begin_exception_level2() {
        TraceStatus status1 = trace.begin("hello1");
        TraceStatus status2 = trace.begin("hello2");
        trace.exception(status2, new IllegalStateException());
        trace.exception(status1, new IllegalStateException());
    }
}
```
  - begin_end_level2() Ïã§Ìñâ Í≤∞Í≥º
```
[d5c08739] hello1
[d5c08739] |-->hello2
[d5c08739] |<--hello2 time = 1ms
[d5c08739] hello1 time = 24ms
```

  - begin_exception_level2() Ïã§Ìñâ Í≤∞Í≥º
```
[6b36838e] hello1
[6b36838e] |-->hello2
[6b36838e] |<X-hello2 time = 4ms, ex=java.lang.IllegalStateException
[6b36838e] hello1 time = 9ms, ex=java.lang.IllegalStateException
```

-----
### ÌïÑÎìú ÎèôÍ∏∞Ìôî - Ï†ÅÏö©
-----
1. LogTrace Ïä§ÌîÑÎßÅ Îπà Îì±Î°ù
   - FieldLogTraceÎ•º ÏàòÎèôÏúºÎ°ú Ïä§ÌîÑÎßÅ ÎπàÏúºÎ°ú Îì±Î°ù
   - ÏàòÎèôÏúºÎ°ú Îì±Î°ùÌïòÎ©¥ Ìñ•ÌõÑ Íµ¨ÌòÑÏ≤¥Î•º Ìé∏Î¶¨ÌïòÍ≤å Î≥ÄÍ≤ΩÌï† Ïàò ÏûàÎã§Îäî Ïû•Ï†ê Ï°¥Ïû¨

2. LogTraceConfig
```java
package hello.advanced;

import hello.advanced.trace.logtrace.FieldLogTrace;
import hello.advanced.trace.logtrace.LogTrace;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class LogTraceConfig {
    
    @Bean
    public LogTrace logTrace() {
        return new FieldLogTrace();
    }
}
```

3. v2 ‚Üí v3 Î≥µÏÇ¨
   - Î°úÍ∑∏ Ï∂îÏ†ÅÍ∏∞ V3Î•º Ï†ÅÏö©ÌïòÍ∏∞ Ï†ÑÏóê Î®ºÏ†Ä Í∏∞Ï°¥ ÏΩîÎìú Î≥µÏÇ¨
   - hello.advanced.app.v3 Ìå®ÌÇ§ÏßÄ ÏÉùÏÑ±
   - Î≥µÏÇ¨
      + v2.OrderControllerV2 ‚Üí v3.OrderControllerV3 
      + v2.OrderServiceV2 ‚Üí v3.OrderServiceV3
      + v2.OrderRepositoryV2 ‚Üí v3.OrderRepositoryV3 
   - ÏΩîÎìú ÎÇ¥Î∂Ä ÏùòÏ°¥Í¥ÄÍ≥ÑÎ•º ÌÅ¥ÎûòÏä§Î•º V3ÏúºÎ°ú Î≥ÄÍ≤Ω
      + OrderControllerV3 : OrderServiceV2 ‚Üí OrderServiceV3
      + OrderServiceV3 : OrderRepositoryV2 ‚Üí OrderRepositoryV3 
   - OrderControllerV3 Îß§Ìïë Ï†ïÎ≥¥ Î≥ÄÍ≤Ω
      + @GetMapping("/v3/request")
   - HelloTraceV2 ‚Üí LogTrace Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ ÏÇ¨Ïö© Ï£ºÏùò! 
   - TraceId traceId ÌååÎùºÎØ∏ÌÑ∞Î•º Î™®Îëê Ï†úÍ±∞
   - beginSync() ‚Üí begin ÏúºÎ°ú ÏÇ¨Ïö©ÌïòÎèÑÎ°ù Î≥ÄÍ≤Ω

4. OrderControllerV3
```java
package hello.advanced.app.v3;

import hello.advanced.trace.TraceStatus;
import hello.advanced.trace.logtrace.LogTrace;
import lombok.RequiredArgsConstructor;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequiredArgsConstructor
public class OrderControllerV3 {
    private final OrderServiceV3 orderService;
    private final LogTrace trace;

    @GetMapping("/v3/request")
    public String request(String itemId) {

        TraceStatus status = null;
        try {
            status = trace.begin("OrderController.request()"); 
            orderService.orderItem(itemId); 
            trace.end(status);
            return "OK";
        } catch (Exception e) {
            trace.exception(status, e);
            throw e; 
        }
    }
}
```

5. OrderServiceV3
```java
package hello.advanced.app.v3;

import hello.advanced.trace.TraceStatus;
import hello.advanced.trace.logtrace.LogTrace;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Service;

@Service
@RequiredArgsConstructor
public class OrderServiceV3 {
    private final OrderRepositoryV3 orderRepository;
    private final LogTrace trace;

    public void orderItem(String itemId) {
        TraceStatus status = null;

        try {
            status = trace.begin("OrderService.orderItem()");
            orderRepository.save(itemId);
            trace.end(status);
        } catch (Exception e) {
            trace.exception(status, e);
            throw e;
        }
    }
}
```

6. OrderRepositoryV3
```java
package hello.advanced.app.v3;

import hello.advanced.trace.TraceStatus;
import hello.advanced.trace.logtrace.LogTrace;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Repository;

@Repository
@RequiredArgsConstructor
public class OrderRepositoryV3 {
    private final LogTrace trace;

    public void save(String itemId) {

        TraceStatus status = null;

        try {
            status = trace.begin("OrderRepository.save()");

            // Ï†ÄÏû• Î°úÏßÅ
            if (itemId.equals("ex")) {
                throw new IllegalStateException("ÏòàÏô∏ Î∞úÏÉù");
            }

            sleep(1000);

            trace.end(status);
        } catch (Exception e) {
            trace.exception(status, e);
            throw e;
        }
    }

    private void sleep(int millis) {
        try {
            Thread.sleep(millis);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
```

7. Ï†ïÏÉÅ Ïã§Ìñâ
```
[advanced] [nio-9090-exec-2] h.advanced.trace.logtrace.FieldLogTrace  : [04c8e65a] OrderController.request()
[advanced] [nio-9090-exec-2] h.advanced.trace.logtrace.FieldLogTrace  : [04c8e65a] |-->OrderService.orderItem()
[advanced] [nio-9090-exec-2] h.advanced.trace.logtrace.FieldLogTrace  : [04c8e65a] |   |-->OrderRepository.save()
[advanced] [nio-9090-exec-2] h.advanced.trace.logtrace.FieldLogTrace  : [04c8e65a] |   |<--OrderRepository.save() time = 1015ms
[advanced] [nio-9090-exec-2] h.advanced.trace.logtrace.FieldLogTrace  : [04c8e65a] |<--OrderService.orderItem() time = 1015ms
[advanced] [nio-9090-exec-2] h.advanced.trace.logtrace.FieldLogTrace  : [04c8e65a] OrderController.request() time = 1018ms
```
8. ÏòàÏô∏ Ïã§Ìñâ
```
[advanced] [nio-9090-exec-4] h.advanced.trace.logtrace.FieldLogTrace  : [286d8819] OrderController.request()
[advanced] [nio-9090-exec-4] h.advanced.trace.logtrace.FieldLogTrace  : [286d8819] |-->OrderService.orderItem()
[advanced] [nio-9090-exec-4] h.advanced.trace.logtrace.FieldLogTrace  : [286d8819] |   |-->OrderRepository.save()
[advanced] [nio-9090-exec-4] h.advanced.trace.logtrace.FieldLogTrace  : [286d8819] |   |<X-OrderRepository.save() time = 0ms, ex=java.lang.IllegalStateException: ÏòàÏô∏ Î∞úÏÉù
[advanced] [nio-9090-exec-4] h.advanced.trace.logtrace.FieldLogTrace  : [286d8819] |<X-OrderService.orderItem() time = 0ms, ex=java.lang.IllegalStateException: ÏòàÏô∏ Î∞úÏÉù
[advanced] [nio-9090-exec-4] h.advanced.trace.logtrace.FieldLogTrace  : [286d8819] OrderController.request() time = 0ms, ex=java.lang.IllegalStateException: ÏòàÏô∏ Î∞úÏÉù
```

-----
### ÎèôÏãúÏÑ± Î¨∏Ï†ú
-----
1. ÌÖåÏä§Ìä∏ Ìï† ÎñÑÎäî Î¨∏Ï†úÍ∞Ä ÏóÜÏßÄÎßå, FieldLogTraceÎäî Ïã¨Í∞ÅÌïú ÎèôÏãúÏÑ± Î¨∏Ï†úÎ•º Í∞ÄÏßÄÍ≥† ÏûàÏùå
2. ÎèôÏãúÏÑ± Î¨∏Ï†úÎ•º ÌôïÏù∏ÌïòÎ†§Î©¥ ÎèôÏãúÏóê Ïó¨Îü¨Î≤à Ìò∏Ï∂ú
  - Í∏∞ÎåÄÌïòÎäî Í≤∞Í≥º
```
[nio-8080-exec-3] [52808e46] OrderController.request()
[nio-8080-exec-3] [52808e46] |-->OrderService.orderItem()
[nio-8080-exec-3] [52808e46] |   |-->OrderRepository.save()
[nio-8080-exec-4] [4568423c] OrderController.request()
[nio-8080-exec-4] [4568423c] |-->OrderService.orderItem()
[nio-8080-exec-4] [4568423c] |   |-->OrderRepository.save()
[nio-8080-exec-3] [52808e46] |   |<--OrderRepository.save() time=1001ms
[nio-8080-exec-3] [52808e46] |<--OrderService.orderItem() time=1001ms
[nio-8080-exec-3] [52808e46] OrderController.request() time=1003ms
[nio-8080-exec-4] [4568423c] |   |<--OrderRepository.save() time=1000ms
[nio-8080-exec-4] [4568423c] |<--OrderService.orderItem() time=1001ms
[nio-8080-exec-4] [4568423c] OrderController.request() time=1001ms
```
  - ÎèôÏãúÏóê Ïó¨Îü¨ ÏÇ¨Ïö©ÏûêÍ∞Ä ÏöîÏ≤≠ÌïòÎ©¥ Ïó¨Îü¨ Ïì∞Î†àÎìúÍ∞Ä ÎèôÏãúÏóê Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò Î°úÏßÅÏùÑ Ìò∏Ï∂úÌïòÍ≤å ÎêòÎØÄÎ°ú, Î°úÍ∑∏Îäî Ïù¥Î†áÍ≤å ÏÑûÏó¨ÏÑú Ï∂úÎ†•
  - Í∏∞ÎåÄÌïòÎäî Í≤∞Í≥º - Î°úÍ∑∏ Î∂ÑÎ¶¨Ìï¥ÏÑú ÌôïÏù∏
```
[52808e46]
[nio-8080-exec-3] [52808e46] OrderController.request()
[nio-8080-exec-3] [52808e46] |-->OrderService.orderItem()
[nio-8080-exec-3] [52808e46] |   |-->OrderRepository.save()
[nio-8080-exec-3] [52808e46] |   |<--OrderRepository.save() time=1001ms
[nio-8080-exec-3] [52808e46] |<--OrderService.orderItem() time=1001ms
[nio-8080-exec-3] [52808e46] OrderController.request() time=1003ms

[4568423c]
[nio-8080-exec-4] [4568423c] OrderController.request()
[nio-8080-exec-4] [4568423c] |-->OrderService.orderItem()
[nio-8080-exec-4] [4568423c] |   |-->OrderRepository.save()
[nio-8080-exec-4] [4568423c] |   |<--OrderRepository.save() time=1000ms
[nio-8080-exec-4] [4568423c] |<--OrderService.orderItem() time=1001ms
[nio-8080-exec-4] [4568423c] OrderController.request() time=1001ms
```

  - Ïã§Ï†ú Í≤∞Í≥º
```
[nio-8080-exec-3] [aaaaaaaa] |   |-->OrderRepository.save()
[nio-8080-exec-4] [aaaaaaaa] |   |   |-->OrderController.request()
[nio-8080-exec-4] [aaaaaaaa] |   |   |   |-->OrderService.orderItem()
[nio-8080-exec-4] [aaaaaaaa] |   |   |   |   |-->OrderRepository.save()
[nio-8080-exec-3] [aaaaaaaa] |   |<--OrderRepository.save() time=1005ms
[nio-8080-exec-3] [aaaaaaaa] |<--OrderService.orderItem() time=1005ms
[nio-8080-exec-3] [aaaaaaaa] OrderController.request() time=1005ms
[nio-8080-exec-4] [aaaaaaaa] |   |   |   |   |<--OrderRepository.save() time=1005ms
[nio-8080-exec-4] [aaaaaaaa] |   |   |   |<--OrderService.orderItem() time=1005ms
[nio-8080-exec-4] [aaaaaaaa] |   |   |<--OrderController.request() time=1005ms
```

  - Ïã§Ï†ú Í≤∞Í≥º - Î°úÍ∑∏ Î∂ÑÏÑùÌï¥ÏÑú ÌôïÏù∏
```
[nio-8080-exec-3]
[nio-8080-exec-3] [aaaaaaaa] OrderController.request()
[nio-8080-exec-3] [aaaaaaaa] |-->OrderService.orderItem()
[nio-8080-exec-3] [aaaaaaaa] |   |-->OrderRepository.save()
[nio-8080-exec-3] [aaaaaaaa] |   |<--OrderRepository.save() time=1005ms
[nio-8080-exec-3] [aaaaaaaa] |<--OrderService.orderItem() time=1005ms
[nio-8080-exec-3] [aaaaaaaa] OrderController.request() time=1005ms

[nio-8080-exec-4]
[nio-8080-exec-4] [aaaaaaaa] |   |   |-->OrderController.request()
[nio-8080-exec-4] [aaaaaaaa] |   |   |   |-->OrderService.orderItem()
[nio-8080-exec-4] [aaaaaaaa] |   |   |   |   |-->OrderRepository.save()
[nio-8080-exec-4] [aaaaaaaa] |   |   |   |   |<--OrderRepository.save() time=1005ms
[nio-8080-exec-4] [aaaaaaaa] |   |   |   |<--OrderService.orderItem() time=1005ms
[nio-8080-exec-4] [aaaaaaaa] |   |   |<--OrderController.request() time=1005ms
```

  - Í∏∞ÎåÄÌïú Í≤ÉÍ≥º Ï†ÑÌòÄ Îã§Î•∏ Î¨∏Ï†ú Î∞úÏÉù (Ìä∏ÎûúÏû≠ÏÖò IDÎèÑ ÎèôÏùº, levelÎèÑ ÎßéÏù¥ Ïù¥ÏÉÅÌï®)

3. Ïù¥ Î¨∏Ï†úÎäî ÎèôÏãúÏÑ± Î¨∏Ï†ú
   - üí° FieldLogTraceÎäî Ïã±Í∏ÄÌÜ§ÏúºÎ°ú Îì±Î°ùÎêú Ïä§ÌîÑÎßÅ ÎπàÏúºÎ°ú, Ïù¥ Í∞ùÏ≤¥Ïùò Ïù∏Ïä§ÌÑ¥Ïä§Í∞Ä Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏóê Îî± 1Í∞ú Ï°¥Ïû¨ÌïúÎã§Îäî Îúª
   - üí° Ïù¥Î†áÍ≤å ÌïòÎÇòÎßå ÏûàÎäî Ïù∏Ïä§ÌÑ¥Ïä§Ïùò FieldLogTrace.traceIdHolder ÌïÑÎìúÎ•º Ïó¨Îü¨ Ïì∞Î†àÎìúÍ∞Ä ÎèôÏãúÏóê Ï†ëÍ∑ºÌïòÍ∏∞ ÎïåÎ¨∏Ïóê Î∞úÏÉùÌïòÎäî Î¨∏Ï†ú
   
