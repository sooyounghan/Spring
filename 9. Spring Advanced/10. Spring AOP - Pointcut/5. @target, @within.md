-----
### @target, @within
-----
1. @target : μ‹¤ν–‰ κ°μ²΄μ ν΄λμ¤μ— μ£Όμ–΄μ§„ νƒ€μ…μ μ• λ„ν…μ΄μ…μ΄ μλ” μ΅°μΈ ν¬μΈνΈ
2. @within : μ£Όμ–΄μ§„ μ• λ„ν…μ΄μ…μ΄ μλ” νƒ€μ… λ‚΄ μ΅°μΈ ν¬μΈνΈ
3. μ„¤λ…
   - @target, @withinμ€ λ‹¤μκ³Ό κ°™μ΄ νƒ€μ…μ— μλ” μ• λ„ν…μ΄μ…μΌλ΅ AOP μ μ© μ—¬λ¶€ νλ‹¨
   - @target(hello.aop.member.annotation.ClassAop)
   - @within(hello.aop.member.annotation.ClassAop)
```java
@ClassAop
class Target { }
```

4. @target vs @within
   - @target : μΈμ¤ν„΄μ¤μ λ¨λ“  λ©”μ„λ“λ¥Ό μ΅°μΈ ν¬μΈνΈλ΅ μ μ©
   - @within : ν•΄λ‹Ή νƒ€μ… λ‚΄ μλ” λ©”μ„λ“λ§ μ΅°μΈ ν¬μΈνΈλ΅ μ μ©

5. π’΅ μ¦‰, @targetμ€ λ¶€λ¨ ν΄λμ¤μ λ©”μ„λ“κΉμ§€ μ–΄λ“λ°”μ΄μ¤λ¥Ό λ‹¤ μ μ©
6. π’΅ @withinμ€ μκΈ° μμ‹ μ ν΄λμ¤μ— μ •μλ λ©”μ„λ“λ§ μ–΄λ“λ°”μ΄μ¤λ¥Ό μ μ©
<div align="center">
<img src="https://github.com/user-attachments/assets/3c8c09b7-f78d-4574-9446-61c1eafb1280">
</div>

7. AtTargetAtWithinTest
```java
package hello.aop.pointcut;

import hello.aop.member.annotation.ClassAop;
import lombok.extern.slf4j.Slf4j;
import org.aspectj.lang.ProceedingJoinPoint;
import org.aspectj.lang.annotation.Around;
import org.aspectj.lang.annotation.Aspect;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Import;

@Slf4j
@Import({AtTargetAtWithinTest.Config.class})
@SpringBootTest
public class AtTargetAtWithinTest {

    @Autowired Child child;

    @Test
    void success() {
        log.info("child Proxy = {}", child.getClass());
        child.childMethod(); // λ¶€λ¨, μμ‹ λ¨λ‘ μλ” λ©”μ„λ“
        child.parentMethod(); // λ¶€λ¨ ν΄λμ¤λ§ μλ” λ©”μ„λ“
    }

    static class Config {
        @Bean
        public Parent parent() {
            return new Parent();
        }

        @Bean
        public Child child() {
            return new Child();
        }

        @Bean
        public AtTargetAtWithAsepct atTargetAtWithAsepct() {
            return new AtTargetAtWithAsepct();
        }
    }

    static class Parent {
        public void parentMethod() {} // λ¶€λ¨μ—λ§ μλ” λ©”μ„λ“
    }

    @ClassAop
    static class Child extends Parent {
        public void childMethod() {}
    }

    @Slf4j
    @Aspect
    static class AtTargetAtWithAsepct {

        // @target : μΈμ¤ν„΄μ¤ κΈ°μ¤€μΌλ΅ λ¨λ“  λ©”μ„λ“μ μ΅°μΈ ν¬μΈνΈλ¥Ό μ„ μ •, λ¶€λ¨ νƒ€μ… λ©”μ„λ“λ„ μ μ©
        @Around("execution(* hello.aop..*(..)) && @target(hello.aop.member.annotation.ClassAop)")
        public Object atTarget(ProceedingJoinPoint joinPoint) throws Throwable {
            log.info("[@target] {}", joinPoint.getSignature());
            return joinPoint.proceed();
        }

        // @within : μ„ νƒλ ν΄λμ¤ λ‚΄λ¶€μ— μλ” λ©”μ„λ“λ§ μ΅°μΈ ν¬μΈνΈλ΅ μ„ μ •, λ¶€λ¨ νƒ€μ… λ©”μ„λ“λ” μ μ©λμ§€ μ•μ
        @Around("execution(* hello.aop..*(..)) && @within(hello.aop.member.annotation.ClassAop")
        public Object atWithin(ProceedingJoinPoint joinPoint) throws Throwable {
            log.info("[@within] {}", joinPoint.getSignature());
            return joinPoint.proceed();
        }
    }
}
```
  - μ‹¤ν–‰ κ²°κ³Ό
```
[aop] [    Test worker] h.aop.pointcut.AtTargetAtWithinTest      : child Proxy = class hello.aop.pointcut.AtTargetAtWithinTest$Child$$SpringCGLIB$$0
[aop] [    Test worker] tTargetAtWithinTest$AtTargetAtWithAsepct : [@target] void hello.aop.pointcut.AtTargetAtWithinTest$Child.childMethod()
[aop] [    Test worker] tTargetAtWithinTest$AtTargetAtWithAsepct : [@within] void hello.aop.pointcut.AtTargetAtWithinTest$Child.childMethod()
[aop] [    Test worker] tTargetAtWithinTest$AtTargetAtWithAsepct : [@target] void hello.aop.pointcut.AtTargetAtWithinTest$Parent.parentMethod()
```

  - parentMethod()λ” Parent ν΄λμ¤μ—λ§ μ •μλμ–΄ μκ³ , Child ν΄λμ¤μ— μ •μλμ–΄ μμ§€ μ•μΌλ―€λ΅ @withinμ—μ„ AOP μ μ© λ€μƒμ΄ λμ§€ μ•μ
  - μ‹¤ν–‰ κ²°κ³Όλ¥Ό λ³΄λ©΄, child.parentMethod()λ¥Ό νΈμ¶ ν–μ„ λ•, [@within]μ΄ νΈμ¶λμ§€ μ•μ
  - @target, @within μ§€μ‹μλ” νλΌλ―Έν„° λ°”μΈλ”©μ—μ„ ν•¨κ» μ‚¬μ©

8. π’΅ μ£Όμ
   - λ‹¤μ ν¬μΈνΈμ»· μ§€μ‹μλ“¤μ€ λ‹¨λ…μΌλ΅ μ‚¬μ©ν•λ©΄ μ• λ¨ : args, @args, @target
   - μμ λ¥Ό λ³΄λ©΄, execution(* hello.aop..*(..))λ¥Ό ν†µν•΄ μ μ© λ€μƒμ„ μ¤„μ—¬μ¤€ κ²ƒ ν™•μΈ κ°€λ¥
   - args, @args, @targetμ€ μ‹¤μ  κ°μ²΄ μΈμ¤ν„΄μ¤κ°€ μƒμ„±λκ³  μ‹¤ν–‰λ  λ•, μ–΄λ“λ°”μ΄μ¤ μ μ© μ—¬λ¶€λ¥Ό ν™•μΈν•  μ μμ
   - μ‹¤ν–‰ μ‹μ μ— μΌμ–΄λ‚λ” ν¬μΈνΈμ»· μ μ© μ—¬λ¶€ κ²°κµ­ ν”„λ΅μ‹κ°€ μμ–΄μ•Ό μ‹¤ν–‰ μ‹μ μ— νλ‹¨ κ°€λ¥
   - μ¦‰, ν”„λ΅μ‹κ°€ μ—†λ‹¤λ©΄, νλ‹¨ μμ²΄κ°€ λ¶κ°€λ¥ν•¨
   - κ·Έλ°λ°, μ¤ν”„λ§ μ»¨ν…μ΄λ„κ°€ ν”„λ΅μ‹λ¥Ό μƒμ„±ν•λ” μ‹μ μ€ μ¤ν”„λ§ μ»¨ν…μ΄λ„κ°€ λ§λ“¤μ–΄μ§€λ” μ• ν”λ¦¬μΌ€μ΄μ… λ΅λ”© μ‹μ μ— μ μ©ν•  μ μμ
   - λ”°λΌμ„, args, @args, @target κ°™μ€ ν¬μΈνΈμ»· μ§€μ‹μκ°€ μμΌλ©΄, μ¤ν”„λ§μ€ λ¨λ“  μ¤ν”„λ§ λΉμ— AOPλ¥Ό μ μ©ν•λ ¤κ³  μ‹λ„
   - ν•μ§€λ§, μ•μ„ μ„¤λ…ν• κ²ƒμ²λΌ ν”„λ΅μ‹κ°€ μ—†μΌλ©΄ μ‹¤ν–‰ μ‹μ μ— νλ‹¨ μμ²΄κ°€ λ¶κ°€λ¥
   - λ¬Έμ λ” μ΄λ ‡κ² λ¨λ“  μ¤ν”„λ§ λΉμ— AOP ν”„λ΅μ‹λ¥Ό μ μ©ν•λ ¤κ³  ν•λ©΄, μ¤ν”„λ§ λ‚΄λ¶€μ—μ„ μ‚¬μ©ν•λ” λΉ μ¤‘μ—λ” finalλ΅ μ§€μ •λ λΉλ“¤λ„ μκΈ° λ•λ¬Έμ— μ¤λ¥ λ°μƒ κ°€λ¥
   - μ΄λ¬ν• ν‘ν„μ‹μ€ μµλ€ν• ν”„λ΅μ‹ μ μ© λ€μƒμ„ μ¶•μ†ν•λ” ν‘ν„μ‹κ³Ό ν•¨κ» μ‚¬μ©λμ–΄μ•Ό ν•¨
  
