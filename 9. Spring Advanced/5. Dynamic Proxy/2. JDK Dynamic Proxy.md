-----
### JDK ë™ì  í”„ë¡ì‹œ
-----
1. í”„ë¡ì‹œë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ ì ìš© ëŒ€ìƒì˜ ìˆ«ìë§Œí¼ í”„ë¡ì‹œ í´ë˜ìŠ¤ë¦„ ë§Œë“¤ì—ˆìŒ
2. í•˜ì§€ë§Œ, í”„ë¡ì‹œ í´ë˜ìŠ¤ì˜ ê¸°ë³¸ ì½”ë“œì™€ íë¦„ ê±°ì˜ ê°™ê³ , í”„ë¡ì‹œë¥¼ ì–´ë–¤ ëŒ€ìƒì— ì ìš©í•˜ëŠ”ê°€ ì •ë„ë§Œ ì°¨ì´ ì¡´ì¬
   - ì¦‰, í”„ë¡ì‹œì˜ ë¡œì§ì€ ê°™ì€ë°, ì ìš© ëŒ€ìƒë§Œ ì°¨ì´ê°€ ìˆëŠ” ê²ƒ
3. ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê²ƒì´ JDK ë™ì  í”„ë¡ì‹œ
4. ë™ì  í”„ë¡ì‹œ ê¸°ìˆ ì„ ì‚¬ìš©í•˜ë©´ ì§ì ‘ í”„ë¡ì‹œ í´ë˜ìŠ¤ë¥´ ë§Œë“¤ì§€ ì•Ÿì•„ë„ ë¨
   - ì¦‰, í”„ë¡ì‹œ ê°ì²´ë¥¼ ë™ì ìœ¼ë¡œ ëŸ°íƒ€ì„ì— ëŒ€ì‹  ë§Œë“¤ì–´ ì¤Œ
   - ê·¸ë¦¬ê³ , ë™ì  í”„ë¡ì‹œì— ì›í•˜ëŠ” ì‹¤í–‰ ë¡œì§ ì§€ì • ê°€ëŠ¥
5. ğŸ’¡ JDK ë™ì  í”„ë¡ì‹œëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í”„ë¡ì‹œë¥¼ ë™ì ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ë¯€ë¡œ, ì¸í„°í˜ì´ìŠ¤ê°€ í•„ìˆ˜

-----
### ê¸°ë³¸ ì˜ˆì œ ì½”ë“œ
-----
1. ê°„ë‹¨íˆ A, B í´ë˜ìŠ¤ë¥¼ ë§Œë“œëŠ”ë°, JDK ë™ì  í”„ë¡ì‹œëŠ” ì¸í„°í˜ì´ìŠ¤ê°€ í•„ìˆ˜ ì´ë¯€ë¡œ, ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ì²´ë¡œ êµ¬ë¶„
2. AInterface (í…ŒìŠ¤íŠ¸ ì½”ë“œ(src/test)ì— ìœ„ì¹˜)
```java
package hello.proxy.jdkdynamic.code;

public interface AInterface {
    String call();
}
```

3. AImpl (í…ŒìŠ¤íŠ¸ ì½”ë“œ(src/test)ì— ìœ„ì¹˜)
```java
package hello.proxy.jdkdynamic.code;

import lombok.extern.slf4j.Slf4j;

@Slf4j
public class AImpl implements AInterface {
    @Override
    public String call() {
        log.info("A í˜¸ì¶œ");
        return "A";

    }
}
```

4. Binterface (í…ŒìŠ¤íŠ¸ ì½”ë“œ(src/test)ì— ìœ„ì¹˜)
```java
package hello.proxy.jdkdynamic.code;

public interface BInterface {
    String call();
}
```

5. BImpl (í…ŒìŠ¤íŠ¸ ì½”ë“œ(src/test)ì— ìœ„ì¹˜)
```java
package hello.proxy.jdkdynamic.code;

import lombok.extern.slf4j.Slf4j;

@Slf4j
public class BImpl implements BInterface {
    @Override
    public String call() {
        log.info("B í˜¸ì¶œ");
        return "B";
    }
}
```

-----
### JDK ë™ì  í”„ë¡ì‹œ - InvocationHandler
------
1. ğŸ’¡ JDK ë™ì  í”„ë¡ì‹œì— ì‚¬ìš©í•  ë¡œì§ì€ InvaocationHandler ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì„œ ì‘ì„±í•˜ë©´ ë¨
2. ğŸ’¡ JDK ë™ì  í”„ë¡ì‹œê°€ ì œê³µí•˜ëŠ” InvocationHandler
```java
package java.lang.reflect;

public interface InvocationHandler {
      public Object invoke(Object proxy, Method method, Object[] args) throws Throwable;
}
```

  - Object proxy : í”„ë¡ì‹œ ìì‹ 
  - Method method : í˜¸ì¶œí•œ ë©”ì„œë“œ
  - Object[] args : ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ ì „ë‹¬í•œ ì¸ìˆ˜

3. TimeInvocationHandler (í…ŒìŠ¤íŠ¸ ì½”ë“œ(src/test)ì— ìœ„ì¹˜)
```java
package hello.proxy.jdkdynamic.code;

import lombok.extern.slf4j.Slf4j;

import java.lang.reflect.InvocationHandler;
import java.lang.reflect.Method;

@Slf4j
public class TimeInvocationHandler implements InvocationHandler {
    private final Object target; // ProxyëŠ” í•­ìƒ í˜¸ì¶œí•  ì‹¤ì œ ê°ì²´ ì¡´ì¬

    public TimeInvocationHandler(Object target) {
        this.target = target;
    }

    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        log.info("TimeProxy ì‹¤í–‰");
        long startTime = System.currentTimeMillis();

        Object result = method.invoke(target, args);// ë§¤ê°œë³€ìˆ˜ ê¹Œì§€ ì²˜ë¦¬

        long endTime = System.currentTimeMillis();
        long resultTime = endTime - startTime;

        log.info("TimeProxy ì¢…ë£Œ resultTime = {}", resultTime);
        return result;
    }
}
```
  - TimeInvocationHandlerëŠ” InvocationHandler ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„
  - ì´ë ‡ê²Œ í•¨ìœ¼ë¡œ, JDK í”„ë¡ì‹œì— ì ìš©í•  ê³µí†µ ë¡œì§ ê°œë°œ ê°€ëŠ¥
  - Object target : ë™ì  í”„ë¡ì‹œê°€ í˜¸ì¶œí•  ëŒ€ìƒ
  - method.invoke(target, args) : ë¦¬í”Œë ‰ì…˜ì„ ì‚¬ìš©í•´ target ì¸ìŠ¤í„´ìŠ¤ì˜ ë©”ì„œë“œ ì‹¤í–‰ (args ë©”ì„œë“œ í˜¸ì¶œ ì‹œ ë„˜ê²¨ì¤„ ì¸ìˆ˜)

4. JdkDynamicProxyTest
```java
package hello.proxy.jdkdynamic;

import hello.proxy.jdkdynamic.code.*;
import lombok.extern.slf4j.Slf4j;
import org.junit.jupiter.api.Test;

import java.lang.reflect.Proxy;

@Slf4j
public class JdkDynamicProxyTest {
    @Test
    void dynamicA() {
        AInterface target = new AImpl();

        TimeInvocationHandler handler = new TimeInvocationHandler(target);

        // ë™ì  í”„ë¡ì‹œ ìƒì„± (Return : Object -> Type-Casting)
        AInterface proxy = (AInterface) Proxy.newProxyInstance(AInterface.class.getClassLoader(), new Class[]{AInterface.class}, handler);

        proxy.call();
        log.info("target Class = {}", target.getClass());

        log.info("proxy Class = {}", proxy.getClass());
    }

    @Test
    void dynamicB() {
        BInterface target = new BImpl();

        TimeInvocationHandler handler = new TimeInvocationHandler(target);

        // ë™ì  í”„ë¡ì‹œ ìƒì„± (Return : Object -> Type-Casting)
        BInterface proxy = (BInterface) Proxy.newProxyInstance(BInterface.class.getClassLoader(), new Class[]{BInterface.class}, handler);

        proxy.call();
        log.info("target Class = {}", target.getClass());

        log.info("proxy Class = {}", proxy.getClass());
    }
}
```

  - TimeInvocationHandler handler = new TimeInvocationHandler(target); : ë™ì  í”„ë¡ì‹œì— ì ìš©í•  í•¸ë“¤ëŸ¬ ë¡œì§
  - ğŸ’¡ Object proxy = Proxy.newProxyInstance(AInterface.class.getClassLoader(), new Class[]{AInterface.class}, handler);
    + ë™ì  í”„ë¡ì‹œëŠ” java.lang.reflect.Proxyë¥¼ í†µí•´ ìƒì„± ê°€ëŠ¥
    + ğŸ’¡ í´ë˜ìŠ¤ ë¡œë” ì •ë³´, ì¸í„°í˜ì´ìŠ¤, í•¸ë“¤ëŸ¬ ë¡œì§ì„ ë„£ì–´ì£¼ë©´ ë¨
    + ğŸ’¡ í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì  í”„ë¡ì‹œë¥¼ ìƒì„±í•˜ê³ , ê·¸ ê²°ê³¼ ë°˜í™˜

  - ì¶œë ¥ ê²°ê³¼
```
[Test worker] INFO hello.proxy.jdkdynamic.code.TimeInvocationHandler -- TimeProxy ì‹¤í–‰
[Test worker] INFO hello.proxy.jdkdynamic.code.AImpl -- A í˜¸ì¶œ
[Test worker] INFO hello.proxy.jdkdynamic.code.TimeInvocationHandler -- TimeProxy ì¢…ë£Œ resultTime = 1

[Test worker] INFO hello.proxy.jdkdynamic.JdkDynamicProxyTest -- target Class = class hello.proxy.jdkdynamic.code.AImpl
[Test worker] INFO hello.proxy.jdkdynamic.JdkDynamicProxyTest -- proxy Class = class jdk.proxy3.$Proxy11
```
  - í”„ë¡ì‹œ ì •ìƒ ìˆ˜í–‰

5. ìƒì„±ëœ JDK ë™ì  í”„ë¡ì‹œ
   - proxy Class = class jdk.proxy3.$Proxy11 : ë™ì ìœ¼ë¡œ ìƒì„±ëœ í”„ë¡ì‹œ í´ë˜ìŠ¤ ì •ë³´
   - ì§ì ‘ ë§Œë“  í´ë˜ìŠ¤ê°€ ì•„ë‹Œ JDK ë™ì  í”„ë¡ì‹œê°€ ì´ë¦„ ê·¸ëŒ€ë¡œ ë™ì ìœ¼ë¡œ ë§Œë“¤ì–´ì¤€ í”„ë¡ì‹œ
   - ì´ í”„ë¡ì‹œëŠ” TimeInvocationHandler ë¡œì§ ì‹¤í–‰

6. ì‹¤í–‰ ìˆœì„œ
<div align="center">
<img src="https://github.com/user-attachments/assets/cb1c4165-4f30-41fe-8c20-ad290963dc4c">
</div>

  - í´ë¼ì´ì–¸íŠ¸ëŠ” JDK ë™ì  í”„ë¡ì‹œì˜ call() ì‹¤í–‰
  - JDK ë™ì  í”„ë¡ì‹œëŠ” InvocationHandler.invoke() í˜¸ì¶œ
    + InvocationHandlerê°€ êµ¬í˜„ì²´ë¡œ ìˆìœ¼ë¯€ë¡œ, TimeInvocationHandler.invoke() í˜¸ì¶œ
  - TimeInvocationHandlerê°€ ë‚´ë¶€ ë¡œì§ì„ ìˆ˜í–‰í•˜ê³ , method.invoke(target, args)ë¥¼ í˜¸ì¶œí•´ì„œ targetì¸ ì‹¤ì œ ê°ì²´(AImpl)ë¥¼ í˜¸ì¶œ
  - AImpl ì¸ìŠ¤í„´ìŠ¤ì˜ call() ì‹¤í–‰
  - AImpl ì¸ìŠ¤í„´ìŠ¤ì˜ call()ì˜ ì‹¤í–‰ì´ ëë‚˜ë©´ TimeInvocationHandlerë¡œ ì‘ë‹µì´ ëŒì•„ì˜´
    + ì‹œê°„ ë¡œê·¸ë¥¼ ì¶œë ¥í•˜ê³ , ê²°ê³¼ ë°˜í™˜

7. ë™ì  í”„ë¡ì‹œ í´ë˜ìŠ¤ ì •ë³´
   - dynamicA()ì™€ dynamicB() ë‘˜ì„ ë™ì‹œì— í•¨ê»˜ ì‹¤í–‰í•˜ë©´ JDK ë™ì  í”„ë¡ì‹œê°€ ê° ë‹¤ë¥¸ ë™ì  í”„ë¡ì‹œ í´ë˜ìŠ¤ë¡œ ë§Œë“¬
```
[Test worker] INFO hello.proxy.jdkdynamic.code.TimeInvocationHandler -- TimeProxy ì‹¤í–‰
[Test worker] INFO hello.proxy.jdkdynamic.code.AImpl -- A í˜¸ì¶œ
[Test worker] INFO hello.proxy.jdkdynamic.code.TimeInvocationHandler -- TimeProxy ì¢…ë£Œ resultTime = 0
[Test worker] INFO hello.proxy.jdkdynamic.JdkDynamicProxyTest -- target Class = class hello.proxy.jdkdynamic.code.AImpl
[Test worker] INFO hello.proxy.jdkdynamic.JdkDynamicProxyTest -- proxy Class = class jdk.proxy3.$Proxy11 // dynamicA
 
[Test worker] INFO hello.proxy.jdkdynamic.code.TimeInvocationHandler -- TimeProxy ì‹¤í–‰
[Test worker] INFO hello.proxy.jdkdynamic.code.BImpl -- B í˜¸ì¶œ
[Test worker] INFO hello.proxy.jdkdynamic.code.TimeInvocationHandler -- TimeProxy ì¢…ë£Œ resultTime = 1
[Test worker] INFO hello.proxy.jdkdynamic.JdkDynamicProxyTest -- target Class = class hello.proxy.jdkdynamic.code.BImpl
[Test worker] INFO hello.proxy.jdkdynamic.JdkDynamicProxyTest -- proxy Class = class jdk.proxy3.$Proxy12 // dynamicB
```

8. ì •ë¦¬
   - ì˜ˆì œë¥¼ ë³´ë©´, AImpl, BImpl ê°ê° í”„ë¡ì‹œë¥¼ ë§Œë“¤ì§€ ì•Šê³ , í”„ë¡ì‹œëŠ” JDK ë™ì  í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•´ì„œ ë™ì ìœ¼ë¡œ ë§Œë“¤ê³  TimeInvocationHandlerëŠ” ê³µí†µìœ¼ë¡œ ì‚¬ìš©
   - JDK ë™ì  í”„ë¡ì‹œ ê¸°ìˆ  ë•ë¶„ì— ì ìš© ëŒ€ìƒ ë§Œí¼ í”„ë¡ì‹œ ê°ì²´ë¥¼ ë§Œë“¤ì§€ ì•Šì•„ë„ ë¨
   - ê·¸ë¦¬ê³  ê°™ì€ ë¶€ê°€ ê¸°ëŠ¥ ë¡œì§ì„ í•œ ë²ˆë§Œ êµ¬í˜„í•´ì„œ ê³µí†µ ì ìš© ê°€ëŠ¥
   - ì¦‰, ì ìš© ëŒ€ìƒì´ 100ê°œì¼ì§€ë¼ë„, ë™ì  í”„ë¡ì‹œë¥¼ í†µí•´ ìƒì„±í•˜ê³  ê° í•„ìš”í•œ InvocationHandlerë§Œ ë§Œë“¤ì–´ì„œ ë„£ì–´ì£¼ë©´ ë¨
   - ê²°ê³¼ì ìœ¼ë¡œ í”„ë¡ì‹œ í´ë˜ìŠ¤ë¥¼ ìˆ˜ ì—†ì´ ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ë¬¸ì œ í•´ê²°, ë¶€ê°€ ê¸°ëŠ¥ ë¡œì§ë„ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ì— ëª¨ì•„ì„œ ë‹¨ì¼ ì±…ì„ ì›ì¹™(SRP)ë„ ì§€í‚¬ ìˆ˜ ìˆê²Œ ë¨

9. JDK ë™ì  í”„ë¡ì‹œ ë„ì… ì „ / í›„ - ì§ì ‘ í”„ë¡ì‹œ ìƒì„±
   - JDK ë™ì  í”„ë¡ì‹œ ë„ì… ì „ (í´ë˜ìŠ¤ ì˜ì¡´ ê´€ê³„)
<div align="center">
<img src="https://github.com/user-attachments/assets/8cb5a342-8f66-48f8-abeb-b4ca63633940">
</div>

  - JDK ë™ì  í”„ë¡ì‹œ ë„ì… í›„ (í´ë˜ìŠ¤ ì™¸ì¡´ ê´€ê³„)
<div align="center">
<img src="https://github.com/user-attachments/assets/d8dec2d3-4e4a-450f-9d7a-34977018e328">
</div>

  - JDK ë™ì  í”„ë¡ì‹œ ë„ì… ì „ / í›„ (ëŸ°íƒ€ì„ ê°ì²´ ì˜ì¡´ ê´€ê³„)
<div align="center">
<img src="https://github.com/user-attachments/assets/1b6e4283-7f3d-4099-afc8-3bbed7468a6c">
</div>
