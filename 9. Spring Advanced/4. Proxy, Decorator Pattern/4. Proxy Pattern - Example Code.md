-----
### ğŸ’¡ í”„ë¡ì‹œ íŒ¨í„´ - ì ‘ê·¼ ì œì–´ê°€ ëª©ì 
-----
1. í…ŒìŠ¤íŠ¸ ì½”ë“œì— Lombok ì ìš©
   - build.gradleì— ì˜ì¡´ ê´€ê³„ ì¶”ê°€
```gradle
dependencies {
  
    ...
  
  	// í…ŒìŠ¤íŠ¸ì—ì„œ lombok ì‚¬ìš©
  	testCompileOnly 'org.projectlombok:lombok'
  	testAnnotationProcessor 'org.projectlombok:lombok'
}
```

2. í”„ë¡ì‹œ íŒ¨í„´ - ì˜ˆì œ ì½”ë“œ ì‘ì„±
   - í”„ë¡ì‹œ íŒ¨í„´ ì ìš© ì „ - í´ë˜ìŠ¤ ì˜ì¡´ ê´€ê³„
<div align="center">
<img src="https://github.com/user-attachments/assets/4f7d8b17-00da-4971-99de-058835371321">
</div>

   - í”„ë¡ì‹œ íŒ¨í„´ ì ìš© ì „ - ëŸ°íƒ€ì„ ê°ì²´ ì˜ì¡´ ê´€ê³„
<div align="center">
<img src="https://github.com/user-attachments/assets/68a3d8db-f0ee-44b7-9540-4598f204f13e">
</div>

  - Subject ì¸í„°í˜ì´ìŠ¤ (í…ŒìŠ¤íŠ¸ ì½”ë“œ(src/test)ì— ìœ„ì¹˜)
```java
package hello.proxy.pureproxy.proxy.code;

public interface Subject {
    String operation();
}
```
  - ë‹¨ìˆœíˆ operation() ë©”ì„œë“œ í•˜ë‚˜ë§Œ ê°€ì§€ê³  ìˆìŒ

  - RealSubject (í…ŒìŠ¤íŠ¸ ì½”ë“œ(src/test)ì— ìœ„ì¹˜)
```java
package hello.proxy.pureproxy.proxy.code;

import lombok.extern.slf4j.Slf4j;

@Slf4j
public class RealSubject implements Subject {
    @Override
    public String operation() {
        log.info("ì‹¤ì œ ê°ì²´ í˜¸ì¶œ");
        sleep(1000);
        return "Data";
    }

    private void sleep(int millis) {
        try {
            Thread.sleep(millis);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
```
  - RealSubjectëŠ” Subject ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„
  - operation()ì€ ë°ì´í„° ì¡°íšŒë¥¼ ì‹œë®¬ë ˆì´ì…˜ í•˜ê¸° ìœ„í•´ 1ì´ˆ ì‰¬ë„ë¡ ì„¤ì •
  - ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ë¥¼ DBë‚˜ ì™¸ë¶€ì—ì„œ ì¡°íšŒí•˜ëŠ”ë° 1ì´ˆê°€ ê±¸ë¦°ë‹¤ê³  ìƒê°
  - í˜¸ì¶œí•  ë•Œ ë§ˆë‹¤ ì‹œìŠ¤í…œì— í° ë¶€í•˜ë¥¼ ì£¼ëŠ” ë°ì´í„° ì¡°íšŒë¼ê³  ê°€ì •

  - ProxyPatternClient (í…ŒìŠ¤íŠ¸ ì½”ë“œ(src/test)ì— ìœ„ì¹˜)
```java
package hello.proxy.pureproxy.proxy.code;

public class ProxyPatternClient {
    private Subject subject;

    public ProxyPatternClient(Subject subject) {
        this.subject = subject;
    }

    public void execute() {
        subject.operation();
    }
}
```
  - Subject ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ê³ , Subjectë¥¼ í˜¸ì¶œí•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ
  - execute()ë¥¼ ì‹¤í–‰í•˜ë©´ subject.operation()ë¥¼ í˜¸ì¶œ

  - ProxyPatternTest
```java
package hello.proxy.pureproxy.proxy;

import hello.proxy.pureproxy.proxy.code.ProxyPatternClient;
import hello.proxy.pureproxy.proxy.code.RealSubject;
import org.junit.jupiter.api.Test;

public class ProxyPatternTest {
    @Test
    void noProxyTest() {
        RealSubject realSubject = new RealSubject();
        ProxyPatternClient client = new ProxyPatternClient(realSubject);

        client.execute();
        client.execute();
        client.execute();
    }
}
```
  - í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œëŠ” client.execute()ë¥¼ 3ë²ˆ í˜¸ì¶œ
  - ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ” 1ì´ˆê°€ ì†Œëª¨ë˜ë¯€ë¡œ ì´ 3ì´ˆì˜ ì‹œê°„ ì†Œëª¨
  - ì‹¤í–‰ ê²°ê³¼
```
[Test worker] INFO hello.proxy.pureproxy.proxy.code.RealSubject -- ì‹¤ì œ ê°ì²´ í˜¸ì¶œ
[Test worker] INFO hello.proxy.pureproxy.proxy.code.RealSubject -- ì‹¤ì œ ê°ì²´ í˜¸ì¶œ
[Test worker] INFO hello.proxy.pureproxy.proxy.code.RealSubject -- ì‹¤ì œ ê°ì²´ í˜¸ì¶œ
```

  - client.execute()ë¥¼ 3ë²ˆ í˜¸ì¶œí•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬
    + client â†’ realSubjectë¥¼ í˜¸ì¶œí•´ì„œ ê°’ì„ ì¡°íšŒ (1ì´ˆ)
    + client â†’ realSubjectë¥¼ í˜¸ì¶œí•´ì„œ ê°’ì„ ì¡°íšŒ (1ì´ˆ)
    + client â†’ realSubjectë¥¼ í˜¸ì¶œí•´ì„œ ê°’ì„ ì¡°íšŒ (1ì´ˆ)
  - ê·¸ëŸ°ë° ì´ ë°ì´í„°ê°€ í•œ ë²ˆ ì¡°íšŒí•˜ë©´ ë³€í•˜ì§€ ì•ŠëŠ” ë°ì´í„°ë¼ë©´, ì–´ë”˜ê°€ì— ë³´ê´€í•´ë‘ê³  ì´ë¯¸ ì¡°íšŒí•œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì„±ëŠ¥ìƒ ì¢‹ìŒ. ì´ëŸ° ê²ƒì„ 'ìºì‹œ(Cache)'

3. í”„ë¡ì‹œ íŒ¨í„´ì˜ ì£¼ìš” ê¸°ëŠ¥ì€ 'ì ‘ê·¼ ì œì–´'ì´ë©°, ìºì‹œë„ ì ‘ê·¼ ìì²´ë¥¼ ì œì–´í•˜ëŠ” ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜

4. í”„ë¡ì‹œ íŒ¨í„´ ì ìš©
<div align="center">
<img src="https://github.com/user-attachments/assets/9a5ee9b3-68a8-4107-9e1b-695e01aa2bab">
<img src="https://github.com/user-attachments/assets/3734641b-bb79-4692-a71b-03d306b7f89e">
</div>

  - CacheProxy
```java
package hello.proxy.pureproxy.proxy.code;

import lombok.extern.slf4j.Slf4j;

@Slf4j
public class CacheProxy implements Subject {
    
    private Subject target; // í˜¸ì¶œí•´ì•¼ë˜ëŠ” ëŒ€ìƒ : ì‹¤ì œ ê°ì²´
    private String cacheValue; // ìºì‹œí•˜ëŠ” ë°ì´í„°

    public CacheProxy(Subject target) {
        this.target = target;
    }

    @Override
    public String operation() {
        log.info("í”„ë¡ì‹œ í˜¸ì¶œ");
        
        if(cacheValue == null) {
            cacheValue = target.operation(); // ì‹¤ì œ ê°ì²´ ë°˜í™˜ ê°’ì„ ìºì‹œ ë°ì´í„°ì— ì €ì¥
        }
        return cacheValue; // ìºì‹œ ë°ì´í„° ë°˜í™˜
    }
}
```
  - í”„ë¡ì‹œë„ ì‹¤ì œ ê°ì²´ì™€ ê·¸ ëª¨ì–‘ì´ ê°™ì•„ì•¼ í•˜ë¯€ë¡œ Subject ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„
  - private Subject target : í´ë¼ì´ì–¸íŠ¸ê°€ í”„ë¡ì‹œë¥¼ í˜¸ì¶œí•˜ë©´ í”„ë¡ì‹œê°€ ìµœì¢…ì ìœ¼ë¡œ ì‹¤ì œ ê°ì²´ë¥¼ í˜¸ì¶œí•´ì•¼ í•¨
    + ë”°ë¼ì„œ, ë‚´ë¶€ì— ì‹¤ì œ ê°ì²´ ì°¸ì¡°ë¥¼ ê°€ì§€ê³  ìˆì–´ì•¼ í•¨
    + ì´ë ‡ê²Œ, í”„ë¡ì‹œê°€ í˜¸ì¶œí•˜ëŠ” ëŒ€ìƒì„ targetì´ë¼ í•¨
  - operation() : êµ¬í˜„í•œ ì½”ë“œë¥¼ ë³´ë©´ cacheValueì— ê°’ì´ ì—†ìœ¼ë©´ ì‹¤ì œ ê°ì²´(target)ì„ í˜¸ì¶œí•´ì„œ ê°’ì„ êµ¬í•¨
    + ê·¸ë¦¬ê³  êµ¬í•œ ê°’ì„ cacheValueì— ì €ì¥í•˜ê³  ë°˜í™˜
    + ë§Œì•½, cacheValueì— ê°’ì´ ìˆìœ¼ë©´, ì‹¤ì œ ê°ì²´ë¥¼ ì „í˜€ í˜¸ì¶œí•˜ì§€ ì•Šê³ , ìºì‹œ ê°’ì„ ê·¸ëŒ€ë¡œ ë°˜í™˜
    + ë”°ë¼ì„œ, ì²˜ìŒ ì¡°íšŒ ì´í›„ì—ëŠ” ìºì‹œ(cacheValue)ì—ì„œ ë§¤ìš° ë¹ ë¥´ê²Œ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìŒ

  - ProxyPatternTest - cacheProxyTest() ì¶”ê°€
```java
@Test
void cacheProxyTest() {
    RealSubject realSubject = new RealSubject();
    CacheProxy cacheProxy = new CacheProxy(realSubject);
    ProxyPatternClient client = new ProxyPatternClient(cacheProxy);
    
    client.execute(); // cacheProxy í˜¸ì¶œ
    client.execute(); // cacheProxy í˜¸ì¶œ
    client.execute(); // cacheProxy í˜¸ì¶œ
}
```
  - realSubjectì™€ cahceProxyë¥¼ ìƒì„±í•˜ê³  ë‘˜ì„ ì—°ê²°í•¨
  - ê²°ê³¼ì ìœ¼ë¡œ cacheProxyê°€ realSubjectë¥¼ ì°¸ì¡°í•˜ëŠ” ëŸ°íƒ€ì„ ê°ì²´ ì˜ì¡´ê´€ê³„ê°€ í˜•ì„±
  - ë§ˆì§€ë§‰ìœ¼ë¡œ clientì— realSubjectê°€ ì•„ë‹Œ cacheProxyë¥¼ ì£¼ì…
  - ë”°ë¼ì„œ, client â†’ cacheProxy â†’ realSubject ëŸ°íƒ€ì„ ê°ì²´ ì˜ì¡´ ê´€ê³„ê°€ ì™„ì„±
  - ë§ˆì§€ë§‰ìœ¼ë¡œ, client.execute()ë¥¼ ì´ 3ë²ˆ í˜¸ì¶œ
  - ğŸ’¡ ì´ë²ˆì—ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì‹¤ì œ realSubjectë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ cacheProxyë¥¼ í˜¸ì¶œ

```
[Test worker] INFO hello.proxy.pureproxy.proxy.code.CacheProxy -- í”„ë¡ì‹œ í˜¸ì¶œ
[Test worker] INFO hello.proxy.pureproxy.proxy.code.RealSubject -- ì‹¤ì œ ê°ì²´ í˜¸ì¶œ
[Test worker] INFO hello.proxy.pureproxy.proxy.code.CacheProxy -- í”„ë¡ì‹œ í˜¸ì¶œ
[Test worker] INFO hello.proxy.pureproxy.proxy.code.CacheProxy -- í”„ë¡ì‹œ í˜¸ì¶œ
```
  - ğŸ’¡ ì²˜ë¦¬ íë¦„
    + ğŸ’¡ clientì˜ cacheProxy í˜¸ì¶œ â†’ cacheProxyì— ìºì‹œ ê°’ì´ ì—†ìŒ â†’ realSubject í˜¸ì¶œ. ê²°ê³¼ë¥¼ ìºì‹œì— ì €ì¥ (1ì´ˆ)
    + ğŸ’¡ clientì˜ cacheProxy í˜¸ì¶œ â†’ cacheProxyì— ìºì‹œ ê°’ì´ ìˆìŒ â†’ cacheProxyì—ì„œ ì¦‰ì‹œ ë°˜í™˜ (0ì´ˆ)
    + clientì˜ cacheProxy í˜¸ì¶œ â†’ cacheProxyì— ìºì‹œ ê°’ì´ ìˆìŒ â†’ cacheProxyì—ì„œ ì¦‰ì‹œ ë°˜í™˜ (0ì´ˆ)

5. ê²°ê³¼ì ìœ¼ë¡œ ìºì‹œ í”„ë¡ì‹œë¥¼ ë„ì…í•˜ê¸° ì „ì—ëŠ” 3ì´ˆê°€ ê±¸ë ¸ì§€ë§Œ, í”„ë¡ì‹œ ë„ì… ì´í›„ì—ëŠ” ìµœì´ˆ í•œë²ˆë§Œ 1ì´ˆê°€ ê±¸ë¦¬ê³ , ì´í›„ëŠ” ê±°ì˜ ì¦‰ì‹œ ë°˜í™˜
6. ì •ë¦¬
   - ğŸ’¡ í”„ë¡ì‹œ íŒ¨í„´ì˜ í•µì‹¬ì€ RealSubject ì½”ë“œì™€ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œë¥¼ ì „í˜€ ë³€ê²½í•˜ì§€ ì•Šê³ , í”„ë¡ì‹œë¥¼ ë„ì…í•´ ì ‘ê·¼ ì œì–´ë¥¼ í•¨
   - ë˜í•œ, í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ ë³€ê²½ ì—†ì´ ììœ ë¡­ê²Œ í”„ë¡ì‹œë¥¼ ë„£ê³  ëº„ ìˆ˜ ì´ìŒ
   - ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸ ì…ì¥ì—ì„œëŠ” í”„ë¡ì‹œ ê°ì²´ê°€ ì£¼ì…ë˜ì—ˆëŠ”ì§€, ì‹¤ì œ ê°ì²´ê°€ ì£¼ì…ë˜ì—ˆëŠ”ì§€ ì•Œì§€ ëª» í•¨
