-----
### ì˜ˆì œ í”„ë¡œì íŠ¸ ë§Œë“¤ê¸° V1
-----
1. ë‹¤ì–‘í•œ ìƒí™©ì—ì„œ í”„ë¡ì‹œ ì‚¬ìš©ë²•ì„ ì´í•´í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ê¸°ì¤€ìœ¼ë¡œ ì˜ˆì œ í”„ë¡œì íŠ¸ ì œì‘
2. í¬ê²Œ 3ê°€ì§€ ìƒí™©
   - v1 : ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ í´ë˜ìŠ¤ (ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ìˆ˜ë™ ë“±ë¡)
   - v2 : ì¸í„°í˜ì´ìŠ¤ ì—†ëŠ” êµ¬ì²´ í´ë˜ìŠ¤ (ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ìˆ˜ë™ ë“±ë¡)
   - v3 : ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆ ìë™ ë“±ë¡

3. ì‹¤ë¬´ì—ì„œëŠ” ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•  í´ë˜ìŠ¤ëŠ” ì¸í„°í˜ì´ìŠ¤ê°€ ìˆëŠ” ê²½ìš°ë„ ìˆê³ , ì—†ëŠ” ê²½ìš°ë„ ì¡´ì¬
4. ê·¸ë¦¬ê³  ìŠ¤í”„ë§ ë¹ˆì„ ìˆ˜ë™ìœ¼ë¡œ ì§ì ‘ ë“±ë¡í•˜ëŠ” ê²½ìš°ë„ ìˆê³ , ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ìœ¼ë¡œ ìë™ìœ¼ë¡œ ë“±ë¡í•˜ëŠ” ê²½ìš°ë„ ì¡´ì¬

-----
### v1 - ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ í´ë˜ìŠ¤ - ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ìˆ˜ë™ ë“±ë¡
-----
1. Controller, Service, Repositoryì— ì¸í„°í˜ì´ìŠ¤ë¥¼ ë„ì…í•˜ê³ , ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ìˆ˜ë™ ë“±ë¡
2. OrderRepositoryV1
```java
package hello.proxy.app.v1;

public interface OrderRepositoryV1 {
    void save(String itemId);
}
```

  - OrderRepositoryV1Impl
```java
package hello.proxy.app.v1;

public class OrderRepositoryV1Impl implements OrderRepositoryV1 {
    @Override
    public void save(String itemId) {
        // ì €ì¥ ë¡œì§
        if(itemId.equals("ex")) {
            throw new IllegalStateException("ì˜ˆì™¸ ë°œìƒ");
        }
        sleep(1000);
    }

    private void sleep(int millis) {
        try {
            Thread.sleep(millis);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
```

3. OrderServiceV1
```java
package hello.proxy.app.v1;

public interface OrderServiceV1 {
    void orderItem(String itemId);
}
```

  - OrderServiceV1Impl
```java
package hello.proxy.app.v1;

public class OrderServiceV1Impl implements OrderServiceV1 {
    private final OrderRepositoryV1 orderRepository;

    public OrderServiceV1Impl(OrderRepositoryV1 orderRepository) {
        this.orderRepository = orderRepository;
    }

    @Override
    public void orderItem(String itemId) {
        orderRepository.save(itemId);
    }
}
```
    
4. OrderControllerV1
```java
package hello.proxy.app.v1;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseBody;

@RequestMapping
@ResponseBody
public interface OrderControllerV1 {
    @GetMapping("/v1/request")
    String request(@RequestParam("itemId") String itemId);

    @GetMapping("/v1/no-log")
    String noLog();
}
```
  - @RequestMapping : Spring MVCëŠ” íƒ€ì…ì— @Controller ë˜ëŠ” @RequestMapping ì• ë„ˆí…Œì´ì…˜ì´ ìˆì–´ì•¼ ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì¸ì‹ (ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0 ì´í•˜)
    + ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì¸ì‹í•´ì•¼, HTTP URLì´ ë§¤í•‘ë˜ê³  ë™ì‘
    + ì´ ì• ë„ˆí…Œì´ì…˜ì€ ì¸í„°í˜ì´ìŠ¤ì— ì‚¬ìš©í•´ë„ ë¨
  - @ResponseBody : HTTP ë©”ì„¸ì§€ ì»¨ë²„í„°ë¥¼ ì‚¬ìš©í•´ ì‘ë‹µí•˜ë©°, ì´ ì• ë„ˆí…Œì´ì…˜ì€ ì¸í„°í˜ì´ìŠ¤ì— ì‚¬ìš©í•´ë„ ë¨
  - ğŸ’¡ @RequestParam("itemId") String itemId : ì¸í„°í˜ì´ìŠ¤ì—ëŠ” @RequestParam("itemId")ì˜ ê°’ì„ ìƒëµí•˜ë©´, itemIdë¥¼ ì»´íŒŒì¼ ì´í›„ ìë°” ë²„ì „ì— ë”°ë¼ ì¸ì‹í•˜ì§€ ëª»í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ê¼­ ë„£ì–´ì¤˜ì•¼ í•¨
    + ë‹¨, í´ë˜ìŠ¤ì—ëŠ” ìƒëµí•´ë„ ëŒ€ë¶€ë¶„ ì˜ ì§€ì›ë¨
  - reqeust(), noLog() ë‘ ê°€ì§€ ë©”ì„œë“œ ì¡´ì¬
    + request()ëŠ” LogTraceë¥¼ ì ìš©í•  ëŒ€ìƒ
    + noLog()ëŠ” ë‹¨ìˆœíˆ LogTraceë¥¼ ì ìš©í•˜ì§€ ì•Šì„ ëŒ€ìƒ

  - ğŸ’¡ ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0 ë³€ê²½ì‚¬í•­
    + ğŸ’¡ ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0 (ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ 6.0)ë¶€í„°ëŠ” í´ë˜ìŠ¤ ë ˆë²¨ì— @RequestMappingì´ ìˆì–´ë„ ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì¸ì‹í•˜ì§€ ì•ŠìŒ
    + ì˜¤ì§ @Controllerê°€ ìˆì–´ì•¼ ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì¸ì‹
    + ì°¸ê³ ë¡œ, @RestControllerëŠ” í•´ë‹¹ ì• ë„ˆí…Œì´ì…˜ ë‚´ë¶€ì— @Controllerë¥¼ í¬í•¨í•˜ê³  ìˆìœ¼ë¯€ë¡œ ì¸ì‹ë¨
```java
package hello.proxy.app.v1;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseBody;

@RestController // ìŠ¤í”„ë§ì€ @Controller, @RestControllerê°€ ìˆì–´ì•¼ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì¸ì‹ (ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0 ì´ìƒ)
public interface OrderControllerV1 {
    @GetMapping("/v1/request")
    String request(@RequestParam("itemId") String itemId);

    @GetMapping("/v1/no-log")
    String noLog();
}
```
  - ì´í›„ í•™ìŠµí•  OrderControllerV2ì—ì„œë„ ìœ„ì™€ ê°™ì´ @RestController ì‚¬ìš©
```java
@RestController // ìŠ¤í”„ë§ì€ @Controller, @RestControllerê°€ ìˆì–´ì•¼ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì¸ì‹ (ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0 ì´ìƒ)
public interface OrderControllerV2 {

}
```
  - OrderControllerV1Impl
```java
package hello.proxy.app.v1;

public class OrderControllerV1Impl implements OrderControllerV1 {
    private final OrderServiceV1 orderService;

    public OrderControllerV1Impl(OrderServiceV1 orderService) {
        this.orderService = orderService;
    }

    @Override
    public String request(String itemId) {
        orderService.orderItem(itemId);
        return "OK";
    }

    @Override
    public String noLog() {
        return "OK";
    }
}
```
  - ì»¨íŠ¸ë¡¤ëŸ¬ êµ¬í˜„ì²´ì´ë©°, OrderControllerV1 ì¸í„°í˜ì´ìŠ¤ì— ìŠ¤í”„ë§ MVC ê´€ë ¨ ì• ë„ˆí…Œì´ì…˜ì´ ì •ì˜

5. AppV1Config
```java
package hello.proxy.config;

import hello.proxy.app.v1.*;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class AppV1Config {
    @Bean
    public OrderControllerV1 orderControllerV1() {
        return new OrderControllerV1Impl(orderServiceV1());
    }

    @Bean
    public OrderServiceV1 orderServiceV1() {
        return new OrderServiceV1Impl(orderRepositoryV1());
    }

    @Bean
    public OrderRepositoryV1 orderRepositoryV1() {
        return new OrderRepositoryV1Impl();
    }
}
```
  - ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ìˆ˜ë™ ë“±ë¡

6. ProxyApplication
```java
package hello.proxy;

import hello.proxy.config.AppV1Config;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Import;

@Import(AppV1Config.class)
@SpringBootApplication(scanBasePackages = "hello.proxy.app") //ì£¼ì˜
public class ProxyApplication {

	public static void main(String[] args) {
		SpringApplication.run(ProxyApplication.class, args);
	}

}
```
  - @Import(AppV1Config.class): í´ë˜ìŠ¤ë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡
    + ì—¬ê¸°ì„œëŠ” AppV1Config.classë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡
    + ì¼ë°˜ì ìœ¼ë¡œ @Configuration ê°™ì€ ì„¤ì • íŒŒì¼ì„ ë“±ë¡í•  ë•Œ ì‚¬ìš©í•˜ì§€ë§Œ, ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡í•  ë•Œë„ ì‚¬ìš© ê°€ëŠ¥

  - @SpringBootApplication(scanBasePackages = "hello.proxy.app")
    + @ComponentScanì˜ ê¸°ëŠ¥ê³¼ ë™ì¼
    + ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” ì‹œì‘ ìœ„ì¹˜ë¥¼ ì§€ì •
    + ì´ ê°’ì„ ì„¤ì •í•˜ë©´ í•´ë‹¹ íŒ¨í‚¤ì§€ì™€ ê·¸ í•˜ìœ„ íŒ¨í‚¤ì§€ë¥¼ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”
    + ì´ ê°’ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ProxyApplicationì´ ìˆëŠ” íŒ¨í‚¤ì§€ì™€ ê·¸ í•˜ìœ„íŒ¨í‚¤ì§€ë¥¼ ìŠ¤ìº”
    + ì°¸ê³ ë¡œ, v3ì—ì„œ ì§€ê¸ˆ ì„¤ì •í•œ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” ê¸°ëŠ¥ì„ ì‚¬ìš©

  - @Configurationì„ ì‚¬ìš©í•œ ìˆ˜ë™ ë¹ˆ ë“±ë¡ ì„¤ì •ì„ hello.proxy.config ìœ„ì¹˜ì— ë‘ê³  ì ì§„ì ìœ¼ë¡œ ë³€ê²½ ì˜ˆì •
    + ì¦‰, AppV1Config.classë¥¼ @Importë¥¼ ì‚¬ìš©í•´ì„œ ì„¤ì •í•˜ì§€ë§Œ, ì´í›„ ë‹¤ë¥¸ ê²ƒì„ ì„¤ì •
  - @Configurationì€ ë‚´ë¶€ì— @Component ì• ë„ˆí…Œì´ì…˜ì„ í¬í•¨í•˜ë¯€ë¡œ, ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì˜ ëŒ€ìƒì´ ë¨
    + ë”°ë¼ì„œ, ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì— ì˜í•´ hello.proxy.config ìœ„ì¹˜ì˜ ì„¤ì • íŒŒì¼ë“¤ì´ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ìë™ ë“±ë¡ ë˜ì§€ ì•Šë„ë¡ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì˜ ì‹œì‘ ìœ„ì¹˜ë¥¼ scanBasePackages=hello.proxy.appìœ¼ë¡œ ì„¤ì •

  - ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0 ì´ìƒ
```java
package hello.proxy;

import hello.proxy.config.AppV1Config;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Import;

@Import(AppV1Config.class)
@SpringBootApplication(scanBasePackages = "hello.proxy.app.v3") //ì£¼ì˜
public class ProxyApplication {

	public static void main(String[] args) {
		SpringApplication.run(ProxyApplication.class, args);
	}

}
```
  - ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0ë¶€í„°ëŠ” @Controller, @RestControllerë¥¼ ì‚¬ìš©í–ˆëŠ”ë°, ì´ë ‡ê²Œ í•˜ë©´ ë‚´ë¶€ì— @Componentë¥¼ ê°€ì§€ê³  ìˆì–´ì„œ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì˜ ëŒ€ìƒì´ ë¨
  - ë”°ë¼ì„œ, ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ë„ ë˜ê³ , ë¹ˆë„ ìˆ˜ë™ìœ¼ë¡œ ì§ì ‘ ë“±ë¡í•˜ê²Œ ë˜ë©´ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ë“±ë¡ ì‹œ ì¶©ëŒ ì˜¤ë¥˜ ë°œìƒ
  - hello.proxy.app.v3ì€ ë¹ˆì„ ì§ì ‘ ë“±ë¡í•˜ì§€ ì•Šê³  ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ë¯€ë¡œ ê´œì°®ìŒ

-----
### v2 - ì¸í„°í˜ì´ìŠ¤ê°€ ì—†ëŠ” êµ¬ì²´ í´ë˜ìŠ¤ - ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ìˆ˜ë™ ë“±ë¡
-----
1. ì¸í„°í˜ì´ìŠ¤ê°€ ì—†ëŠ” Controller, Service, Repositoryë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ìˆ˜ë™ ë“±ë¡
2. OrderRepositoryV2
```java
package hello.proxy.app.v2;

public class OrderRepositoryV2 {
    public void save(String itemId) {
        // ì €ì¥ ë¡œì§
        if(itemId.equals("ex")) {
            throw new IllegalStateException("ì˜ˆì™¸ ë°œìƒ");
        }
        sleep(1000);
    }

    private void sleep(int millis) {
        try {
            Thread.sleep(millis);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
```

3. OrderServiceV2
```java
package hello.proxy.app.v2;

public class OrderServiceV2 {
    private final OrderRepositoryV2 orderRepository;

    public OrderServiceV2(OrderRepositoryV2 orderRepository) {
        this.orderRepository = orderRepository;
    }

    public void orderItem(String itemId) {
        orderRepository.save(itemId);
    }
}
```

4. OrderRepositoryV2
```java
package hello.proxy.app.v2;

import lombok.extern.slf4j.Slf4j;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@Slf4j
@RestController
public class OrderControllerV2 {
    private final OrderServiceV2 orderService;

    public OrderControllerV2(OrderServiceV2 orderService) {
        this.orderService = orderService;
    }

    @GetMapping("/v2/request")
    public String request(String itemId) {
        orderService.orderItem(itemId);
        return "OK";
    }

    @GetMapping("/v2/no-log")
    public String noLog() {
        return "OK";
    }
}
```
  - @RequestMapping : ìŠ¤í”„ë§ MVCëŠ” íƒ€ì…ì— @Controller ë˜ëŠ” @RequestMapping ì• ë„ˆí…Œì´ì…˜ì´ ìˆì–´ì•¼ ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì¸ì‹
    + ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì¸ì‹í•´ì•¼ HTTP URLì´ ë§¤í•‘ë˜ê³  ë™ì‘
    + ì—¬ê¸°ì„œëŠ”, @Controllerë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , @RequestMapping ì• ë„ˆí…Œì´ì…˜ ì‚¬ìš©í•œ ì´ìœ ëŠ” @Controllerë¥¼ ì‚¬ìš©í•˜ë©´ ìë™ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” ëŒ€ìƒì´ ë¨
    + ì—¬ê¸°ì„œëŠ” ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ í†µí•œ ìë™ ë¹ˆ ë“±ë¡ì´ ì•„ë‹Œ ìˆ˜ë™ ë¹ˆ ë“±ë¡ì„ í•˜ëŠ” ê²ƒì´ ëª©í‘œì´ë¯€ë¡œ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ê³¼ ê´€ê³„ ì—†ëŠ” @RequestMappingì„ íƒ€ì…ì— ì‚¬ìš©
    
  - ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0 ì´ìƒ
```java
package hello.proxy.app.v2;

import lombok.extern.slf4j.Slf4j;
import org.springframework.web.bind.annotation.RestController;

@Slf4j
@RestController
public class OrderControllerV2 {
    private final OrderServiceV2 orderService;

    public OrderControllerV2(OrderServiceV2 orderService) {
        this.orderService = orderService;
    }

    @GetMapping("/v2/request")
    public String request(String itemId) {
        orderService.orderItem(itemId);
        return "OK";
    }

    @GetMapping("/v2/no-log")
    public String noLog() {
        return "OK";
    }
}
```

5. AppV2Config
```java
package hello.proxy.config;

import hello.proxy.app.v2.OrderControllerV2;
import hello.proxy.app.v2.OrderRepositoryV2;
import hello.proxy.app.v2.OrderServiceV2;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class AppV2Config {
    @Bean
    public OrderControllerV2 orderControllerV2() {
        return new OrderControllerV2(orderServiceV2());
    }

    @Bean
    public OrderServiceV2 orderServiceV2() {
        return new OrderServiceV2(orderRepositoryV2());
    }

    @Bean
    public OrderRepositoryV2 orderRepositoryV2() {
        return new OrderRepositoryV2();
    }
}
```
  - ìˆ˜ë™ ë¹ˆ ë“±ë¡ì„ ìœ„í•œ ì„¤ì •

6. ProxyApplication
```java
package hello.proxy;

import hello.proxy.config.AppV1Config;
import hello.proxy.config.AppV2Config;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Import;

// @Import(AppV1Config.class)
@Import({AppV1Config.class, AppV2Config.class})
@SpringBootApplication(scanBasePackages = "hello.proxy.app.v3") //ì£¼ì˜
public class ProxyApplication {

	public static void main(String[] args) {
		SpringApplication.run(ProxyApplication.class, args);
	}

}
```
  - ê¸°ì¡´ : @Import(AppV1Config.class)
  - ë³€ê²½ : @Import({AppV1Config.class, AppV2Config.class})
  - @Import ì•ˆì— ë°°ì—´ë¡œ ë“±ë¡í•˜ê³  ì‹¶ì€ ì„¤ì • íŒŒì¼ ë‹¤ì–‘í•˜ê²Œ ì¶”ê°€ ê°€ëŠ¥

-----
### v3 - ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆ ìë™ ë“±ë¡
-----
1. OrderRepositoryV3
```java
package hello.proxy.app.v3;

import org.springframework.stereotype.Repository;

@Repository // Repository ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”
public class OrderRepositoryV3 {
    public void save(String itemId) {
        // ì €ì¥ ë¡œì§
        if(itemId.equals("ex")) {
            throw new IllegalStateException("ì˜ˆì™¸ ë°œìƒ");
        }
        sleep(1000);
    }

    private void sleep(int millis) {
        try {
            Thread.sleep(millis);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
```

2. OrderServiceV3
```java
package hello.proxy.app.v3;

import org.springframework.stereotype.Service;

@Service // Service ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”
public class OrderServiceV3 {
    private final OrderRepositoryV3 orderRepository;

    public OrderServiceV3(OrderRepositoryV3 orderRepository) {
        this.orderRepository = orderRepository;
    }

    public void orderItem(String itemId) {
        orderRepository.save(itemId);
    }
}
```

3. OrderControllerV3
```java
package hello.proxy.app.v3;

import lombok.extern.slf4j.Slf4j;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@Slf4j
@RestController
public class OrderControllerV3 {
    private final OrderServiceV3 orderService;

    public OrderControllerV3(OrderServiceV3 orderService) {
        this.orderService = orderService;
    }

    @GetMapping("/v3/request")
    public String request(String itemId) {
        orderService.orderItem(itemId);
        return "OK";
    }

    @GetMapping("/v3/no-log")
    public String noLog() {
        return "OK";
    }
}
```

4. ProxyApplication
```java
package hello.proxy;

import hello.proxy.config.AppV1Config;
import hello.proxy.config.AppV2Config;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Import;

// @Import(AppV1Config.class)
@Import({AppV1Config.class, AppV2Config.class})
@SpringBootApplication(scanBasePackages = "hello.proxy.app.v3") //ì£¼ì˜
public class ProxyApplication {

	public static void main(String[] args) {
		SpringApplication.run(ProxyApplication.class, args);
	}

}
```
  - @SpringBootApplication(scanBasePackages = "hello.proxy.app.v3")ë¥¼ ì‚¬ìš©
  - ê°ê° @RestController, @Service, @Reposiotry ì• ë„ˆí…Œì´ì…˜ì„ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì˜ ëŒ€ìƒì´ ë¨
   
