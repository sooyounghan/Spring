-----
### ì˜¤ë¥˜ ì½”ë“œì™€ ë©”ì„¸ì§€ ì²˜ë¦¬
-----
1. FieldError ìƒì„±ì
```java
public FieldError(String objectName, String field, String defaultMessage);

public FieldError(String objectName, String field, @Nullable Object rejectedValue, boolean bindingFailure, @Nullable String[] codes, @Nullable Object[] arguments, @Nullable String defaultMessage)
```

2. íŒŒë¼ë¯¸í„° ëª©ë¡
   - objectName : ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê°ì²´ ì´ë¦„
   - field : ì˜¤ë¥˜ í•„ë“œ
   - rejectedValue : ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ (ê±°ì ˆëœ ê°’)
   - bindingFailure : íƒ€ì… ì˜¤ë¥˜ ê°™ì€ ë°”ì¸ë”© ì‹¤íŒ¨ì¸ì§€, ê²€ì¦ ì‹¤íŒ¨ì¸ì§€ êµ¬ë¶„ ê°’
   - codes : ë©”ì„¸ì§€ ì½”ë“œ
   - arguments : ë©”ì„¸ì§€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì¸ì
   - defaultMessage : ê¸°ë³¸ ì˜¤ë¥˜ ë©”ì„¸ì§€

3. FieldError, ObjectError ìƒì„±ìëŠ” errorCode, arguments ì œê³µ
   - ì´ëŠ”, ì˜¤ë¥˜ ë°œìƒ ì‹œ ì˜¤ë¥˜ ì½”ë“œë¡œ ë©”ì„¸ì§€ë¥¼ ì°¾ê¸° ìœ„í•´ ì‚¬ìš©

-----
### errors ë©”ì„¸ì§€ íŒŒì¼ ìƒì„±
-----
1. ì˜¤ë¥˜ ë©”ì„¸ì§€ êµ¬ë¶„ì„ ìœ„í•´ errors.properties ë³„ë„ íŒŒì¼ë¡œ ê´€ë¦¬ (application.propertiesë¥¼ ì‚¬ìš©í•´ë„ ê°€ëŠ¥)
2. ë¨¼ì € ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ í•´ë‹¹ ë©”ì„¸ì§€ íŒŒì¼ì„ ì¸ì‹í•  ìˆ˜ ìˆë„ë¡ ë‹¤ìŒ ì„¤ì • ì¶”ê°€ (ìƒëµí•˜ë©´ messages.propertiesë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì¸ì‹)
  - application.properties
```properties
spring.messages.basename=messages,errors
```

3. errors.properties ì¶”ê°€
```properties
required.item.itemName=ìƒí’ˆ ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤. 
range.item.price=ê°€ê²©ì€ {0} ~ {1} ê¹Œì§€ í—ˆìš©í•©ë‹ˆë‹¤. 
max.item.quantity=ìˆ˜ëŸ‰ì€ ìµœëŒ€ {0} ê¹Œì§€ í—ˆìš©í•©ë‹ˆë‹¤.
totalPriceMin=ê°€ê²© * ìˆ˜ëŸ‰ì˜ í•©ì€ {0}ì› ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤. í˜„ì¬ ê°’ = {1}
```
  - errors_en.properties íŒŒì¼ì„ ìƒì„±í•˜ë©´ ì˜¤ë¥˜ ë©”ì„¸ì§€ë„ êµ­ì œí™” ì²˜ë¦¬ ê°€ëŠ¥

4. ValidationItemControllerV2 - addItemV3() ì¶”ê°€
```java
@PostMapping("/add")
public String addItemV3(@ModelAttribute Item item, BindingResult bindingResult, RedirectAttributes redirectAttributes, Model model) {

    // ê²€ì¦ ë¡œì§
    if(!StringUtils.hasText(item.getItemName())) {
        // ë¬¼ê±´ëª…ì— ê¸€ìê°€ ì—†ìœ¼ë©´, í•´ë‹¹ ë°ì´í„°ì— ëŒ€í•œ ê²€ì¦ ì‹¤íŒ¨ ì´ìœ  ëª…ì‹œ
        // bindingResult.addError(new FieldError("item", "itemName", "ìƒí’ˆ ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤."));
        bindingResult.addError(new FieldError("item", "itemName", item.getItemName(), false, new String[]{"required.item.itemName"}, null, null));
    }

    if(item.getPrice() == null || item.getPrice() < 1000 || item.getPrice() > 1000000) {
        // ê°€ê²© ì •ë³´ê°€ ì—†ê±°ë‚˜ 1000ì› ë¯¸ë§Œ, ë°±ë§Œì› ì´ˆê³¼í•˜ëŠ” ê¸ˆì•¡ì´ë©´, í•´ë‹¹ ë°ì´í„°ì— ëŒ€í•œ ê²€ì¦ ì‹¤íŒ¨ ì´ìœ  ëª…ì‹œ
        // bindingResult.addError(new FieldError("item", "price", "ê°€ê²©ì€ 1,000 ~ 1,000,000 ê¹Œì§€ í—ˆìš©í•©ë‹ˆë‹¤."));
        bindingResult.addError(new FieldError("item", "price", item.getPrice(), false, new String[]{"range.item.price"}, new Object[]{1000, 1000000}, null));
    }

    if(item.getQuantity() == null || item.getQuantity() > 9999) {
        // ìˆ˜ëŸ‰ì´ ì—†ê±°ë‚˜, 9999ë¥¼ ì´ˆê³¼í•œë‹¤ë©´, í•´ë‹¹ ë°ì´í„°ì— ëŒ€í•œ ê²€ì¦ ì‹¤íŒ¨ ì´ìœ  ëª…ì‹œ
        // bindingResult.addError(new FieldError("item", "quantity", "ìˆ˜ëŸ‰ì€ ìµœëŒ€ 9,999 ê¹Œì§€ í—ˆìš©í•©ë‹ˆë‹¤."));
        bindingResult.addError(new FieldError("item", "quantity", item.getQuantity(),false, new String[]{"max.item.quantity"}, new Object[]{9999}, null));
    }

    // íŠ¹ì • í•„ë“œê°€ ì•„ë‹Œ ë³µí•© Rule ê²€ì¦
    if(item.getPrice() != null && item.getQuantity() != null) {
        // ê°€ê²©ê³¼ ìˆ˜ëŸ‰ì´ ì¡´ì¬í•¨
        int resultPrice = item.getPrice() * item.getQuantity();
        if(resultPrice < 10000) {
            // ê°€ê²© * ìˆ˜ëŸ‰ ê°’ì´ 10000ì› ë¯¸ë§Œì´ë©´, í•´ë‹¹ ë°ì´í„°ì— ëŒ€í•œ ê²€ì¦ ì‹¤íŒ¨ ì´ìœ  ëª…ì‹œ
            // bindingResult.addError(new ObjectError("item", "ê°€ê²© * ìˆ˜ëŸ‰ì˜ í•©ì€ 10,000ì› ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤. í˜„ì¬ ê°’ = " + resultPrice));
            bindingResult.addError(new ObjectError("item", new String[]{"totalPriceMin"}, new Object[]{10000, resultPrice}, null));
        }
    }

    // ê²€ì¦ì— ì‹¤íŒ¨í•˜ë©´, ë‹¤ì‹œ ì…ë ¥ í¼ìœ¼ë¡œ ì´ë™
    if(bindingResult.hasErrors()) {
        log.info("errors={}", bindingResult);
        return "validation/v2/addForm";
    }

    // ê²€ì¦ ì„±ê³µ ë¡œì§
    Item savedItem = itemRepository.save(item);
    redirectAttributes.addAttribute("itemId", savedItem.getId());
    redirectAttributes.addAttribute("status", true);
    return "redirect:/validation/v2/items/{itemId}";
}
```

```java
// range.item.price=ê°€ê²©ì€ {0} ~ {1} ê¹Œì§€ í—ˆìš©í•©ë‹ˆë‹¤.
new FieldError("item", "price", item.getPrice(), false, new String[]{"range.item.price"}, new Object[]{1000, 1000000})
```
  - codes : range.item.priceì˜ ê°’ì„ ì‚¬ìš©í•´ì„œ ë©”ì„¸ì§€ ì½”ë“œë¡œ ì§€ì •
    + ë©”ì„¸ì§€ ì½”ë“œëŠ” í•˜ë‚˜ê°€ ì•„ë‹ˆë¼ ë°°ì—´ë¡œ ì§€ì •í•  ìˆ˜ ìˆìŒ
    + ìˆœì„œëŒ€ë¡œ ë§¤ì¹­í•´ì„œ ì²˜ìŒ ë§¤ì¹­ë˜ëŠ” ë©”ì„¸ì§€ê°€ ì‚¬ìš©
  - arguments : Object[]{1000, 1000000}ë¥¼ ì‚¬ìš©í•´ì„œ ì½”ë“œì˜ {0}, {1}ë¡œ ì¹˜í™˜í•œ ê°’ ì „ë‹¬

5. ì‹¤í–‰í•´ë³´ë©´ ë©”ì„¸ì§€, êµ­ì œí™”ì—ì„œ í•™ìŠµí•œ MessageSourceë¥¼ ì°¾ì•„ì„œ ë©”ì„¸ì§€ ì¡°íšŒí•˜ëŠ” ê²ƒ í™•ì¸ ê°€ëŠ¥

-----
### ì˜¤ë¥˜ ì½”ë“œì™€ ë©”ì„¸ì§€ ì²˜ë¦¬ 2
-----
1. ğŸ’¡ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ BindingResultëŠ” ê²€ì¦í•´ì•¼ í•  ê°ì²´ì¸ target ë°”ë¡œ ë‹¤ìŒì— ì˜´
2. ğŸ’¡ ë”°ë¼ì„œ, BindingResultëŠ” ì´ë¯¸ ë³¸ì¸ì´ ê²€ì¦í•´ì•¼í•  ê°ì²´ì¸ targetì„ ì•Œê³  ìˆìŒ
3. ì»¨íŠ¸ë¡¤ëŸ¬ì— ë‹¤ìŒ ì½”ë“œ ì¶”ê°€
```java
log.info("objectName={}", bindingResult.getObjectName()); 
log.info("target={}", bindingResult.getTarget());
```
4. ì¶œë ¥ ê²°ê³¼
```java
objectName=item //@ModelAttribute name
target=Item(id=null, itemName=ìƒí’ˆ, price=100, quantity=1234)
```

5. rejectValue(), reject()
   - BindingResultê°€ ì œê³µí•˜ëŠ” rejectValue(), reject()ë¥¼ ì‚¬ìš©í•˜ë©´ FieldError, ObjectErrorë¥¼ ì§ì ‘ ìƒì„±í•˜ì§€ ì•Šê³ , ê¹”ë”í•˜ê²Œ ê²€ì¦ ì˜¤ë¥˜ë¥¼ ë‹¤ë£° ìˆ˜ ìˆìŒ
   - ê¸°ì¡´ ì½”ë“œ ë‹¨ìˆœí™” (ValidationItemControllerV2 - addItemV4() ì¶”ê°€)
```java
@PostMapping("/add")
public String addItemV4(@ModelAttribute Item item, BindingResult bindingResult, RedirectAttributes redirectAttributes, Model model) {

    // ê²€ì¦ ë¡œì§
    if(!StringUtils.hasText(item.getItemName())) {
        // ë¬¼ê±´ëª…ì— ê¸€ìê°€ ì—†ìœ¼ë©´, í•´ë‹¹ ë°ì´í„°ì— ëŒ€í•œ ê²€ì¦ ì‹¤íŒ¨ ì´ìœ  ëª…ì‹œ
        // bindingResult.addError(new FieldError("item", "itemName", "ìƒí’ˆ ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤."));
        // bindingResult.addError(new FieldError("item", "itemName", item.getItemName(), false, new String[]{"required.item.itemName"}, null, null));
        bindingResult.rejectValue("itemName", "required");
    }

    if(item.getPrice() == null || item.getPrice() < 1000 || item.getPrice() > 1000000) {
        // ê°€ê²© ì •ë³´ê°€ ì—†ê±°ë‚˜ 1000ì› ë¯¸ë§Œ, ë°±ë§Œì› ì´ˆê³¼í•˜ëŠ” ê¸ˆì•¡ì´ë©´, í•´ë‹¹ ë°ì´í„°ì— ëŒ€í•œ ê²€ì¦ ì‹¤íŒ¨ ì´ìœ  ëª…ì‹œ
        // bindingResult.addError(new FieldError("item", "price", "ê°€ê²©ì€ 1,000 ~ 1,000,000 ê¹Œì§€ í—ˆìš©í•©ë‹ˆë‹¤."));
        // bindingResult.addError(new FieldError("item", "price", item.getPrice(), false, new String[]{"range.item.price"}, new Object[]{1000, 1000000}, null));
        bindingResult.rejectValue("price", "range", new Object[]{1000, 1000000}, null);
    }

    if(item.getQuantity() == null || item.getQuantity() > 9999) {
        // ìˆ˜ëŸ‰ì´ ì—†ê±°ë‚˜, 9999ë¥¼ ì´ˆê³¼í•œë‹¤ë©´, í•´ë‹¹ ë°ì´í„°ì— ëŒ€í•œ ê²€ì¦ ì‹¤íŒ¨ ì´ìœ  ëª…ì‹œ
        // bindingResult.addError(new FieldError("item", "quantity", "ìˆ˜ëŸ‰ì€ ìµœëŒ€ 9,999 ê¹Œì§€ í—ˆìš©í•©ë‹ˆë‹¤."));
        // bindingResult.addError( new FieldError("item", "quantity", item.getQuantity(),false, new String[]{"max.item.quantity"}, new Object[]{9999}, null));
        bindingResult.rejectValue("quantity", "max", new Object[]{9999}, null);
    }

    // íŠ¹ì • í•„ë“œê°€ ì•„ë‹Œ ë³µí•© Rule ê²€ì¦
    if(item.getPrice() != null && item.getQuantity() != null) {
        // ê°€ê²©ê³¼ ìˆ˜ëŸ‰ì´ ì¡´ì¬í•¨
        int resultPrice = item.getPrice() * item.getQuantity();
        if(resultPrice < 10000) {
            // ê°€ê²© * ìˆ˜ëŸ‰ ê°’ì´ 10000ì› ë¯¸ë§Œì´ë©´, í•´ë‹¹ ë°ì´í„°ì— ëŒ€í•œ ê²€ì¦ ì‹¤íŒ¨ ì´ìœ  ëª…ì‹œ
            // bindingResult.addError(new ObjectError("item", "ê°€ê²© * ìˆ˜ëŸ‰ì˜ í•©ì€ 10,000ì› ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤. í˜„ì¬ ê°’ = " + resultPrice));
            // bindingResult.addError(new ObjectError("item", new String[]{"totalPriceMin"}, new Object[]{10000, resultPrice}, null));
            bindingResult.reject("totalPriceMin", new Object[]{10000, resultPrice}, null);
        }
    }

    // ê²€ì¦ì— ì‹¤íŒ¨í•˜ë©´, ë‹¤ì‹œ ì…ë ¥ í¼ìœ¼ë¡œ ì´ë™
    if(bindingResult.hasErrors()) {
        log.info("errors={}", bindingResult);
        return "validation/v2/addForm";
    }

    // ê²€ì¦ ì„±ê³µ ë¡œì§
    Item savedItem = itemRepository.save(item);
    redirectAttributes.addAttribute("itemId", savedItem.getId());
    redirectAttributes.addAttribute("status", true);
    return "redirect:/validation/v2/items/{itemId}";
}
```

6. rejectValue()
```java
void rejectValue(@Nullable String field, String errorCode, @Nullable Object[] errorArgs, @Nullable String defaultMessage);
```
  - field : ì˜¤ë¥˜ í•„ë“œëª…
  - errorCode : ì˜¤ë¥˜ ì½”ë“œ (ì´ ì˜¤ë¥˜ ì½”ë“œëŠ” ë©”ì„¸ì§€ì— ë“±ë¡ëœ ì½”ë“œê°€ ì•„ë‹Œ messageResolverë¥¼ ìœ„í•œ ì˜¤ë¥˜ ì½”ë“œ)
  - errorArgs : ì˜¤ë¥˜ ë©”ì„¸ì§€ì—ì„œ {0} ì„ ì¹˜í™˜í•˜ê¸° ìœ„í•œ ê°’
  - defaultMessage : ì˜¤ë¥˜ ë©”ì„¸ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ê¸°ë³¸ ë©”ì„¸ì§€

```java
bindingResult.rejectValue("price", "range", new Object[]{1000, 1000000}, null);
```

  - BindingResultëŠ” ì–´ë–¤ ê°ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ ê²€ì¦í•˜ëŠ”ì§€ targetì„ ì•Œê³  ìˆìœ¼ë¯€ë¡œ, target(item)ì— ëŒ€í•œ ì •ë³´ê°€ ì—†ì–´ë„ ë¨
  - ì˜¤ë¥˜ í•„ë“œëª…ì€ ë™ì¼í•˜ê²Œ price ì‚¬ìš©

7. ì¶•ì•½ëœ ì˜¤ë¥˜ ì½”ë“œ
   - FieldError()ë¥¼ ì§ì ‘ ë‹¤ë£° ë•ŒëŠ”, ì˜¤ë¥˜ ì½”ë“œë¥¼ range.item.priceì™€ ê°™ì´ ëª¨ë‘ ì…ë ¥
   - í•˜ì§€ë§Œ, rejectValue()ë¥¼ ì‚¬ìš©í•˜ê³  ë¶€í„°ëŠ” ì˜¤ë¥˜ ì½”ë“œë¥¼ rangeë¡œ ê°„ë‹¨í•˜ê²Œ ì…ë ¥
   - ê·¸ë˜ë„ ì˜¤ë¥˜ ë©”ì„¸ì§€ë¥¼ ì˜ ì°¾ì•„ì„œ ì¶œë ¥
   - ì´ëŠ” MessageCodesResolverë¥¼ ì´í•´í•´ì•¼ í•¨
   - errors.properties
```properties
range.item.price=ê°€ê²©ì€ {0} ~ {1} ê¹Œì§€ í—ˆìš©í•©ë‹ˆë‹¤.
```

   - reject()
```java
void reject(String errorCode, @Nullable Object[] errorArgs, @Nullable String defaultMessage);
```

-----
### ğŸ’¡ ì˜¤ë¥˜ ì½”ë“œì™€ ë©”ì„¸ì§€ ì²˜ë¦¬ 3
-----
1. ì˜¤ë¥˜ ì½”ë“œë¥¼ ë§Œë“¤ ë–„ ë‹¤ìŒê³¼ ê°™ì´ ìì„¸íˆ ë§Œë“¤ ìˆ˜ ìˆìŒ
```properties
required.item.itemName : ìƒí’ˆ ì´ë¦„ì€ í•„ìˆ˜ ì…ë‹ˆë‹¤. 
range.item.price : ìƒí’ˆì˜ ê°€ê²© ë²”ìœ„ ì˜¤ë¥˜ ì…ë‹ˆë‹¤.
```

2. ë˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë‹¨ìˆœí•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŒ
```properties
required : í•„ìˆ˜ ê°’ ì…ë‹ˆë‹¤.
range : ë²”ìœ„ ì˜¤ë¥˜ ì…ë‹ˆë‹¤.
```

3. ë‹¨ìˆœí•˜ê²Œ ë§Œë“¤ë©´ ë²”ìš©ì„±ì´ ì¢‹ì•„ì„œ ì—¬ëŸ¬ ê³³ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ë©”ì„¸ì§€ë¥¼ ì„¸ë°€í•˜ê²Œ ì‘ì„±í•˜ê¸° ì–´ë ¤ì›€
4. ë°˜ëŒ€ë¡œ, ë„ˆë¬´ ìì„¸í•˜ê²Œ ë§Œë“¤ë©´ ë²”ìš©ì„±ì´ ë–¨ì–´ì§
5. ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ ë²”ìš©ì„±ìœ¼ë¡œ ì‚¬ìš©í•˜ë‹¤ê°€, ì„¸ë°€í•˜ê²Œ ì‘ì„±í•´ì•¼ í•˜ëŠ” ê²½ìš° ì„¸ë°€í•œ ë‚´ìš©ì´ ì ìš©ë˜ë„ë¡ ë©”ì„¸ì§€ì— ë‹¨ê³„ë¥¼ ë‘ëŠ” ë°©ë²•
6. ì˜ˆ) requiredë¼ê³  ì˜¤ë¥˜ ì½”ë“œë¥¼ ì‚¬ìš©í•œë‹¤ê³  ê°€ì •
  - ë‹¤ìŒê³¼ ê°™ì´ requiredë¼ëŠ” ë©”ì„¸ì§€ë§Œ ìˆìœ¼ë©´ ì´ ë©”ì„¸ì§€ë¥¼ ì„ íƒí•´ì„œ ì‚¬ìš©
```properties
required: í•„ìˆ˜ ê°’ ì…ë‹ˆë‹¤.
```
  - ê·¸ëŸ°ë° ì˜¤ë¥˜ ë©”ì„¸ì§€ì— required.item.itemNameì™€ ê°™ì´ ê°ì²´ëª…ê³¼ í•„ë“œëª…ì„ ì¡°í•©í•œ ì„¸ë°€í•œ ë©”ì„¸ì§€ ì½”ë“œê°€ ìˆìœ¼ë©´, ì´ ë©”ì„¸ì§€ë¥¼ ë†’ì€ ìš°ì„  ìˆœìœ„ë¡œ ì‚¬ìš©
```properties
#Level1
required.item.itemName: ìƒí’ˆ ì´ë¦„ì€ í•„ìˆ˜ ì…ë‹ˆë‹¤. 

#Level2
required: í•„ìˆ˜ ê°’ ì…ë‹ˆë‹¤.
```

  - ë¬¼ë¡  ì´ë ‡ê²Œ ê°ì²´ëª…ê³¼ í•„ë“œëª…ì„ ì¡°í•©í•œ ë©”ì„¸ì§€ê°€ ìˆëŠ”ì§€ ìš°ì„  í™•ì¸í•˜ê³ , ì—†ìœ¼ë©´ ì¢€ ë” ë²”ìš©ì ì¸ ë©”ì„¸ì§€ë¥¼ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ ì¶”ê°€ ê°œë°œì„ í•´ì•¼í•¨
  - í•˜ì§€ë§Œ, ë²”ìš©ì„± ìˆê²Œ ì˜ ê°œë°œí•´ë‘ë©´, ë©”ì„¸ì§€ ì¶”ê°€ ë§Œìœ¼ë¡œ ë§¤ìš° í¸ë¦¬í•˜ê²Œ ì˜¤ë¥˜ ë©”ì„¸ì§€ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŒ

7. ìŠ¤í”„ë§ì€ MessageCodesResolverë¼ëŠ” ê²ƒì„ ì´ëŸ¬í•œ ê¸°ëŠ¥ ì œê³µ
