-----
### HTTP ìš”ì²­ ë©”ì„¸ì§€ - JSON
-----
```java
package hello.springmvc.basic.request;

import com.fasterxml.jackson.databind.ObjectMapper;
import hello.springmvc.basic.HelloData;
import jakarta.servlet.ServletInputStream;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import lombok.extern.slf4j.Slf4j;
import org.springframework.stereotype.Controller;
import org.springframework.util.StreamUtils;
import org.springframework.web.bind.annotation.RequestMapping;

import java.io.IOException;
import java.nio.charset.StandardCharsets;

/**
 * {"username": "hello", "age":20}
 * Content-Type: application/json
 */
@Slf4j
@Controller
public class RequestBodyJsonController {

    private ObjectMapper objectMapper = new ObjectMapper();

    @RequestMapping("/request-body-json-v1")
    public void requestBodyJsonV1(HttpServletRequest request, HttpServletResponse response) throws IOException {
        ServletInputStream inputStream = request.getInputStream();
        String messageBody = StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8);

        log.info("messageBody={}", messageBody);
        HelloData helloData = objectMapper.readValue(messageBody, HelloData.class);

        log.info("username={}, age={}", helloData.getUsername(), helloData.getAge());

        response.getWriter().write("OK");
    }
}
```

1. HttpServletRequestë¥¼ ì‚¬ìš©í•´ HTTP ë©”ì„¸ì§€ ë°”ë””ì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ì™€ì„œ, ë¬¸ìë¡œ ë³€í™˜
2. ë¬¸ìë¡œ ëœ JSON ë°ì´í„°ë¥¼ Jackson ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ ObjectMapperë¥¼ ì‚¬ìš©í•´ ìë°” ê°ì²´ë¡œ ë³€í™˜
3. Postmanìœ¼ë¡œ í…ŒìŠ¤íŠ¸
   - POST http://localhost:9090/request-body-json-v1
   - raw, JSON, Content-Type: application/json

------
### RequestBodyJsonV2 - @RequestBody ë¬¸ì ë³€í™˜
------
```java
/**
 * @RequestBody
 * HttpMessageConverter ì‚¬ìš© -> StringHttpMessageConverter ì ìš©
 *
 * @ResponseBody
 * - ëª¨ë“  ë©”ì„œë“œì— @ResponseBody ì ìš©
 * - ë©”ì‹œì§€ ë°”ë”” ì •ë³´ ì§ì ‘ ë°˜í™˜(view ì¡°íšŒ X)
 * - HttpMessageConverter ì‚¬ìš© -> StringHttpMessageConverter ì ìš©
 */
@ResponseBody
@RequestMapping("/request-body-json-v2")
public String requestBodyJsonV2(@RequestBody String messageBody) throws JsonProcessingException {
      HelloData helloData = objectMapper.readValue(messageBody, HelloData.class);
      log.info("username={}, age={}", helloData.getUsername(), helloData.getAge());
      return "OK";
}
```
1. @RequestBodyë¥¼ ì‚¬ìš©í•´ HTTP ë©”ì„¸ì§€ì—ì„œ ë°ì´í„°ë¥¼ êº¼ë‚´ê³  messageBodyì— ì €ì¥
2. ë¬¸ìë¡œ ëœ JSON ë°ì´í„°ì¸ messageBodyë¥¼ objectMapperë¥¼ í†µí•´ ìë°” ê°ì²´ë¡œ ë³€í™˜

-----
### RequestBodyJsonV3 - @RequestBody ê°ì²´ ë³€í™˜
-----
```java
/**
 * @RequestBody ìƒëµ ë¶ˆê°€ (@ModelAttributeê°€ ì ìš©ë˜ì–´ ë²„ë¦¼)
 * HttpMessageConverter ì´ìš© -> MappingJackson2HttpMessageConverter
 * (Content-Type: application/json)
 */
@ResponseBody
@RequestMapping("/request-body-json-v3")
public String requestBodyJsonV3(@RequestBody HelloData helloData) {
      log.info("username={}, age={}", helloData.getUsername(), helloData.getAge());
      return "OK";
}
```
1. @RequestBody ê°ì²´ íŒŒë¼ë¯¸í„°
   - @RequestBody HelloData helloData
   - @RequestBodyì— ì§ì ‘ ë§Œë“  ê°ì²´ ì§€ì • ê°€ëŠ¥

2. HttpEntity, @RequestBodyë¥¼ ì‚¬ìš©í•˜ë©´, HTTP ë©”ì„¸ì§€ ì»¨ë²„í„°ê°€ HTTP ë©”ì„¸ì§€ ë°”ë””ì˜ ë‚´ìš©ì„ ì›í•˜ëŠ” ë¬¸ìë‚˜ ê°ì²´ ë“±ìœ¼ë¡œ ë³€í™˜
3. HTTP ë©”ì„¸ì§€ ì»¨ë²„í„°ëŠ” ë¬¸ì ë¿ë§Œ ì•„ë‹ˆë¼ JSON ê°ì²´ë¡œë„ ë³€í™˜í•´ì¤Œ
4. @RequestBody ìƒëµ ë¶ˆê°€ëŠ¥
   - @ModelAttribute, @RequestParamê³¼ ê°™ì€ ì• ë„ˆí…Œì´ì…˜ì€ ìƒëµ ì‹œ ë‹¤ìŒ ê·œì¹™ ì ìš©
   - Stirng, int, Integerì™€ ê°™ì€ ë‹¨ìˆœ íƒ€ì… = @RequestParam
   - ë‚˜ë¨¸ì§€ = @ModelAttribute(Argument Resolverë¡œ ì§€ì •í•´ë‘” íƒ€ì… ì™¸)
   - ë”°ë¼ì„œ, ìƒëµí•˜ë©´, @ModelAttributeê°€ ì ìš©ë˜ì–´ë²„ë¦¼
   - ë”°ë¼ì„œ, ìƒëµí•˜ë©´ HTTP ë©”ì„¸ì§€ ë°”ë””ê°€ ì•„ë‹Œ ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ì²˜ë¦¬í•˜ê²Œ ë¨

5. ğŸ’¡ HTTP ìš”ì²­ ì‹œ Content-Typeì´ ê¼­ application/jsonì¸ì§€ í™•ì¸í•´ì•¼ í•¨. ê·¸ë˜ì•¼ JSONì´ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” HTTP ë©”ì„¸ì§€ ì»¨ë²„í„° ì‹¤í–‰

-----
### RequestBodyJsonV4 - HttpEntity
-----
```java
@ResponseBody
@PostMapping("/request-body-json-v4")
public String requestBodyJsonV4(HttpEntity<HelloData> httpEntity) {
      HelloData data = httpEntity.getBody();
      log.info("username={}, age={}", data.getUsername(), data.getAge());
      return "OK";
}
```

-----
### RequestBodyJsonV5
-----
```java
/**
 * @RequestBody ìƒëµ ë¶ˆê°€ (@ModelAttributeê°€ ì ìš©ë˜ì–´ ë²„ë¦¼)
 * HttpMessageConverter ì´ìš© -> MappingJackson2HttpMessageConverter
 * (Content-Type: application/json)
 * 
 * @ResponseBody ì ìš©
 *  - ë©”ì„¸ì§€ ë°”ë”” ì •ë³´ ì§ì ‘ ë°˜í™˜ (View ì¡°íšŒ X)
 *  - HttpMessageConverter -> MappingJackson2HttpMessageConverter ì ìš©
 *  (Accept: application/json)
 */
@ResponseBody
@RequestMapping("/request-body-json-v5")
public HelloData requstBodyJsonV5(@RequestBody HelloData helloData) {
      log.info("username={}, age={}", helloData.getUsername(), helloData.getAge());
      return helloData;
}
```

1. @ResponseBody
   - ì‘ë‹µì˜ ê²½ìš°ì—ë„ @ReponseBodyë¥¼ ì‚¬ìš©í•˜ë©´, í•´ë‹¹ ê°ì²´ë¥¼ HTTP ë©”ì„¸ì§€ ë°”ë””ì— ì§ì ‘ ë„£ì–´ì¤„ ìˆ˜ ìˆìŒ
   - ë¬¼ë¡ , ì´ ê²½ìš°ì—ë„ HttpEntity ì‚¬ìš© ê°€ëŠ¥

2. @RequestBody ìš”ì²­ : JSON ìš”ì²­ â†’ HTTP ë©”ì„¸ì§€ ì»¨ë²„í„° â†’ ê°ì²´
3. @ResponseBody ìš”ì²­ : ê°ì²´ â†’ HTTP ë©”ì„¸ì§€ ì»¨ë²„í„° â†’ JSON ì‘ë‹µ
