-----
### Bean Validation - ì˜¤ë¸Œì íŠ¸ ì˜¤ë¥˜
-----
1. Bean Validationì—ì„œ íŠ¹ì • í•„ë“œ(FieldError)ê°€ ì•„ë‹Œ í•´ë‹¹ ì˜¤ë¸Œì íŠ¸ ê´€ë ¨ ì˜¤ë¥˜(ObjectError)ì˜ ì²˜ë¦¬ ë°©ë²•?
2. @ScriptAssert() ì‚¬ìš©
```java
@Data
@ScriptAssert(lang = "javascript", script = "_this.price * _this.quantity >= 10000", message = "ì´í•©ì´ 10000ì›ì´ ë„˜ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”.")
public class Item {
  // ...
}
```
  - ğŸ’¡ ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0 ì´í›„(JDK 14 ì´ìƒ, Java 17 ì´ìƒ) ì œí•œ
  - ğŸ’¡ JDK8 ~ JDK14ì˜ JVM ìƒ ì‚¬ìš©ë˜ëŠ” Nashorn ì—”ì§„ì€ Javascriptë¥¼ ì§€ì›í•˜ë‚˜, JDK14 ì´í›„ë¶€í„°ëŠ” Javascriptê°€ ì§€ì›ë˜ì§€ ì•ŠëŠ” GraalVM ì‚¬ìš©

3. ë©”ì„¸ì§€ ì½”ë“œ
  - ScriptAssert.item
  - ScriptAssert

4. ì‹¤ì œ ì‚¬ìš©í•˜ë©´ ì œì•½ì´ ë§ê³  ë³µì¡í•¨. ì‹¤ë¬´ì—ì„œëŠ” ê²€ì¦ ê¸°ëŠ¥ì´ í•´ë‹¹ ê°ì²´ì˜ ë²”ìœ„ë¥¼ ë„˜ì–´ì„œëŠ” ê²½ìš°ë“¤ë„ ì¢…ì¢… ë“±ì¥í•˜ëŠ”ë°, ì´ëŸ´ ê²½ìš° ëŒ€ì‘ì´ ì–´ë ¤ì›€
5. ğŸ’¡ ë”°ë¼ì„œ, ObjectErrorì˜ ê²½ìš° @ScriptAssertë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ ObjectError ê´€ë ¨ ë¶€ë¶„ë§Œ ì§ì ‘ ìë°” ì½”ë“œë¡œ ì‘ì„±í•˜ëŠ” ê²ƒ ê¶Œì¥
  - ValidationItemControllerV3 - ê¸€ë¡œë²Œ ì˜¤ë¥˜ ì¶”ê°€
```java
@PostMapping("/add")
public String addItem(@Validated @ModelAttribute Item item, BindingResult bindingResult, RedirectAttributes redirectAttributes) {

    // íŠ¹ì • í•„ë“œê°€ ì•„ë‹Œ ì „ì²´ ì˜ˆì™¸
    if(item.getPrice() != null && item.getQuantity() != null) {
        int resultPrice = item.getPrice() * item.getQuantity();
        if(resultPrice < 10000) {
            bindingResult.reject("totalPriceMin", new Object[]{10000, resultPrice}, null);
        }
    }

    // ê²€ì¦ì— ì‹¤íŒ¨í•˜ë©´, ë‹¤ì‹œ ì…ë ¥ í¼ìœ¼ë¡œ ì´ë™
    if(bindingResult.hasErrors()) {
        log.info("errors={}", bindingResult);
        return "validation/v3/addForm";
    }

    // ê²€ì¦ ì„±ê³µ ë¡œì§
    Item savedItem = itemRepository.save(item);
    redirectAttributes.addAttribute("itemId", savedItem.getId());
    redirectAttributes.addAttribute("status", true);
    return "redirect:/validation/v3/items/{itemId}";
}
```
