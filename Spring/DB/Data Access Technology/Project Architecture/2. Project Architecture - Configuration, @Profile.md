-----
### ìŠ¤í”„ë§ ë¶€íŠ¸ ì„¤ì • ë¶„ì„
-----
1. MemoryConfig
```java
package hello.itemservice.config;

import hello.itemservice.repository.ItemRepository;
import hello.itemservice.repository.memory.MemoryItemRepository;
import hello.itemservice.service.ItemService;
import hello.itemservice.service.ItemServiceV1;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class MemoryConfig {

    @Bean
    public ItemService itemService() {
        return new ItemServiceV1(itemRepository());
    }

    @Bean
    public ItemRepository itemRepository() {
        return new MemoryItemRepository();
    }

}
```
  - ItemServiceV1, MemoryItemRepositoryë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ê³ , ìƒì„±ìë¥¼ í†µí•´ ì˜ì¡´ê´€ê³„ ì£¼ì…
  - ì—¬ê¸°ì„œëŠ” ì„œë¹„ìŠ¤ì™€ ë¦¬í¬ì§€í† ë¦¬ëŠ” êµ¬í˜„ì²´ë¥¼ í¸ë¦¬í•˜ê²Œ ë³€ê²½í•˜ê¸° ìœ„í•´, ìˆ˜ë™ìœ¼ë¡œ ë¹ˆì„ ë“±ë¡
  - ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ ì‚¬ìš©

2. TestDataInit
```java
package hello.itemservice;

import hello.itemservice.domain.Item;
import hello.itemservice.repository.ItemRepository;
import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.boot.context.event.ApplicationReadyEvent;
import org.springframework.context.event.EventListener;

@Slf4j
@RequiredArgsConstructor
public class TestDataInit {

    private final ItemRepository itemRepository;

    /**
     * í™•ì¸ìš© ì´ˆê¸° ë°ì´í„° ì¶”ê°€
     */
    @EventListener(ApplicationReadyEvent.class)
    public void initData() {
        log.info("test data init");
        itemRepository.save(new Item("itemA", 10000, 10));
        itemRepository.save(new Item("itemB", 20000, 20));
    }

}
```
  - ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ë•Œ, ì´ˆê¸° ë°ì´í„°ë¥¼ ì €ì¥
  - ë¦¬ìŠ¤íŠ¸ì—ì„œ ë°ì´í„°ê°€ ì˜ ë‚˜ì˜¤ëŠ”ì§€ í¸ë¦¬í•˜ê²Œ í™•ì¸í•  ìš©ë„ë¡œ ì‚¬ìš©
    + ì´ ê¸°ëŠ¥ì´ ì—†ìœ¼ë©´ ì„œë²„ë¥¼ ì‹¤í–‰í•  ë•Œ ë§ˆë‹¤ ë°ì´í„°ë¥¼ ì…ë ¥í•´ì•¼ ë¦¬ìŠ¤íŠ¸ê°€ ë‚˜íƒ€ë‚¨ (ë©”ëª¨ë¦¬ì—¬ì„œ ì„œë²„ë¥¼ ë‚´ë¦¬ë©´ ë°ì´í„° ì œê±°)
  - @EventListener(ApplicationReadyEvent.class)
    + ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì´ˆê¸°í™”ë¥¼ ì™„ì „íˆ ë‹¤ ëë‚´ê³ , ì‹¤í–‰ ì¤€ë¹„ê°€ ë˜ì—ˆì„ ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸
    + ìŠ¤í”„ë§ì´ ì´ ì‹œì ì— í•´ë‹¹ ì• ë„ˆí…Œì´ì…˜ì´ ë¶™ì€ initData() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì¤Œ
    + ğŸ’¡ ì°¸ê³ ë¡œ, ì´ ê¸°ëŠ¥ ëŒ€ì‹  @PostConstructë¥¼ ì‚¬ìš©í•  ê²½ìš° AOP ê°™ì€ ë¶€ë¶„ì´ ì•„ì§ ë‹¤ ì²˜ë¦¬ë˜ì§€ ì•Šì€ ì‹œì ì— í˜¸ì¶œë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë¬¸ì œ ë°œìƒ ê°€ëŠ¥ì„± ì¡´ì¬
    + ì˜ˆë¥¼ ë“¤ì–´ì„œ, @Transactionalê³¼ ê´€ë ¨ëœ AOPê°€ ì ìš©ë˜ì§€ ì•Šì€ ìƒíƒœë¡œ í˜¸ì¶œë  ìˆ˜ ìˆìŒ
    + @EventListener(ApplicationReadyEvent.class)ëŠ” AOPë¥¼ í¬í•¨í•œ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì™„ì „íˆ ì´ˆê¸°í™”ëœ ì´í›„ì— í˜¸ì¶œë˜ê¸° ë•Œë¬¸ì— ë¬¸ì œ ë°œìƒí•˜ì§€ ì•ŠìŒ

3. ItemServiceApplication
```java
package hello.itemservice;

import hello.itemservice.config.*;
import hello.itemservice.repository.ItemRepository;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Import;
import org.springframework.context.annotation.Profile;


@Import(MemoryConfig.class)
@SpringBootApplication(scanBasePackages = "hello.itemservice.web")
public class ItemServiceApplication {

	public static void main(String[] args) {
		SpringApplication.run(ItemServiceApplication.class, args);
	}

	@Bean
	@Profile("local")
	public TestDataInit testDataInit(ItemRepository itemRepository) {
		return new TestDataInit(itemRepository);
	}

}
```
  - @Import(MemoryConfig.class) : ì•ì„œ ì„¤ì •í•œ MemoryConfigë¥¼ ì„¤ì • íŒŒì¼ë¡œ ì‚¬ìš©
  - scanBasePackages = "hello.itemservice.web"
    + ì—¬ê¸°ì„œëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë§Œ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ê³ , ë‚˜ë¨¸ì§€ëŠ” ì§ì ‘ ìˆ˜ë™ ë“±ë¡
    + ë”°ë¼ì„œ, ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” ê²½ë¡œëŠ” hello.itemservice.web í•˜ìœ„ë¡œ ì§€ì •
  - @Profile("local")
    + íŠ¹ì • í”„ë¡œí•„ì˜ ê²½ìš°ì—ë§Œ í•´ë‹¹ ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡
    + ì—¬ê¸°ì„œëŠ” localì´ë¼ëŠ” ì´ë¦„ì˜ í”„ë¡œí•„ì´ ì‚¬ìš©ë˜ëŠ” ê²½ìš°ì—ë§Œ testDataInitì´ë¼ëŠ” ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡
    + ì¦‰, í¸ì˜ìƒ ì´ˆê¸° ë°ì´í„°ë¥¼ ë§Œë“¤ì–´ì„œ ì €ì¥í•˜ëŠ” ë¹ˆ

-----
### í”„ë¡œí•„ (Profile)
-----
1. ìŠ¤í”„ë§ì€ ë¡œë”© ì‹œì ì— application.propertiesì˜ spring.profiles.active ì†ì„±ì„ ì½ì–´ì„œ í”„ë¡œí•„ë¡œ ì‚¬ìš©
2. ì´ í”„ë¡œí•„ì€ ë¡œì»¬(ë‚˜ì˜ PC), ìš´ì˜ í™˜ê²½, í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë“± ë‹¤ì–‘í•œ í™˜ê²½ì— ë”°ë¼ ë‹¤ë¥¸ ì„¤ì •ì„ í•  ë–„ ì‚¬ìš©í•˜ëŠ” ì •ë³´
3. ì˜ˆë¥¼ ë“¤ì–´, ë¡œì»¬ PCì—ì„œëŠ” ë¡œì»¬ PCì— ì„¤ì¹˜ëœ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•´ì•¼ë˜ê³ , ìš´ì˜ í™˜ê²½ì—ì„œëŠ” ìš´ì˜ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•´ì•¼ í•œë‹¤ë©´, ì„œë¡œ ì„¤ì • ì •ë³´ê°€ ë‹¬ë¼ì•¼ í•¨
4. ì‹¬ì§€ì–´, í™˜ê²½ì— ë”°ë¼ì„œ ë‹¤ë¥¸ ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡í•´ì•¼ í•  ìˆ˜ ìˆìŒ
5. í”„ë¡œí•„ì„ ì‚¬ìš©í•˜ë©´ ì´ëŸ° ë¬¸ì œ ê¹”ë”í•˜ê²Œ í•´ê²° ê°€ëŠ¥
6. main í”„ë¡œí•„ (/src/main/resources í•˜ìœ„ì˜ application.properties)
```properties
spring.profiles.active=local
```
  - ì´ ìœ„ì¹˜ì˜ application.propertiesëŠ” /src/main í•˜ìœ„ì˜ ìë°” ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ (ì£¼ë¡œ main()) ë™ì‘í•˜ëŠ” ìŠ¤í”„ë§ ì„¤ì •
  - spring.profiles.active=localì´ë¼ê³  í•˜ë©´, localì´ë¼ëŠ” í”„ë¡œí•„ë¡œ ë™ì‘
  - ë”°ë¼ì„œ, ì§ì „ì— ì„¤ëª…í•œ @Profile("local")ê°€ ë™ì‘í•˜ê³ , testDataInitê°€ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡
  - ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë¡œê·¸ í™•ì¸ ê°€ëŠ¥
```
The following 1 profile is active: "local"
```
  - ì°¸ê³ ë¡œ í”„ë¡œí•„ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ë””í´íŠ¸(default) í”„ë¡œí•„ ì‹¤í–‰
```
No active profile set, falling back to 1 default profile: "default"
```

7. test í”„ë¡œí•„ (/src/test/resources í•˜ìœ„ì˜ application.properties)
```properties
spring.profiles.active=test
```
  - ì´ ìœ„ì¹˜ì˜ application.propertiesëŠ” /src/test í•˜ìœ„ì˜ ìë°” ê°ì²´ë¥¼ ì‹¤í–‰í•  ë•Œ ë™ì‘í•˜ëŠ” ìŠ¤í”„ë§ ì„¤ì •
  - ì£¼ë¡œ, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‹¤í–‰í•  ë•Œ ë™ì‘
  - spring.profiles.active=testë¡œ ì„¤ì •í•˜ë©´, ìŠ¤í”„ë§ì€ testë¼ëŠ” í”„ë¡œí•„ ë™ì‘
  - ì´ ê²½ìš°, @Profile("local")ëŠ” í”„ë¡œí•„ ì •ë³´ê°€ ë§ì§€ ì•Šì•„ ë™ì‘í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, testDataInitì´ë¼ëŠ” ìŠ¤í”„ë§ ë¹ˆë„ ë“±ë¡ë˜ì§€ ì•Šê³ , ì´ˆê¸° ë°ì´í„°ë„ ì¶”ê°€ë˜ì§€ ì•ŠìŒ
```
The following 1 profile is active: "test"
```

8. í”„ë¡œí•„ ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ì„œ ìŠ¤í”„ë§ìœ¼ë¡œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¡œì»¬(local)ì—ì„œ ì§ì ‘ ì‹¤í–‰í•  ë–„ëŠ” testDataInitì´ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡
9. ë”°ë¼ì„œ, ë“±ë¡í•œ ì´ˆê¸°í™” ë°ì´í„°ë¥¼ í¸ë¦¬í•˜ê²Œ í™•ì¸ ê°€ëŠ¥
10. ì´ˆê¸°í™” ë°ì´í„° ë•ë¶„ì— í¸ë¦¬í•œ ì ë„ ìˆì§€ë§Œ, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‹¤í–‰í•  ë•ŒëŠ” ë¬¸ì œ ë°œìƒ ì¡´ì¬
    - í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì—ì„œ ì´ëŸ° ë°ì´í„°ê°€ ë“¤ì–´ìˆë‹¤ë©´, ì˜¤ë¥˜ ë°œìƒí•  ìˆ˜ ìˆìŒ
    - ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ë¥¼ í•˜ë‚˜ ì €ì¥í•˜ê³  ì „ì²´ ì¹´ìš´íŠ¸ë¥´ í•˜ëŠ”ë° 1ì´ ì•„ë‹ˆë¼ testDataInitë•Œë¬¸ì— ë°ì´í„°ê°€ 2ê°œ ì¶”ê°€ëœ 3ì´ ë¨
11. í”„ë¡œí•„ ê¸°ëŠ¥ ë•ë¶„ì— í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì—ëŠ” test í”„ë¡œí•„ì´ ì‹¤í–‰
    - ë”°ë¼ì„œ, TestDataInitëŠ” ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ì¶”ê°€ë˜ì§€ ì•Šê³ , ì´ˆê¸° ë°ì´í„°ë„ ì¶”ê°€ë˜ì§€ ì•ŠìŒ

12. í”„ë¡œí•„ì— ëŒ€í•œ ìŠ¤í”„ë§ ë¶€íŠ¸ ê³µì‹ ë©”ë‰´ì–¼ : https://docs.spring.io/spring-boot/redirect.html?page=features#features.profiles
