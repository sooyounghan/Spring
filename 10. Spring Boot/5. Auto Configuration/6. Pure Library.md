-----
### ìˆœìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë§Œë“¤ê¸°
-----
1. @AutoConfigurationì„ ì´í•´í•˜ê¸° ìœ„í•´ì„œëŠ” ê·¸ ì „ì— ë¨¼ì € ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ ì´í•´í•˜ëŠ” ê²ƒì´ í•„ìš”
2. ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§Œë“¤ë•ŒëŠ” ìŠ¤í”„ë§ ë¶€íŠ¸ í”ŒëŸ¬ê·¸ì¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì§„í–‰
3. memory-v1 - build.gradle
```gradle
plugins {
    id 'java'
}

group = 'memory'
sourceCompatibility = '17'

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web:3.0.2'
    compileOnly 'org.projectlombok:lombok:1.18.24'
    annotationProcessor 'org.projectlombok:lombok:1.18.24'
    testImplementation 'org.springframework.boot:spring-boot-starter-test:3.0.2'
}

test {
    useJUnitPlatform()
}
```
  - ìŠ¤í”„ë§ ë¶€íŠ¸ í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ì•ì„œ ì„¤ëª…í•œ ì‹¤í–‰ ê°€ëŠ¥í•œ Jar êµ¬ì¡°ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ë§Œë“¬
  - ì—¬ê¸°ì„œëŠ” ì‹¤í–‰ ê°€ëŠ¥í•œ Jarê°€ ì•„ë‹ˆë¼, ë‹¤ë¥¸ ê³³ì— í¬í•¨ë˜ì–´ì„œ ì‚¬ìš©í•  ìˆœìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ Jarë¥¼ ë§Œë“œëŠ” ê²ƒì´ ëª©ì ì´ë¯€ë¡œ ìŠ¤í”„ë§ ë¶€íŠ¸ í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
  - ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í•„ìš”í•˜ë¯€ë¡œ spring-boot-starter-web í¬í•¨
  - ìŠ¤í”„ë§ ë¶€íŠ¸ í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ì„œ ë²„ì „ì„ ì§ì ‘ ëª…ì‹œ

4. Memory
```java
package memory;

public class Memory {
    private long used;
    private long max;

    public Memory(Long used, long max) {
        this.used = used;
        this.max = max;
    }

    public long getUsed() {
        return used;
    }

    public long getMax() {
        return max;
    }

    @Override
    public String toString() {
        return "Memory{" +
                "used=" + used +
                ", max=" + max +
                '}';
    }
}
```

5. MemoryFinder
```java
package memory;

import jakarta.annotation.PostConstruct;
import lombok.extern.slf4j.Slf4j;

@Slf4j
public class MemoryFinder {

    public Memory get() {
        long max = Runtime.getRuntime().maxMemory();
        long total = Runtime.getRuntime().totalMemory();
        long free = Runtime.getRuntime().freeMemory();

        long used = total - free;
        return new Memory(used, max);
    }

    @PostConstruct
    public void init() {
        log.info("init memoryFinder");
    }
}
```

6. MemoryController
```java
package memory;

import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@Slf4j
@RestController
@RequiredArgsConstructor
public class MemoryController {

    private final MemoryFinder memoryFinder;

    @GetMapping("/memory")
    public Memory system() {
        Memory memory = new MemoryFinder().get();
        log.info("memory = {}", memory);
        return memory;
    }
}
```

7. MemoryFinderTest
```java
package memory;

import org.assertj.core.api.Assertions;
import org.junit.jupiter.api.Test;

public class MemoryFinderTest {
    @Test
    void get() {
        MemoryFinder memoryFinder = new MemoryFinder();
        Memory memory = memoryFinder.get();

        Assertions.assertThat(memory).isNotNull();
    }
}
```
  - ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ë°ì´í„°ê°€ ì¡°íšŒ ë˜ëŠ”ì§€ ê°„ë‹¨í•œ ê²€ì¦

8. ë¹Œë“œí•˜ê¸°
   - ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ë¹Œë“œ : /gradlew clean build
   - ë¹Œë“œ ê²°ê³¼
     + build/libs/memory-v1.jar
   - ì••ì¶• í•´ì œ : jar -xvf memory-v1.jar

9. JARë¥¼ í‘¼ ê²°ê³¼
   - META-INF
     + MANIFEST.MF
   - memory
     + MemoryFinder.class
     + MemoryController.class
     + Memory.class
   - memory-v1.jarëŠ” ìŠ¤ìŠ¤ë¡œ ë™ì‘í•˜ì§€ ëª»í•˜ê³  ë‹¤ë¥¸ ê³³ì— í¬í•¨ë˜ì–´ì„œ ë™ì‘í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬

-----
### ìˆœìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©í•˜ê¸° 1
-----
1. project1-v1 - build.gradle
```gradle
plugins {
    id 'org.springframework.boot' version '3.0.2'
    id 'io.spring.dependency-management' version '1.1.0'
    id 'java'
}

group = 'hello'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = '17'

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'
    compileOnly 'org.projectlombok:lombok'
    annotationProcessor 'org.projectlombok:lombok'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

tasks.named('test') {
    useJUnitPlatform()
}
```
  - ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ íƒ : Lombok, Spring Web

2. í”„ë¡œì íŠ¸ ë™ì‘ ì—¬ë¶€ë¥¼ ìœ„í•´ ê°„ë‹¨í•œ ì»¨íŠ¸ë¡¤ëŸ¬ í•˜ë‚˜ ì¶”ê°€ - HelloController
```java
package hello.controller;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class HelloController {
    @GetMapping("/hello")
    public String hello() {
        return "hello";

    }
}
```

-----
### ìˆœìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©í•˜ê¸° 2
-----
1. memory-v1.jar ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ project-v1ì— ì¶”ê°€
2. ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€
   - project-v1/libs í´ë” ìƒì„±
   - memory-v1 í”„ë¡œì íŠ¸ì—ì„œ ë¹Œë“œí•œ memory-v1.jarë¥¼ ì´ê³³ì— ë³µì‚¬
   - project-v1/build.gradleì— memory-v1.jar ì¶”ê°€
```gradle
dependencies {
    implementation files('libs/memory-v1.jar') // ì¶”ê°€

    implementation 'org.springframework.boot:spring-boot-starter-web'
    compileOnly 'org.projectlombok:lombok'
    annotationProcessor 'org.projectlombok:lombok'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}
```
  - ğŸ’¡ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ jar íŒŒì¼ë¡œ ì§ì ‘ ê°€ì§€ê³  ìˆìœ¼ë©´ filesë¡œ ì§€ì •
  - gradle Reload
  - ì£¼ì˜ : í´ë” ì´ë¦„ì€ libs / íŒŒì¼ë¡œ ì¶”ê°€í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ IntelliJê°€ ì˜ ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš° ë‹¤ìŒê³¼ ê°™ì´ í”„ë¡œì íŠ¸ë¥¼ ë‹¤ì‹œ Import
    + File â†’ Open í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ build.gradle ì„ ì„ íƒí•˜ì. ê·¸ ë‹¤ìŒì— ì„ íƒì°½ì´ ëœ¨ëŠ”ë°, Open as Projectë¥¼ ì„ íƒ

3. ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì •
   - ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•´ ë™ì‘í•´ì„œ ì‚¬ìš©
   - MemoryConfig
```java
package hello.config;

import memory.MemoryController;
import memory.MemoryFinder;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;


@Configuration
public class MemoryConfig {
    @Bean
    public MemoryFinder memoryFinder() {
        return new MemoryFinder();
    }

    @Bean
    public MemoryController memoryController() {
        return new MemoryController(memoryFinder());
    }
}
```
   - ìŠ¤í”„ë§ ë¶€íŠ¸ ìë™ êµ¬ì„±ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¯€ë¡œ ë¹ˆì„ ì§ì ‘ ë“±ë¡
   - ê²°ê³¼ í™•ì¸ : ì„œë²„ ì‹¤í–‰ ë¡œê·¸ ë° ì‹¤í–‰
```
[           main] memory.MemoryFinder                      : init memoryFinder
```

```
{
    "used": 18117792,
    "max": 2111832064
}
```
  - ë©”ëª¨ë¦¬ ì¡°íšŒ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ ë™ì‘

4. ì •ë¦¬
   - ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì§ì ‘ ë§Œë“¤ê³  ì´ë¥¼ í”„ë¡œì íŠ¸ì— ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë¶ˆëŸ¬ì„œ ì ìš©
   - ê·¸ëŸ°ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ê°œë°œì ì…ì¥ì„ ìƒê°í•˜ë©´, ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‚´ë¶€ì— ì–´ë–¤ ë¹ˆì„ ë“±ë¡í•´ì•¼ í•˜ëŠ”ì§€ ì•Œì•„ì•¼ í•˜ê³ , ê·¸ê²ƒì„ ë˜ í•˜ë‚˜í•˜ë‚˜ ë¹ˆìœ¼ë¡œ ë“±ë¡í•´ì•¼ í•¨
   - ê°„ë‹¨í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì•„ë‹Œ ì´ˆê¸° ì„¤ì •ì´ ë³µì¡í•˜ë‹¤ë©´ ì‚¬ìš©ì ì…ì¥ì—ì„œ ìƒë‹¹íˆ ê·€ì°®ì€ ì‘ì—…
   - ì´ëŸ° ë¶€ë¶„ì„ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•´ì£¼ëŠ” ê²ƒ : ìŠ¤í”„ë§ ë¶€íŠ¸ ìë™ êµ¬ì„±(Auto Configuration)
