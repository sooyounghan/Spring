-----
### ìë™ êµ¬ì„± ì´í•´ 2 - ImportSelector
-----
1. @Importì— ì„¤ì • ì •ë³´ë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ë²• 2ê°€ì§€
   - ì •ì  ë°©ë²• : @Import(í´ë˜ìŠ¤)
     + ì½”ë“œì— ëŒ€ìƒì´ ì •í•´ì ¸ ìˆìŒ
     + ì„¤ì •ìœ¼ë¡œ ì‚¬ìš©í•  ëŒ€ìƒì„ ë™ì ìœ¼ë¡œ ë³€ê²½ ë¶ˆê°€

   - ë™ì  ë°©ë²• : @Import(ImportSelector)
     + ì½”ë“œë¡œ í”„ë¡œê·¸ë˜ë°í•´ì„œ ì„¤ì •ìœ¼ë¡œ ì‚¬ìš©í•  ëŒ€ìƒì„ ë™ì ìœ¼ë¡œ ì„ íƒ ê°€ëŠ¥

2. ì •ì ì¸ ë°©ë²•
   - ìŠ¤í”„ë§ì—ì„œ ë‹¤ë¥¸ ì„¤ì • ì •ë³´ë¥¼ ì¶”ê°€í•˜ê³  ì‹¶ìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ @Import ì‚¬ìš©
```java
@Configuration
@Import({AConfig.class, BConfig.class})
public class AppConfig { ... }
```
  - ê·¸ëŸ°ë° ì˜ˆì œì²˜ëŸ¼ AConfig, BConfigê°€ ì½”ë“œì— ë”± ì •í•´ì§„ ê²ƒì´ ì•„ë‹ˆë¼, íŠ¹ì • ì¡°ê±´ì— ë”°ë¼ì„œ ì„¤ì • ì •ë³´ë¥¼ ì„ íƒí•´ì•¼ í•˜ëŠ” ê²½ìš°ì—ëŠ”?

3. ë™ì ì¸ ë°©ë²•
   - ìŠ¤í”„ë§ì€ ì„¤ì • ì •ë³´ ëŒ€ìƒì„ ë™ì ìœ¼ë¡œ ì„ íƒí•  ìˆ˜ ìˆëŠ” ImportSelector ì¸í„°í˜ì´ìŠ¤ ì œê³µ
   - ImportSelector
```java
package org.springframework.context.annotation;

import java.util.function.Predicate;
import org.springframework.core.type.AnnotationMetadata;
import org.springframework.lang.Nullable;

public interface ImportSelector {
    String[] selectImports(AnnotationMetadata importingClassMetadata);

    @Nullable
    default Predicate<String> getExclusionFilter() {
        return null;
    }
}
```

4. ImportSelector ì˜ˆì œ (ëª¨ë‘ src/test í•˜ìœ„ì— ìœ„ì¹˜)
   - HelloBean
```java
package hello.selector;

public class HelloBean {

}
```
  - ë¹ˆìœ¼ë¡œ ë“±ë¡í•  ëŒ€ìƒ
   - HelloConfig
```java
package hello.selector;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class HelloConfig {

    @Bean
    public HelloBean helloBean() {
        return new HelloBean();
    }
}
```
  - ì„¤ì • ì •ë³´ë¡œì„œ, HelloBeanì„ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡
   - HelloImportSelector
```java
package hello.selector;

import org.springframework.context.annotation.ImportSelector;
import org.springframework.core.type.AnnotationMetadata;

public class HelloImportSelector implements ImportSelector {
    @Override
    public String[] selectImports(AnnotationMetadata importingClassMetadata) {
        return new String[]{"hello.selector.HelloConfig"};
    }
}
```
  - ì„¤ì • ì •ë³´ë¥¼ ë™ì ìœ¼ë¡œ ì„ íƒí•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ImportSelector ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
  - ì—¬ê¸°ì„œëŠ” hello.selector.HelloConfig ì„¤ì • ì •ë³´ ë°˜í™˜
  - ì´ë ‡ê²Œ ë°˜í™˜ëœ ì„¤ì • ì •ë³´ëŠ” ì„ íƒë˜ì–´ì„œ ì‚¬ìš©
  - ì—¬ê¸°ì— ì„¤ì • ì •ë³´ë¡œ ì‚¬ìš©í•  í´ë˜ìŠ¤ë¥¼ ë™ì ìœ¼ë¡œ í”„ë¡œê·¸ë˜ë° í•˜ë©´ ë¨

   - ImportSelectorTest
```java
package hello.selector;

import org.assertj.core.api.Assertions;
import org.junit.jupiter.api.Test;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.Import;

public class ImportSelectorTest {

    @Test
    void staticConfig() {
        AnnotationConfigApplicationContext appContext = new AnnotationConfigApplicationContext(StaticConfig.class);
        HelloBean bean = appContext.getBean(HelloBean.class);
        Assertions.assertThat(bean).isNotNull();
    }

    @Test
    void selectorConfig() {
        AnnotationConfigApplicationContext appContext = new AnnotationConfigApplicationContext(SelectorConfig.class);
        HelloBean bean = appContext.getBean(HelloBean.class);
        Assertions.assertThat(bean).isNotNull();

    }

    @Configuration
    @Import(HelloConfig.class)
    public static class StaticConfig {

    }

    @Configuration
    @Import(HelloImportSelector.class)
    public static class SelectorConfig {

    }
}
```

```java
@Test
void staticConfig() {
    AnnotationConfigApplicationContext appContext = new AnnotationConfigApplicationContext(StaticConfig.class);
    HelloBean bean = appContext.getBean(HelloBean.class);
    Assertions.assertThat(bean).isNotNull();
}
```

  - staticConfig()
    + ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ê³ , StaticConfig.classë¥¼ ì´ˆê¸° ì„¤ì • ì •ë³´ë¡œ ì‚¬ìš©
    + ê·¸ ê²°ê³¼, HelloBeanì´ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ì˜ ë“±ë¡ëœ ê²ƒ í™•ì¸

```java
@Test
void selectorConfig() {
    AnnotationConfigApplicationContext appContext = new AnnotationConfigApplicationContext(SelectorConfig.class);
    HelloBean bean = appContext.getBean(HelloBean.class);
    Assertions.assertThat(bean).isNotNull();

}
```
  - selectorConfig()
    + SelectorConfigë¥¼ ì´ˆê¸° ì„¤ì • ì •ë³´ë¡œ ì‚¬ìš©
    + SelectorConfigëŠ” @Import(HelloImportSelector.class)ì—ì„œ ImportSelectorì˜ êµ¬í˜„ì²´ì¸ HelloImportSelector ì‚¬ìš©
    + ğŸ’¡ ìŠ¤í”„ë§ì€ HelloImportSelectorë¥¼ ì‹¤í–‰í•˜ê³ , "hello.selector.helloConfig"ë¼ëŠ” ë¬¸ìë¥¼ ë°˜í™˜ ë°›ìŒ
    + ğŸ’¡ ìŠ¤í”„ë§ì€ ì´ ë¬¸ìì— ë§ëŠ” ëŒ€ìƒì„ ì„¤ì • ì •ë³´ë¡œ ì‚¬ìš©
    + ğŸ’¡ ë”°ë¼ì„œ, hello.selector.HelloConfigì´ ì„¤ì • ì •ë³´ë¡œ ì‚¬ìš©
    + ê·¸ ê²°ê³¼, HelloBeanì´ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ì˜ ë“±ë¡ëœ ê²ƒ í™•ì¸ ê°€ëŠ¥

-----
### @EnableAutoConfigration ë™ì‘ ë°©ì‹
-----
1. @EnableAutoConfiguration
```java
@AutoConfigurationPackage
@Import(AutoConfigurationImportSelector.class)
public @interface EnableAutoConfiguration {â€¦}
```
  - AutoConfigurationImportSelectorëŠ” ImportSelectorì˜ êµ¬í˜„ì²´
  - ë”°ë¼ì„œ, ì„¤ì • ì •ë³´ë¥¼ ë™ì  ì„ íƒ ê°€ëŠ¥
  - ğŸ’¡ ì‹¤ì œë¡œ ì´ ì½”ë“œëŠ” ëª¨ë“  ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ìˆëŠ” ë‹¤ìŒ ê²½ë¡œ íŒŒì¼ í™•ì¸
  - ğŸ’¡ META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports

2. memory-v2 - org.springframework.boot.autoconfigure.AutoConfiguration.imports (í™•ì¸)
```
memory.MemoryAutoConfig
```

3. spring-boot-autoconfigure - org.springframework.boot.autoconfigure.AutoConfiguration.imports (í™•ì¸)
```
org.springframework.boot.autoconfigure.aop.AopAutoConfiguration
org.springframework.boot.autoconfigure.data.jdbc.JdbcRepositoriesAutoConfigurati on
...
```
  - ê·¸ë¦¬ê³  íŒŒì¼ì˜ ë‚´ìš©ì„ ì½ì–´ì„œ ì„¤ì • ì •ë³´ë¡œ ì„ íƒ

4. ğŸ’¡ ìŠ¤í”„ë§ ë¶€íŠ¸ ìë™ êµ¬ì„± ë™ì‘ ë°©ì‹ ìˆœì„œ
  - @SpringBootApplication â†’ @EnableAutoConfiguration â†’ @Import(AutoConfigurationImportSelector.class) â†’ ğŸ’¡ resources/META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports íŒŒì¼ì„ ì—´ì–´ì„œ ì„¤ì • ì •ë³´ ì„ íƒ
  - í•´ë‹¹ íŒŒì¼ì˜ ì„¤ì • ì •ë³´ê°€ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ë“±ë¡ë˜ê³  ì‚¬ìš©

-----
### ì •ë¦¬
-----
1. ìŠ¤í”„ë§ ë¶€íŠ¸ ìë™ êµ¬ì„±ì„ ì§ì ‘ ë§Œë“¤ ë•Œ ì°¸ê³ 
   - ğŸ’¡ @AutoConfigurationì— ìë™ êµ¬ì„± ìˆœì„œ ì§€ì • ê°€ëŠ¥
   - ğŸ’¡ @AutoConfigurationë„ ì„¤ì • íŒŒì¼
     + ğŸ’¡ ë‚´ë¶€ì— @Configurationì´ ìˆëŠ” ê²ƒ í™•ì¸ ê°€ëŠ¥
     + ğŸ’¡ í•˜ì§€ë§Œ, ì¼ë°˜ ìŠ¤í”„ë§ ì„¤ì •ê³¼ ë¼ì´í”„ì‚¬ì´í´ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì˜ ëŒ€ìƒì´ ë˜ë©´ ì•ˆ ë¨
     + ğŸ’¡ íŒŒì¼ì„ ì§€ì •í•´ì„œ ì‚¬ìš©í•´ì•¼ í•¨ (resources/META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports)
     + ğŸ’¡ ê·¸ë˜ì„œ ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ì œê³µí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì—ì„œëŠ” @AutoConfigurationì„ ì œì™¸í•˜ëŠ” AutoConfigurationExcludeFilter í•„í„°ê°€ í¬í•¨ë˜ì–´ ìˆìŒ

2. @SpringBootApplication
```java
@SpringBootConfiguration
@EnableAutoConfiguration
@ComponentScan(excludeFilters = {
    @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),
    @Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class)
})
public @interface SpringBootApplication {...}
```
  - ğŸ’¡ ìë™ êµ¬ì„±ì´ ë‚´ë¶€ì—ì„œ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ë©´ ì•ˆ ë¨
  - ğŸ’¡ ëŒ€ì‹ ì— ìë™ êµ¬ì„± ë‚´ë¶€ì—ì„œ @ImportëŠ” ì‚¬ìš© ê°€ëŠ¥

3. ìë™ êµ¬ì„±ì˜ ì‚¬ìš© ì‹œì 
   - AutoConfigurationì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§Œë“¤ì–´ì„œ ì œê³µí•  ë•Œ ì‚¬ìš©
   - ê·¸ ì™¸ì—ëŠ” ì‚¬ìš©í•˜ëŠ” ì¼ì´ ê±°ì˜ ì—†ìŒ
   - ì™œëƒí•˜ë©´, ë³´í†µ í•„ìš”í•œ ë¹ˆë“¤ì„ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”í•˜ê±°ë‚˜ ì§ì ‘ ë“±ë¡í•˜ê¸° ë•Œë¬¸ì„
   - ğŸ’¡ í•˜ì§€ë§Œ, ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§Œë“¤ì–´ì„œ ì œê³µí•  ë•ŒëŠ” ìë™ êµ¬ì„±ì´ ìœ ìš©
   - ğŸ’¡ ì‹¤ì œë¡œ ë‹¤ì–‘í•œ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ ìë™ êµ¬ì„±ì„ í•¨ê»˜ ì œê³µ
   - ë³´í†µ ì´ë¯¸ ë§Œë“¤ì–´ì§„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì ¸ë‹¤ ì‚¬ìš©í•˜ì§€, ë°˜ëŒ€ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§Œë“¤ì–´ì„œ ì œê³µí•˜ëŠ” ê²½ìš°ëŠ” ë§¤ìš° ë“œë­„
   - ê·¸ëŸ¼ ìë™ êµ¬ì„±ì„ ì•Œì•„ì•¼ í•˜ëŠ” ì´ìœ ëŠ”?
     + ìë™ êµ¬ì„±ì„ ì•Œì•„ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ê°œë°œì„ ì§„í–‰í•˜ë‹¤ ë³´ë©´, ì‚¬ìš©í•˜ëŠ” íŠ¹ì • ë¹ˆë“¤ì´ ì–´ë–»ê²Œ ë“±ë¡ëœ ê²ƒì¸ì§€ í™•ì¸í•  ë•Œ í•„ìš”í•  ë•Œ ì¡´ì¬
     + ì´ëŸ´ ë•Œ, ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ ìë™ êµ¬ì„± ì½”ë“œë¥¼ ì½ì„ ìˆ˜ ìˆì–´ì•¼ í•¨
     + ê·¸ë˜ì•¼ ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ, ëŒ€ì²˜ ê°„ìœ¼
     + ìë™í™”ëŠ” ë§¤ìš° í¸ë¦¬í•œ ê¸°ëŠ¥ì´ì§€ë§Œ, ì´ë¥¼ ë¯¿ê³ ë§Œ ì‚¬ìš©í–ˆë‹¤ê°€ ì‹¤ë¬´ì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ, íŒŒê³  ë“¤ì–´ê°€ì„œ ë¬¸ì œ í™•ì¸í•˜ëŠ” ì •ë„ëŠ” ì´í•´í•´ì•¼ í•¨


4. ë‚¨ì€ ë¬¸ì œ
   - ì´ëŸ° ë°©ì‹ìœ¼ë¡œ ë¹ˆì´ ìë™ ë“±ë¡ë˜ë©´, ë¹ˆì„ ë“±ë¡í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì„¤ì • ì •ë³´ëŠ” ì–´ë–»ê²Œ ë³€ê²½í•´ì•¼ í•˜ëŠ” ì˜ë¬¸ì´ ë“¤ ê²ƒ
   - ì˜ˆ) DB ì ‘ì† URL, ID, PW ë“±
   - ë°ì´í„°ì†ŒìŠ¤ ë¹ˆì„ ë“±ë¡í•  ë•Œ ì´ëŸ° ì •ë³´ë¥¼ ì…ë ¥í•´ì•¼ í•˜ëŠ”ë°, ë¹ˆì´ ìë™ìœ¼ë¡œ ë‹¤ ë“±ë¡ë˜ì–´ ë²„ë¦°ë‹¤ë©´ ì´ëŸ° ì •ë³´ëŠ” ì–´ë–»ê²Œ ì…ë ¥?
