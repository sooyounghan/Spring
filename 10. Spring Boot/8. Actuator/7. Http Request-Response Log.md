-----
### HTTP ìš”ì²­ ì‘ë‹µ ê¸°ë¡
-----
1. ğŸ’¡ HTTP ìš”ì²­ê³¼ ì‘ë‹µì˜ ê³¼ê±° ê¸°ë¡ì„ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´, httpexchanges ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš©
2. ğŸ’¡ HttpExchangeRepository ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ë©´ httpexchanges ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš© ê°€ëŠ¥
  - HttpExchangeRepository
```java
package org.springframework.boot.actuate.web.exchanges;

import java.util.List;

public interface HttpExchangeRepository {
    List<HttpExchange> findAll();

    void add(HttpExchange httpExchange);
}
```

  - ğŸ’¡ í•´ë‹¹ ë¹ˆì„ ë“±ë¡í•˜ì§€ ì•Šìœ¼ë©´ httpexchanges ì—”ë“œí¬ì¸íŠ¸ê°€ í™œì„±í™” ë˜ì§€ ì•ŠìŒ
3. ğŸ’¡ ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ InMemoryHttpExchangeRepository êµ¬í˜„ì²´ ì œê³µ
  - InMemoryHttpExchangeRepository
```java
package org.springframework.boot.actuate.web.exchanges;

import java.util.ArrayList;
import java.util.Collections;
import java.util.LinkedList;
import java.util.List;

public class InMemoryHttpExchangeRepository implements HttpExchangeRepository {
    private int capacity = 100; // 100ê°œì˜ ìš”ì²­ë§Œ ì €ì¥
    private boolean reverse = true;
    private final List<HttpExchange> httpExchanges = new LinkedList();

    public InMemoryHttpExchangeRepository() {
    }

    public void setReverse(boolean reverse) {
        synchronized(this.httpExchanges) {
            this.reverse = reverse;
        }
    }

    public void setCapacity(int capacity) {
        synchronized(this.httpExchanges) {
            this.capacity = capacity;
        }
    }

    public List<HttpExchange> findAll() {
        synchronized(this.httpExchanges) {
            return Collections.unmodifiableList(new ArrayList(this.httpExchanges));
        }
    }

    public void add(HttpExchange exchange) {
        synchronized(this.httpExchanges) {
            while(this.httpExchanges.size() >= this.capacity) {
                this.httpExchanges.remove(this.reverse ? this.capacity - 1 : 0);
            }

            if (this.reverse) {
                this.httpExchanges.add(0, exchange);
            } else {
                this.httpExchanges.add(exchange);
            }

        }
    }
}
```
  - ğŸ’¡ ì´ êµ¬í˜„ì²´ëŠ” ìµœëŒ€ 100ê°œì˜ HTTP ìš”ì²­ì„ ì œê³µ
  - ğŸ’¡ ìµœëŒ€ ìš”ì²­ì´ ë„˜ì–´ê°€ë©´ ê³¼ê±° ìš”ì²­ì„ ì‚­ì œ
  - ğŸ’¡ setCapacity()ë¡œ ìµœëŒ€ ìš”ì²­ìˆ˜ ë³€ê²½ ê°€ëŠ¥
    
  - InMemoryHttpExchangeRepository ì¶”ê°€
```java
package hello;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.actuate.web.exchanges.InMemoryHttpExchangeRepository;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Bean;

@SpringBootApplication
public class ActuatorApplication {

    public static void main(String[] args) {
        SpringApplication.run(ActuatorApplication.class, args);
    }

    @Bean
    public InMemoryHttpExchangeRepository httpExchangeRepository() {
        return new InMemoryHttpExchangeRepository();
    }
}
```
  - ì‹¤í–‰ (http://localhost:9090/actuator/httpexchanges)
    + ì‹¤í–‰í•˜ë©´ ì§€ê¸ˆê¹Œì§€ ì‹¤í–‰í•œ HTTP ìš”ì²­ê³¼ ì‘ë‹µ ì •ë³´ í™•ì¸ ê°€ëŠ¥
   
4. ì°¸ê³ ë¡œ ì´ ê¸°ëŠ¥ì€ ë§¤ìš° ë‹¨ìˆœí•˜ê³  ê¸°ëŠ¥ì— ì œí•œì´ ë§ìœ¼ë¯€ë¡œ ê°œë°œ ë‹¨ê³„ì—ì„œë§Œ ì‚¬ìš©, ì‹¤ì œ ìš´ì˜ ì„œë¹„ìŠ¤ì—ì„œëŠ” ëª¨ë‹ˆí„°ë§ íˆ´ì´ë‚˜ í•€í¬ì¸íŠ¸, Zipkin ê°™ì€ ë‹¤ë¥¸ ê¸°ìˆ  ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì€
 
