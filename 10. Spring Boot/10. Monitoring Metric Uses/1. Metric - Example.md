-----
### ë©”íŠ¸ë¦­ ë“±ë¡ - ì˜ˆì œ ë§Œë“¤ê¸°
-----
1. CPU ì‚¬ìš©ëŸ‰, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰, í†°ìº£ ì“°ë ˆë“œ, DB ì»¤ë„¥ì…˜ í’€ê³¼ ê°™ì€ ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê¸°ìˆ  ë©”íŠ¸ë¦­ì€ ì´ë¯¸ ë“±ë¡ë˜ì–´ ìˆìŒ
   - ì´ëŸ° ë“±ë¡ëœ ë©”íŠ¸ë¦­ì„ ì‚¬ìš©í•´ì„œ ëŒ€ì‹œë³´ë“œë¥¼ êµ¬ì„±í•˜ê³  ëª¨ë‹ˆí„°ë§ í•˜ë©´ ë¨
2. ë” ë‚˜ì•„ê°€ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ì— íŠ¹í™”ëœ ë¶€ë¶„ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ì‹¶ë‹¤ë©´?
   - ì˜ˆë¥¼ ë“¤ì–´ì„œ, ì£¼ë¬¸ ìˆ˜, ì·¨ì†Œ ìˆ˜, ì¬ê³  ìˆ˜ëŸ‰ ê°™ì€ ë©”íŠ¸ë¦­ ë“¤ì´ ìˆìŒ
   - ì´ ë¶€ë¶„ì€ ê³µí†µìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë¶€ë¶„ì´ ì•„ë‹Œ, ê° ë¹„ì¦ˆë‹ˆìŠ¤ì— íŠ¹í™”ëœ ë¶€ë¶„ë“¤
3. ì´ëŸ° ë©”íŠ¸ë¦­ë“¤ë„ ì‹œìŠ¤í…œì„ ìš´ì˜í•˜ëŠ”ë° ìƒë‹¹íˆ ë„ì›€ì´ ë¨
   - ì˜ˆë¥¼ ë“¤ì–´ì„œ, ì·¨ì†Œ ìˆ˜ê°€ ê°‘ìê¸° ê¸‰ì¦í•˜ê±°ë‚˜ ì¬ê³  ìˆ˜ëŸ‰ì´ ì„ê³„ì¹˜ ì´ìƒìœ¼ë¡œ ìŒ“ì´ëŠ” ë¶€ë¶„ë“¤ì€ ê¸°ìˆ ì ì¸ ë©”íŠ¸ë¦­ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ì—†ëŠ” ì‹œìŠ¤í…œì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¬¸ì œë¥¼ ë¹ ë¥´ê²Œ íŒŒì•…í•˜ëŠ”ë° ë„ì›€ì„ ì¤Œ
   - ì˜ˆë¥¼ ë“¤ì–´ì„œ, íƒë°°íšŒì‚¬ì— ë¬¸ì œê°€ ìƒê²¨ì„œ ê³ ê°ë“¤ì´ ë§ì´ ê¸°ë‹¤ë¦¬ê¸° ì§€ì³ì„œ ì·¨ì†Œìˆ˜ê°€ ì¦ê°€í•´ë„ CPU, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê°™ì€ ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ì—ëŠ” ì•„ë¬´ëŸ° ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠìŒ
   - ì´ëŸ´ ë•Œ, ë¹„ì¦ˆë‹ˆìŠ¤ ë©”íŠ¸ë¦­ì´ ìˆìœ¼ë©´ ì´ëŸ° ë¬¸ì œë¥¼ ë¹ ë¥´ê²Œ ì¸ì§€ ê°€ëŠ¥
4. ë¹„ì¦ˆë‹ˆìŠ¤ì— ê´€í•œ ë¶€ë¶„ì€ ë¹„ì§€ë‹ˆìŠ¤ ë§ˆë‹¤ êµ¬í˜„ì´ ë‹¤ë¥´ë¯€ë¡œ, ë¹„ì¦ˆë‹ˆìŠ¤ ë©”íŠ¸ë¦­ì€ ì§ì ‘ ë“±ë¡í•˜ê³  í™•ì¸í•´ì•¼ í•¨
   - ì—¬ê¸°ì„œëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ì˜ ì‹¤ì‹œê°„ ì£¼ë¬¸ ìˆ˜, ì·¨ì†Œ ìˆ˜, ë˜ ì‹¤ì‹œê°„ ì¬ê³  ìˆ˜ëŸ‰ì„ ë©”íŠ¸ë¦­ìœ¼ë¡œ ë“±ë¡í•˜ê³  í™•ì¸

5. ë©”íŠ¸ë¦­ ì •ì˜
   - ì£¼ë¬¸ ìˆ˜, ìµœì†Œ ìˆ˜
     + ìƒí’ˆì„ ì£¼ë¬¸í•˜ë©´ ì£¼ë¬¸ ìˆ˜ê°€ ì¦ê°€
     + ğŸ’¡ ìƒí’ˆì„ ì·¨ì†Œí•´ë„ ì£¼ë¬¸ ìˆ˜ëŠ” ìœ ì§€, ëŒ€ì‹ ì— ì·¨ì†Œ ìˆ˜ë¥¼ ì¦ê°€

   - ì¬ê³  ìˆ˜ëŸ‰
     + ìƒí’ˆì„ ì£¼ë¬¸í•˜ë©´ ì¬ê³  ìˆ˜ëŸ‰ ê°ì†Œ
     + ìƒí’ˆì„ ì·¨ì†Œí•˜ë©´ ì¬ê³  ìˆ˜ëŸ‰ ì¦ê°€
     + ì¬ê³  ë¬¼ëŸ‰ì´ ë“¤ì–´ì˜¤ë©´ ì¬ê³  ìˆ˜ëŸ‰ ì¦ê°€

   - ğŸ’¡ ì£¼ë¬¸ ìˆ˜, ì·¨ì†Œ ìˆ˜ëŠ” ê³„ì† ì¦ê°€í•˜ë¯€ë¡œ ì¹´ìš´í„° ì‚¬ìš©
   - ğŸ’¡ ì¬ê³  ìˆ˜ëŸ‰ì€ ì¦ê°€í•˜ê±°ë‚˜ ê°ì†Œí•˜ë¯€ë¡œ ê²Œì´ì§€ ì‚¬ìš©

  6. Actuator í”„ë¡œì íŠ¸ì— ì½”ë“œ ì¶”ê°€
     - OrderService
  ```java
package hello.order;

import java.util.concurrent.atomic.AtomicInteger;

public interface OrderService {
    void order();
    void cancel();
    AtomicInteger getStock();
}
```
   - ì£¼ë¬¸, ì·¨ì†Œ, ì¬ê³  ìˆ˜ëŸ‰ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ” ì£¼ë¬¸ ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤

   - OrderServiceV0
```java
package hello.order.v0;

import lombok.extern.slf4j.Slf4j;

import java.util.concurrent.atomic.AtomicInteger;

@Slf4j
public class OrderServiceV0 implements OrderService {

    private AtomicInteger stock = new AtomicInteger(100);

    @Override
    public void order() {
        log.info("ì£¼ë¬¸");
        stock.decrementAndGet(); // stock ê°’ ê°ì†Œ
    }

    @Override
    public void cancel() {
        log.info("ì·¨ì†Œ");
        stock.incrementAndGet(); // stock ê°’ ì¦ê°€
    }

    @Override
    public AtomicInteger getStock() {
        return stock;
    }
}
```
  - new AtomicInteger(100) : ì´ˆê¸°ê°’ì„ 100ìœ¼ë¡œ ì„¤ì •
  - ì¬ê³  ìˆ˜ëŸ‰ì´ 100ë¶€í„° ì‹œì‘í•œë‹¤ê³  ê°€ì •

  - OrderConfigV0
```java
package hello.order.v0;

import hello.order.OrderService;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class OrderConfigV0 {

    @Bean
    public OrderService orderService() {
        return new OrderServiceV0();
    }
}
```
  - OrderService ë¹ˆì„ ì§ì ‘ ë“±ë¡

  - OrderController
```java
package hello.controller;

import hello.order.OrderService;
import lombok.extern.slf4j.Slf4j;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@Slf4j
@RestController
public class OrderController {
    private final OrderService orderService;

    public OrderController(OrderService orderService) {
        this.orderService = orderService;
    }

    @GetMapping("/order")
    public String order() {
        log.info("order");
        orderService.order();
        return "order";
    }

    @GetMapping("/cancel")
    public String cancel() {
        log.info("cancel");
        orderService.cancel();
        return "cancel";
    }

    @GetMapping("/stock")
    public int stock() {
        log.info("stock");
        return orderService.getStock().get();
    }
}
```
  - ì£¼ë¬¸, ì·¨ê³ , ì¬ê³  ìˆ˜ëŸ‰ì„ í™•ì¸í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬
  - ì°¸ê³  : ì˜ˆì œì˜ ë‹¨ìˆœí•¨ì„ ìœ„í•´ GET ì‚¬ìš©

  - ActuatorApplication
```java
package hello;

import hello.order.v0.OrderConfigV0;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.actuate.web.exchanges.InMemoryHttpExchangeRepository;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Import;

@Import(OrderConfigV0.class)
@SpringBootApplication(scanBasePackages = "hello.controller")
public class ActuatorApplication {

    public static void main(String[] args) {
        SpringApplication.run(ActuatorApplication.class, args);
    }
}
```
  - @Import(OrderConfigV0.class) : OrderServiceV0ì„ ì‚¬ìš©í•˜ëŠ” ì„¤ì •
  - @SpringBootApplication(scanBasePackages = "hello.controller")
    + ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì˜ ëŒ€ìƒì„ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì œí•œ
    + ê·¸ë ‡ì§€ ì•Šìœ¼ë©´, ì´í›„ ì¶”ê°€í•  OrderConfigVXê°€ ëª¨ë‘ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡
    
