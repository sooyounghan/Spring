-----
### JPAì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ 2ê°€ì§€
-----
1. ê°ì²´ì™€ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ë§¤í•‘í•˜ê¸° (Object Relational Mapping)
2. ì˜ì†ì„± ì»¨í…ŒìŠ¤íŠ¸ (Persistence Context)

-----
### ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ (Persistence Context)
-----
1. EntityManagerFactoryì™€ EntityManager
<div align="center">
<img src="https://github.com/user-attachments/assets/a900ae22-08c6-4739-a3d4-b28e6fad9340">
</div>

2. JPAë¥¼ ì´í•´í•˜ëŠ”ë° ê°€ì¥ ì¤‘ìš”í•œ ìš©ì–´ë¡œ, ğŸ’¡ "Entityë¥¼ ì˜êµ¬íˆ ì €ì¥í•˜ëŠ” í™˜ê²½"ì´ë¼ëŠ” ëœ»
   - EntityManager.persist(Entity);
   - ğŸ’¡ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í†µí•´ ì—”í‹°í‹°ë¥¼ ì˜ì†í™” í•˜ëŠ” ê²ƒ (ì¦‰, ì˜ì†ì„± ì»¨í…ŒìŠ¤íŠ¸ì— ì €ì¥)

3. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ë…¼ë¦¬ì ì¸ ê°œë…ìœ¼ë¡œ, ëˆˆì— ë³´ì´ì§€ ì•ŠìŒ
   - EntityManagerë¥¼ í†µí•´ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì ‘ê·¼

4. J2SE í™˜ê²½ : Entity Managerì™€ Persistence Contextê°€ 1 : 1
<div align="center">
<img src="https://github.com/user-attachments/assets/455a2768-ab35-401e-b062-a2f9d027d69c">
</div>

5. J2EE í™˜ê²½ (ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì™€ ê°™ì€ ì»¨í…Œì´ë„ˆ í™˜ê²½) : Entity Managerì™€ Persistence Context N : 1
<div align="center">
<img src="https://github.com/user-attachments/assets/4dacbe93-de42-4f25-b8ae-a13112dda7b2">
</div>

6. ğŸ’¡ Entityì˜ ìƒëª… ì£¼ê¸°
   - ë¹„ì˜ì† (new / transient) : ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ ì „í˜€ ê´€ê³„ ì—†ëŠ” ìƒˆë¡œìš´ ìƒíƒœ
   - ì˜ì† (managed) : ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ê´€ë¦¬ë˜ëŠ” ìƒíƒœ
   - ì¤€ì˜ì† (detached) : ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥ë˜ì—ˆë‹¤ê°€ ë¶„ë¦¬ëœ ìƒíƒœ
   - ì‚­ì œ (removed) : ì‚­ì œëœ ìƒíƒœ
<div align="center">
<img src="https://github.com/user-attachments/assets/fe8f7d23-520f-4796-8389-6b227cd5f835">
</div>

7. ë¹„ì˜ì†
<div align="center">
<img src="https://github.com/user-attachments/assets/c3593184-b3e3-4f9c-884f-2e46763fef4b">
</div>

```java
// ê°ì²´ë¥¼ ìƒì„±í•œ ìƒíƒœ (ë¹„ì˜ì†)
Member member = new Member();
member.setId("member1");
member.setUsername("íšŒì›1");
```

8. ì˜ì†
<div align="center">
<img src="https://github.com/user-attachments/assets/8c42e169-0616-452f-8798-38c02cb9cec8">
</div>

```java
EntityManagerFactory emf = Persistence.createEntityManagerFactory("hello");
EntityManager em = emf.createEntityManager();

EntityTransaction tx = em.getTransaction(); // íŠ¸ëœì­ì…˜
tx.begin(); // íŠ¸ëœì­ì…˜ ì‹œì‘

// íšŒì› ë“±ë¡
try {

    // ê°ì²´ë¥¼ ìƒì„±í•œ ìƒíƒœ (ë¹„ì˜ì†)
    Member member = new Member();
    member.setId("member1");
    member.setUsername("íšŒì›1");
    
    EntityManager em = emf.createEntityManager();
    em.getTransaction().begin();
    
    // ê°ì²´ë¥¼ ì €ì¥í•œ ìƒíƒœ (ì˜ì†) - DBì— INSERT SQLì´ ì „ì†¡ë˜ì§€ ì•ŠìŒ
    em.persist(member);
    tx.commit(); // íŠ¸ëœì­ì…˜ ì»¤ë°‹ - DBì— INSERT SQLì´ ì „ì†¡ë˜ëŠ” ì‹œì 
} catch (Exception e) {
    tx.rollback();
} finally {
    em.close();
}
```
  - ğŸ’¡ ì˜ì† ìƒíƒœê°€ ë˜ì—ˆë‹¤ê³  í•´ì„œ DBì— INSERT SQLê°€ ì „ì†¡ë˜ëŠ” ê²ƒì´ ì•„ë‹˜
  - ğŸ’¡ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ëŠ” ì‹œì ì— ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìˆëŠ” INSERT SQLì´ ì „ì†¡

9. ì¤€ì˜ì†, ì‚­ì œ
```java
// íšŒì› ì—”í‹°í‹°ë¥¼ ì˜ì†ì„± ì»¨í…ŒìŠ¤íŠ¸ì—ì„œ ë¶„ë¦¬, ì¤€ì˜ì† ìƒíƒœ
em.detach(member);
```

```java
// ê°ì²´ë¥¼ ì‚­ì œí•œ ìƒíƒœ (ì‚­ì œ)
em.remove(member);
```

-----
### ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ì´ì 
-----
1. 1ì°¨ ìºì‹œ
2. ë™ì¼ì„± (Identity) ë³´ì¥
3. íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ê¸° ì§€ì—° (Transactional Write-Behind)
4. ë³€ê²½ ê°ì§€(Dirty Checking)
5. ì§€ì—° ë¡œë”©(Lazy Loading)

-----
### ì—”í‹°í‹° ì¡°íšŒ, 1ì°¨ ìºì‹œ
-----
```java
// ì—”í‹°í‹°ë¥¼ ìƒì„±í•œ ìƒíƒœ (ë¹„ì˜ì†)
Member member = new Member();
member.setId("member1");
member.setUsername("íšŒì›1");

// ì—”í‹°í‹°ë¥¼ ì˜ì†
em.persist(member);
```
<div align="center">
<img src="https://github.com/user-attachments/assets/2960b9f8-6eca-4673-bdee-850acca5d1df">
</div>

1. 1ì°¨ ìºì‹œì—ì„œ ì¡°íšŒ
   - 1ì°¨ ìºì‹œ : ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ë‚´ ì¡´ì¬ (ë°ì´í„°ë² ì´ìŠ¤ í•œ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œë§Œ ìœ íš¨)
   - 2ì°¨ ìºì‹œ : JPA, Hibernate ë‚´ ì¡´ì¬
```java
Member member = new Member();
member.setId("member1");
member.setUsername("íšŒì›1");

// 1ì°¨ ìºì‹œì— ì €ì¥ë¨
em.persist(member);

// 1ì°¨ ìºì‹œì—ì„œ ì¡°íšŒ
Member findMember = em.find(Member.class, "member1");
```
<div align="center">
<img src="https://github.com/user-attachments/assets/164a1cf1-3ae8-4618-8a23-5ddaf5f6570f">
</div>

2. ì˜ˆì‹œ
```java
package hellojpa;

import jakarta.persistence.EntityManager;
import jakarta.persistence.EntityManagerFactory;
import jakarta.persistence.EntityTransaction;
import jakarta.persistence.Persistence;

public class JpaMain {
    public static void main(String[] args) {
        EntityManagerFactory emf = Persistence.createEntityManagerFactory("hello");
        EntityManager em = emf.createEntityManager();

        EntityTransaction tx = em.getTransaction(); // íŠ¸ëœì­ì…˜
        tx.begin(); // íŠ¸ëœì­ì…˜ ì‹œì‘

        try {
            // ë¹„ì˜ì†
            Member member = new Member();
            member.setId(101L);
            member.setName("HelloJPA");

            // ì˜ì†
            System.out.println("=== BEFORE ===");
            em.persist(member); // ğŸ’¡  1ì°¨ ìºì‹œì— ì €ì¥ (DBì— INSERT SQL ë¯¸ì „ì†¡)
            System.out.println("=== AFTER ===");

            // ğŸ’¡ DBì— ì €ì¥ëœ ê°’ì´ ì•„ë‹Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ 1ì°¨ ìºì‹œ ë‚´ì— ì¡´ì¬í•˜ëŠ” ì—”í‹°í‹° ë°˜í™˜
            Member findMember = em.find(Member.class, 101L);
            System.out.println("findMember.id = " + findMember.getId());
            System.out.println("findMember.name = " + findMember.getName());
            
            tx.commit(); // ğŸ’¡  INSERT SQL ì „ì†¡
        } catch (Exception e) {
            tx.rollback();
        } finally {
            em.close();
        }
        emf.close();
    }
}
```
  - ì‹¤í–‰ ë¡œê·¸
```
=== BEFORE ===
=== AFTER ===
findMember.id = 101
findMember.name = HelloJPA
Hibernate: 
    /* insert for
        hellojpa.Member */insert 
    into
        Member (name, id) 
    values
        (?, ?)
```

3. ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒ
```java
Member findMember2 = em.find(Member.class, "member2");
```
<div align="center">
<img src="https://github.com/user-attachments/assets/b7f31607-6e44-489b-af6c-69b080a4af8e">
</div>

4. ì˜ˆì‹œ
```java
package hellojpa;

import jakarta.persistence.EntityManager;
import jakarta.persistence.EntityManagerFactory;
import jakarta.persistence.EntityTransaction;
import jakarta.persistence.Persistence;

import java.util.List;

public class JpaMain {
    public static void main(String[] args) {
        EntityManagerFactory emf = Persistence.createEntityManagerFactory("hello");
        EntityManager em = emf.createEntityManager();

        EntityTransaction tx = em.getTransaction(); // íŠ¸ëœì­ì…˜
        tx.begin(); // íŠ¸ëœì­ì…˜ ì‹œì‘

        try {
            // ìƒí™© : DBì— INSERT SQL ì „ì†¡í•˜ì—¬ ì‚½ì… ì™„ë£Œ (id : 101L, name : "HelloJPA")
            // ğŸ’¡ ì˜ì†ì„± ì»¨í…ŒìŠ¤íŠ¸ì˜ 1ì°¨ ìºì‹œì—ëŠ” ê°’ì´ ì—†ìœ¼ë¯€ë¡œ DBì— ì ‘ê·¼í•˜ì—¬ ì¡°íšŒ í›„, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ 1ì°¨ ìºì‹œì— ì €ì¥
            Member findMember1 = em.find(Member.class, 101L);

            // ğŸ’¡ 1ì°¨ ìºì‹œì— ì €ì¥ë˜ì–´ ìˆìœ¼ë¯€ë¡œ, 1ì°¨ ìºì‹œì—ì„œ ì¡°íšŒ
            Member findMember2 = em.find(Member.class, 101L);

            tx.commit();
        } catch (Exception e) {
            tx.rollback();
        } finally {
            em.close();
        }
        emf.close();
    }
}
```
  - ğŸ’¡ ì‹¤í–‰ ë¡œê·¸ : SELECT SQLê°€ 1ë²ˆ ì‹¤í–‰
```
Hibernate: 
    select
        m1_0.id,
        m1_0.name 
    from
        Member m1_0 
    where
        m1_0.id=?
```

-----
### ì˜ì† ì—”í‹°í‹°ì˜ ë™ì¼ì„± ë³´ì¥
-----
```java
Member a = em.find(Member.class, "member1");
Member b = em.find(Member.class, "member1");

System.out.println(a == b); // ë™ì¼ì„± ë¹„êµ : true
```
  - ğŸ’¡ 1ì°¨ ìºì‹œë¡œ ë°˜ë³µ ê°€ëŠ¥í•œ ì½ê¸°(REPEATABLE READ) ë“±ê¸‰ì˜ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ì„ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì•„ë‹Œ ì• í”Œë ˆì¼€ì´ì…˜ ì°¨ì›ì—ì„œ ì œê³µ

  - ì˜ˆì‹œ
```java
package hellojpa;

import jakarta.persistence.EntityManager;
import jakarta.persistence.EntityManagerFactory;
import jakarta.persistence.EntityTransaction;
import jakarta.persistence.Persistence;

import java.util.List;

public class JpaMain {
    public static void main(String[] args) {
        EntityManagerFactory emf = Persistence.createEntityManagerFactory("hello");
        EntityManager em = emf.createEntityManager();

        EntityTransaction tx = em.getTransaction(); // íŠ¸ëœì­ì…˜
        tx.begin(); // íŠ¸ëœì­ì…˜ ì‹œì‘

        try {
            // ìƒí™© : DBì— INSERT SQL ì „ì†¡í•˜ì—¬ ì‚½ì… ì™„ë£Œ (id : 101L, name : "HelloJPA")
            // ğŸ’¡ ì˜ì†ì„± ì»¨í…ŒìŠ¤íŠ¸ì˜ 1ì°¨ ìºì‹œì—ëŠ” ê°’ì´ ì—†ìœ¼ë¯€ë¡œ DBì— ì ‘ê·¼í•˜ì—¬ ì¡°íšŒ í›„, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ 1ì°¨ ìºì‹œì— ì €ì¥
            Member findMember1 = em.find(Member.class, 101L);

            // ğŸ’¡ 1ì°¨ ìºì‹œì— ì €ì¥ë˜ì–´ ìˆìœ¼ë¯€ë¡œ, 1ì°¨ ìºì‹œì—ì„œ ì¡°íšŒ
            Member findMember2 = em.find(Member.class, 101L);

            System.out.println("result = " + (findMember1 == findMember2)); // ì˜ì† ì—”í‹°í‹°ì˜ ë™ì¼ì„± ë³´ì¥

            tx.commit();
        } catch (Exception e) {
            tx.rollback();
        } finally {
            em.close();
        }
        emf.close();
    }
}
```
  - ì‹¤í–‰ ë¡œê·¸ : ğŸ’¡ 1ì°¨ ìºì‹œë¡œ ì¸í•œ == ë¹„êµ ì—°ì‚°ìì˜ ë™ì¼ì„± ë³´ì¥
```
result = true
```

-----
### ì—”í‹°í‹° ë“±ë¡ - íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ê¸° ì§€ì—°
-----
```java
EntityManager em = emf.createEntityManager();
EntityTransaction transaction = em.getTransaction();

// ì—”í‹°í‹° ë§¤ë‹ˆì €ëŠ” ë°ì´í„° ë³€ê²½ ì‹œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•´ì•¼ í•¨
transaction.begin(); // [íŠ¸ëœì­ì…˜] ì‹œì‘

em.persist(memberA);
em.persist(memberB);

// ì—¬ê¸°ê¹Œì§€ INSERT SQLì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë³´ë‚´ì§€ ì•ŠìŒ

// Commit í•˜ëŠ” ìˆœê°„ ë°ì´í„°ë² ì´ìŠ¤ì— INSERT SQLì„ ë³´ëƒ„
transaction.commit(); // [íŠ¸ëœì­ì…˜] ì»¤ë°‹
```
1. em.persist(memberA);, em.persist(memberB);
<div align="center">
<img src="https://github.com/user-attachments/assets/1cf11b56-9518-4f9c-a17a-f38e41fea84b">
</div>

  - memberAê°€ 1ì°¨ ìºì‹œì— ì €ì¥í•˜ê³ , JPAê°€ Entityë¥¼ ë¶„ì„í•´ INSERT SQLë¥¼ ìƒì„± í›„, ì“°ê¸° ì§€ì—° SQL ì €ì¥ì†Œì— í•´ë‹¹ ì¿¼ë¦¬ ì €ì¥
  - memberBë„ 1ì°¨ ìºì‹œì— ì €ì¥í•˜ê³ , JPAê°€ Entityë¥¼ ë¶„ì„í•´ INSERT SQLë¥¼ ìƒì„± í›„, ì“°ê¸° ì§€ì—° SQL ì €ì¥ì†Œì— í•´ë‹¹ ì¿¼ë¦¬ ì €ì¥
  
2. transaction.commit();
<div align="center">
<img src="https://github.com/user-attachments/assets/fffe638c-9192-4fe4-9ec7-4fc19e39d631">
</div>

  - íŠ¸ëœì­ì…˜ì˜ ì»¤ë°‹í•˜ëŠ” ì‹œì ì— ì“°ê¸° ì§€ì—° SQL ì €ì¥ì†Œì— ìˆëŠ” SQLë“¤ì´ DBì— flush
  - ì‹¤ì œ, ë°ì´í„°ë² ì´ìŠ¤ì— SQLë“¤ì´ ì „ì†¡

3. ì˜ˆì‹œ
   - Member
```java
package hellojpa;

import jakarta.persistence.Entity;
import jakarta.persistence.Id;

@Entity
// @Table(name = "USER") // DBì˜ USER í…Œì´ë¸”ê³¼ Mapping, ì—†ìœ¼ë©´ í´ë˜ìŠ¤ëª…ê³¼ ë™ì¼í•œ í…Œì´ë¸”ëª…ì— Mapping
public class Member {
    
    @Id
    private Long id;

    // @Column(name = "username") // DBì˜ Mappingëœ í…Œì´ë¸”ì—ì„œ username Columnì— Mapping, í•´ë‹¹ í…Œì´ë¸”ì˜ í•´ë‹¹ í•„ë“œëª…ê³¼ ë™ì¼í•œ Columnì— Mapping
    private String name;


    // ğŸ’¡ ìƒì„±ì ì¶”ê°€ : JPAëŠ” ë°˜ë“œì‹œ ê¸°ë³¸ ìƒì„±ì í•„ìš”ë¡œ í•¨
    public Member() {
        
    }
    
    public Member(Long id, String name) {
        this.id = id;
        this.name = name;
    }
    
    // Getter, Setter
    public Long getId() {
        return id;
    }

    public String getName() {
        return name;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public void setName(String name) {
        this.name = name;
    }
}
```
  - JpaMain
```java
package hellojpa;

import jakarta.persistence.EntityManager;
import jakarta.persistence.EntityManagerFactory;
import jakarta.persistence.EntityTransaction;
import jakarta.persistence.Persistence;

public class JpaMain {
    public static void main(String[] args) {
        EntityManagerFactory emf = Persistence.createEntityManagerFactory("hello");
        EntityManager em = emf.createEntityManager();

        EntityTransaction tx = em.getTransaction(); // íŠ¸ëœì­ì…˜
        tx.begin(); // íŠ¸ëœì­ì…˜ ì‹œì‘

        try {
            Member member1 = new Member(150L, "A");
            Member member2 = new Member(160L, "B");

            // ğŸ’¡ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ 1ì°¨ ìºì‹œì— ì €ì¥
            em.persist(member1);
            em.persist(member2);

            System.out.println("========");

            tx.commit(); // ğŸ’¡ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ì“°ê¸° ì§€ì—° SQLì— ì €ì¥ëœ SQLì„ DBì— ì „ì†¡
        } catch (Exception e) {
            tx.rollback();
        } finally {
            em.close();
        }
        emf.close();
    }
}
```
  - ì‹¤í–‰ ë¡œê·¸ : COMMIT ë˜ëŠ” ì‹œì ì— INSER SQL ì „ì†¡
```
========
Hibernate: 
    /* insert for
        hellojpa.Member */insert 
    into
        Member (name, id) 
    values
        (?, ?)
Hibernate: 
    /* insert for
        hellojpa.Member */insert 
    into
        Member (name, id) 
    values
        (?, ?)
```

4. hibernate.jdbc.batch_size : batchë˜ëŠ” í¬ê¸°ë§Œí¼ ëª¨ì•„ì„œ DBì— í•œ ë²ˆì— ì „ì†¡ (ì¼ì¢…ì˜ ë²„í¼ ê¸°ëŠ¥)
   - ì˜ˆì‹œ) ìµœëŒ€ value í¬ê¸°ë§Œí¼ ëª¨ì•„ì„œ í•œ ë²ˆì— DB ì „ì†¡ í›„, COMMIT 
```maven
<property name="hibernate.jdbc.batch_size" value = "10"/>
```

-----
### ì—”í‹°í‹° ìˆ˜ì • - ë³€ê²½ ê°ì§€ (Dirty Checking)
-----
```java
EntityManager em = emf.createEntityManagerFactory();
EntityTransaction transaction = em.getTransaction();
transaction.begin(); // [íŠ¸ëœì­ì…˜] ì‹œì‘

// ì˜ì† ì—”í‹°í‹° ì¡°íšŒ
Member memberA = em.find(Member.class, "memberA");

// ì˜ì† ì—”í‹°í‹° ë°ì´í„° ìˆ˜ì •
memberA.setUsername("hi");
memberA.setAge(10);

// em.update(member)ì™€ ê°™ì€ ì½”ë“œ ì‚¬ìš© X

transaction.commit(); // [íŠ¸ëœì­ì…˜] ì»¤ë°‹
```

1. ë³€ê²½ ê°ì§€ (Dirty Checking)
<div align="center">
<img src="https://github.com/user-attachments/assets/ae27035c-cd1b-462c-95e7-5e061ba8737a">
</div>

  - JPAëŠ” ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ëŠ” ì‹œì ì— flush() í˜¸ì¶œ
  - ğŸ’¡ ì—”í‹°í‹°ì™€ ìŠ¤ëƒ…ìƒ·ì„ ë¹„êµ
    + ğŸ’¡ 1ì°¨ ìºì‹œì—ëŠ” PK, Entity, ìŠ¤ëƒ…ìƒ· ì¡´ì¬
    + ğŸ’¡ ìŠ¤ëƒ…ìƒ·ì´ë€, ê°’ì„ ì½ì–´ì˜¨ ìµœì´ˆ ì‹œì ì˜ ìƒíƒœë¥¼ ì €ì¥í•˜ëŠ” ê°ì²´
    + ğŸ’¡ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë˜ëŠ” ì‹œì (flush() í˜¸ì¶œ)ì—, Entityì™€ ìŠ¤ëƒ…ìƒ·ì„ ëª¨ë‘ ë¹„êµ
  - Entityì™€ ìŠ¤ëƒ…ìƒ·ì„ ë¹„êµí•˜ì—¬ ê°’ì´ ë³€ê²½ë˜ì—ˆë‹¤ë©´, UPDATE SQLì„ ìƒì„±í•˜ì—¬ ì“°ê¸° ì§€ì—° SQL ì €ì¥ì†Œì— ì €ì¥
  - UPDATE SQLë“¤ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜ (flush())í•œ í›„, DBì— COMMIT

2. ì˜ˆì œ
```java
package hellojpa;

import jakarta.persistence.EntityManager;
import jakarta.persistence.EntityManagerFactory;
import jakarta.persistence.EntityTransaction;
import jakarta.persistence.Persistence;

public class JpaMain {
    public static void main(String[] args) {
        EntityManagerFactory emf = Persistence.createEntityManagerFactory("hello");
        EntityManager em = emf.createEntityManager();

        EntityTransaction tx = em.getTransaction(); // íŠ¸ëœì­ì…˜
        tx.begin(); // íŠ¸ëœì­ì…˜ ì‹œì‘

        // ì—”í‹°í‹° ìˆ˜ì • - ë³€ê²½ ê°ì§€ (Dirty Checking)
        try {
            Member findMember = em.find(Member.class, 150L);

            findMember.setName("ZZZZZ");// ê°’ ë³€ê²½
            System.out.println("=======");
            // em.persist(findMember); // ğŸ’¡ âŒ

            tx.commit(); // COMMIT ì‹œì ì— UPDATE SQL ì‹¤í–‰
        } catch (Exception e) {
            tx.rollback();
        } finally {
            em.close();
        }
        emf.close();
    }
}
```

  - ì‹¤í–‰ ë¡œê·¸ : ğŸ’¡ COMMIT ì‹œì ì— UPDATE SQL ì‹¤í–‰
```
Hibernate: 
    select
        m1_0.id,
        m1_0.name 
    from
        Member m1_0 
    where
        m1_0.id=?
=======
Hibernate: 
    /* update
        for hellojpa.Member */update Member 
    set
        name=? 
    where
        id=?
```

-----
### ì—”í‹°í‹° ì‚­ì œ
-----
```java
// ì‚­ì œ ëŒ€ìƒ ì—”í‹°í‹° ì¡°íšŒ
Member memberA = em.find(Member.class, "memberA");

em.remove(memberA); // ì—”í‹°í‹° ì‚­ì œ
```
