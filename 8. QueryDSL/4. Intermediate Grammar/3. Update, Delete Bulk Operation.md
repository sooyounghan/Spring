-----
### ìˆ˜ì •, ì‚­ì œ ë²Œí¬ ì—°ì‚°
-----
1. ì¿¼ë¦¬ í•œ ë²ˆìœ¼ë¡œ ëŒ€ëŸ‰ ë°ì´í„° ìˆ˜ì •
```java
@Test
public void bulkUpdate() {
    // count : ìˆ˜ì •ëœ í–‰ì˜ ìˆ˜ = 2
    // member1 = 10 -> ë¹„íšŒì› (DB) / ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ = 10
    // member2 = 20 -> ë¹„íšŒì› (DB) / ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ = 20
    // member3 = 30 -> ìœ ì§€ (DB) / ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ = 30
    // member4 = 40 -> ìœ ì§€ (DB) / ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ = 40
    long count = queryFactory.update(member)
            .set(member.username, "ë¹„íšŒì›")
            .where(member.age.lt(28))
            .execute();

    System.out.println("count = " + count);
}
```
```
count = 2
```

2. ê¸°ì¡´ ìˆ«ìì— 1 ë”í•˜ê¸°
```java
@Test
public void bulkAdd() {
    long count = queryFactory.update(member)
            .set(member.age, member.age.add(1)) // ë¹¼ëŠ” ê²½ìš° add(-1)
            .execute();

    System.out.println("count = " + count);
}
```
```
/* update
    Member member1 
set
    member1.age = member1.age + ?1 */

update
    member m1_0 
set
    age=(m1_0.age+cast(? as integer))
```
  - ê³±í•˜ê¸° : muiltiply(x)

```java
@Test
public void bulkMultiply() {
    long count = queryFactory.update(member)
            .set(member.age, member.age.multiply(2)) // ë‚˜ëˆ„ëŠ” ê²½ìš° ì†Œìˆ˜ì 
            .execute();

    System.out.println("count = " + count);
}
```

3. ì¿¼ë¦¬ í•œ ë²ˆìœ¼ë¡œ ëŒ€ëŸ‰ ë°ì´í„° ì‚­ì œ
```java
@Test
public void bulkDelete() {
    long count = queryFactory.delete(member)
            .where(member.age.gt(18))
            .execute();

    System.out.println("count = " + count);
}
```
```
count = 3
```

4. ğŸ’¡ğŸ’¡ğŸ’¡ ì£¼ì˜ : JPQL ë°°ì¹˜ì™€ ë§ˆì°¬ê°€ì§€ë¡œ, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìˆëŠ” ì—”í‹°í‹°ë¥¼ ë¬´ì‹œí•˜ê³  ì‹¤í–‰ (DBì— ë°”ë¡œ ì¿¼ë¦¬ ë°˜ì˜)
   - ğŸ’¡ğŸ’¡ğŸ’¡ ë”°ë¼ì„œ, ë°°ì¹˜ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê³  ë‚˜ë©´, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ê²ƒì´ ì•ˆì „
```java
@Test
public void bulkUpdate() {
    // count : ìˆ˜ì •ëœ í–‰ì˜ ìˆ˜ = 2
    // member1 = 10 -> ë¹„íšŒì› (DB) / ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ = 10
    // member2 = 20 -> ë¹„íšŒì› (DB) / ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ = 20
    // member3 = 30 -> ìœ ì§€ (DB) / ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ = 30
    // member4 = 40 -> ìœ ì§€ (DB) / ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ = 40
    long count = queryFactory.update(member)
            .set(member.username, "ë¹„íšŒì›")
            .where(member.age.lt(28))
            .execute();

    System.out.println("count = " + count);

    em.flush(); 
    em.clear(); // ğŸ’¡ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™”

    List<Member> result = queryFactory.selectFrom(member)
                                      .fetch(); // DBê°’ì„ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë°˜ì˜

    // member1 = 10 -> ë¹„íšŒì› (DB) / ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ = ë¹„íšŒì›
    // member2 = 20 -> ë¹„íšŒì› (DB) / ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ = ë¹„íšŒì›
    // member3 = 30 -> ìœ ì§€ (DB) / ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ = 30
    // member4 = 40 -> ìœ ì§€ (DB) / ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ = 40
    for(Member member1 : result) {
        System.out.println("member1 = " + member1);
    }
}
```
